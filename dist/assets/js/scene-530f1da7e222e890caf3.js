/*! For license information please see scene-530f1da7e222e890caf3.js.LICENSE.txt */
!function(){var e,t,n,r,a,i={17967:function(e,t){"use strict";t.N=void 0;var n=/^([^\w]*)(javascript|data|vbscript)/im,r=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,a=/^([^:]+):/gm,i=[".","/"];t.N=function(e){if(!e)return"about:blank";var t=e.replace(r,"").trim();if(function(e){return i.indexOf(e[0])>-1}(t))return t;var o=t.match(a);if(!o)return t;var s=o[0];return n.test(s)?"about:blank":t}},89097:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUnicodeLanguageSubtag=t.isUnicodeScriptSubtag=t.isUnicodeRegionSubtag=t.isStructurallyValidLanguageTag=t.parseUnicodeLanguageId=t.parseUnicodeLocaleId=t.getCanonicalLocales=void 0;var r=n(70655),a=n(18371),i=n(60825),o=n(69391);t.getCanonicalLocales=function(e){return function(e){if(void 0===e)return[];var t=[];"string"==typeof e&&(e=[e]);for(var n=0,r=e;n<r.length;n++){var s=r[n],l=(0,i.emitUnicodeLocaleId)((0,o.canonicalizeUnicodeLocaleId)((0,a.parseUnicodeLocaleId)(s)));t.indexOf(l)<0&&t.push(l)}return t}(e)};var s=n(18371);Object.defineProperty(t,"parseUnicodeLocaleId",{enumerable:!0,get:function(){return s.parseUnicodeLocaleId}}),Object.defineProperty(t,"parseUnicodeLanguageId",{enumerable:!0,get:function(){return s.parseUnicodeLanguageId}}),Object.defineProperty(t,"isStructurallyValidLanguageTag",{enumerable:!0,get:function(){return s.isStructurallyValidLanguageTag}}),Object.defineProperty(t,"isUnicodeRegionSubtag",{enumerable:!0,get:function(){return s.isUnicodeRegionSubtag}}),Object.defineProperty(t,"isUnicodeScriptSubtag",{enumerable:!0,get:function(){return s.isUnicodeScriptSubtag}}),Object.defineProperty(t,"isUnicodeLanguageSubtag",{enumerable:!0,get:function(){return s.isUnicodeLanguageSubtag}}),(0,r.__exportStar)(n(539),t),(0,r.__exportStar)(n(60825),t),(0,r.__exportStar)(n(43020),t)},22263:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.variantAlias=t.scriptAlias=t.territoryAlias=t.languageAlias=void 0,t.languageAlias={"aa-saaho":"ssy",aam:"aas",aar:"aa",abk:"ab",adp:"dz",afr:"af",agp:"apf",ais:"ami",aju:"jrb",aka:"ak",alb:"sq",als:"sq",amh:"am",ara:"ar",arb:"ar",arg:"an",arm:"hy","art-lojban":"jbo",asd:"snz",asm:"as",aue:"ktz",ava:"av",ave:"ae",aym:"ay",ayr:"ay",ayx:"nun",aze:"az",azj:"az",bak:"ba",bam:"bm",baq:"eu",baz:"nvo",bcc:"bal",bcl:"bik",bel:"be",ben:"bn",bgm:"bcg",bh:"bho",bhk:"fbl",bic:"bir",bih:"bho",bis:"bi",bjd:"drl",bjq:"bzc",bkb:"ebk",blg:"iba",bod:"bo",bos:"bs",bre:"br",btb:"beb",bul:"bg",bur:"my",bxk:"luy",bxr:"bua",cat:"ca",ccq:"rki","cel-gaulish":"xtg",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cjr:"mom",cka:"cmr",cld:"syr",cmk:"xch",cmn:"zh",cnr:"sr-ME",cor:"kw",cos:"co",coy:"pij",cqu:"quh",cre:"cr",cwd:"cr",cym:"cy",cze:"cs",daf:"dnj",dan:"da",dap:"njz",deu:"de",dgo:"doi",dhd:"mwr",dik:"din",diq:"zza",dit:"dif",div:"dv",djl:"dze",dkl:"aqd",drh:"mn",drr:"kzk",drw:"fa-AF",dud:"uth",duj:"dwu",dut:"nl",dwl:"dbt",dzo:"dz",ekk:"et",ell:"el",elp:"amq",emk:"man","en-GB-oed":"en-GB-oxendict",eng:"en",epo:"eo",esk:"ik",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fat:"ak",fij:"fj",fin:"fi",fra:"fr",fre:"fr",fry:"fy",fuc:"ff",ful:"ff",gav:"dev",gaz:"om",gbc:"wny",gbo:"grb",geo:"ka",ger:"de",gfx:"vaj",ggn:"gvr",ggo:"esg",ggr:"gtu",gio:"aou",gla:"gd",gle:"ga",glg:"gl",gli:"kzk",glv:"gv",gno:"gon",gre:"el",grn:"gn",gti:"nyc",gug:"gn",guj:"gu",guv:"duz",gya:"gba",hat:"ht",hau:"ha",hbs:"sr-Latn",hdn:"hai",hea:"hmn",heb:"he",her:"hz",him:"srx",hin:"hi",hmo:"ho",hrr:"jal",hrv:"hr",hun:"hu","hy-arevmda":"hyw",hye:"hy","i-ami":"ami","i-bnn":"bnn","i-default":"en-x-i-default","i-enochian":"und-x-i-enochian","i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":"see-x-i-mingo","i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu",ibi:"opa",ibo:"ig",ice:"is",ido:"io",iii:"ii",ike:"iu",iku:"iu",ile:"ie",ill:"ilm",ilw:"gal",in:"id",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",iw:"he",izi:"eza",jar:"jgk",jav:"jv",jeg:"oyb",ji:"yi",jpn:"ja",jw:"jv",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",kdv:"zkd",kgc:"tdf",kgd:"ncq",kgh:"kml",khk:"mn",khm:"km",kik:"ki",kin:"rw",kir:"ky",kmr:"ku",knc:"kr",kng:"kg",knn:"kok",koj:"kwv",kom:"kv",kon:"kg",kor:"ko",kpp:"jkm",kpv:"kv",krm:"bmf",ktr:"dtp",kua:"kj",kur:"ku",kvs:"gdj",kwq:"yam",kxe:"tvd",kxl:"kru",kzh:"dgl",kzj:"dtp",kzt:"dtp",lao:"lo",lat:"la",lav:"lv",lbk:"bnc",leg:"enl",lii:"raq",lim:"li",lin:"ln",lit:"lt",llo:"ngt",lmm:"rmx",ltz:"lb",lub:"lu",lug:"lg",lvs:"lv",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",meg:"cir",mgx:"jbk",mhr:"chm",mkd:"mk",mlg:"mg",mlt:"mt",mnk:"man",mnt:"wnn",mo:"ro",mof:"xnt",mol:"ro",mon:"mn",mri:"mi",msa:"ms",mst:"mry",mup:"raj",mwd:"dmw",mwj:"vaj",mya:"my",myd:"aog",myt:"mry",nad:"xny",nau:"na",nav:"nv",nbf:"nru",nbl:"nr",nbx:"ekc",ncp:"kdz",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nln:"azd",nlr:"nrk",nno:"nn",nns:"nbr",nnx:"ngv","no-bok":"nb","no-bokmal":"nb","no-nyn":"nn","no-nynorsk":"nn",nob:"nb",noo:"dtd",nor:"no",npi:"ne",nts:"pij",nxu:"bpp",nya:"ny",oci:"oc",ojg:"oj",oji:"oj",ori:"or",orm:"om",ory:"or",oss:"os",oun:"vaj",pan:"pa",pat:"kxr",pbu:"ps",pcr:"adx",per:"fa",pes:"fa",pli:"pi",plt:"mg",pmc:"huw",pmu:"phr",pnb:"lah",pol:"pl",por:"pt",ppa:"bfy",ppr:"lcq",prs:"fa-AF",pry:"prt",pus:"ps",puz:"pub",que:"qu",quz:"qu",rmr:"emx",rmy:"rom",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sap:"aqt",sca:"hle",scc:"sr",scr:"hr",sgl:"isk","sgn-BE-FR":"sfb","sgn-BE-NL":"vgt","sgn-BR":"bzs","sgn-CH-DE":"sgg","sgn-CO":"csn","sgn-DE":"gsg","sgn-DK":"dsl","sgn-ES":"ssp","sgn-FR":"fsl","sgn-GB":"bfi","sgn-GR":"gss","sgn-IE":"isg","sgn-IT":"ise","sgn-JP":"jsl","sgn-MX":"mfs","sgn-NI":"ncs","sgn-NL":"dse","sgn-NO":"nsi","sgn-PT":"psr","sgn-SE":"swl","sgn-US":"ase","sgn-ZA":"sfs",sh:"sr-Latn",sin:"si",skk:"oyb",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",spy:"kln",sqi:"sq",src:"sc",srd:"sc",srp:"sr",ssw:"ss",sul:"sgd",sum:"ulw",sun:"su",swa:"sw",swc:"sw-CD",swe:"sv",swh:"sw",tah:"ty",tam:"ta",tat:"tt",tdu:"dtp",tel:"te",tgg:"bjp",tgk:"tg",tgl:"fil",tha:"th",thc:"tpo",thw:"ola",thx:"oyb",tib:"bo",tid:"itd",tie:"ras",tir:"ti",tkk:"twm",tl:"fil",tlw:"weo",tmp:"tyj",tne:"kak",tnf:"fa-AF",ton:"to",tsf:"taj",tsn:"tn",tso:"ts",ttq:"tmh",tuk:"tk",tur:"tr",tw:"ak",twi:"ak",uig:"ug",ukr:"uk",umu:"del","und-aaland":"und-AX","und-arevela":"und","und-arevmda":"und","und-bokmal":"und","und-hakka":"und","und-hepburn-heploc":"und-alalc97","und-lojban":"und","und-nynorsk":"und","und-saaho":"und","und-xiang":"und",unp:"wro",uok:"ema",urd:"ur",uzb:"uz",uzn:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wgw:"wgb",wit:"nol",wiw:"nwo",wln:"wa",wol:"wo",xba:"cax",xho:"xh",xia:"acn",xkh:"waw",xpe:"kpe",xrq:"dmw",xsj:"suj",xsl:"den",ybd:"rki",ydd:"yi",yen:"ynq",yid:"yi",yiy:"yrm",yma:"lrr",ymt:"mtm",yor:"yo",yos:"zom",yuu:"yug",zai:"zap","zh-cmn":"zh","zh-cmn-Hans":"zh-Hans","zh-cmn-Hant":"zh-Hant","zh-gan":"gan","zh-guoyu":"zh","zh-hakka":"hak","zh-min":"nan-x-zh-min","zh-min-nan":"nan","zh-wuu":"wuu","zh-xiang":"hsn","zh-yue":"yue",zha:"za",zho:"zh",zir:"scv",zsm:"ms",zul:"zu",zyb:"za"},t.territoryAlias={100:"BG",104:"MM",108:"BI",112:"BY",116:"KH",120:"CM",124:"CA",132:"CV",136:"KY",140:"CF",144:"LK",148:"TD",152:"CL",156:"CN",158:"TW",162:"CX",166:"CC",170:"CO",172:"RU AM AZ BY GE KG KZ MD TJ TM UA UZ",174:"KM",175:"YT",178:"CG",180:"CD",184:"CK",188:"CR",191:"HR",192:"CU",196:"CY",200:"CZ SK",203:"CZ",204:"BJ",208:"DK",212:"DM",214:"DO",218:"EC",222:"SV",226:"GQ",230:"ET",231:"ET",232:"ER",233:"EE",234:"FO",238:"FK",239:"GS",242:"FJ",246:"FI",248:"AX",249:"FR",250:"FR",254:"GF",258:"PF",260:"TF",262:"DJ",266:"GA",268:"GE",270:"GM",275:"PS",276:"DE",278:"DE",280:"DE",288:"GH",292:"GI",296:"KI",300:"GR",304:"GL",308:"GD",312:"GP",316:"GU",320:"GT",324:"GN",328:"GY",332:"HT",334:"HM",336:"VA",340:"HN",344:"HK",348:"HU",352:"IS",356:"IN",360:"ID",364:"IR",368:"IQ",372:"IE",376:"IL",380:"IT",384:"CI",388:"JM",392:"JP",398:"KZ",400:"JO",404:"KE",408:"KP",410:"KR",414:"KW",417:"KG",418:"LA",422:"LB",426:"LS",428:"LV",430:"LR",434:"LY",438:"LI",440:"LT",442:"LU",446:"MO",450:"MG",454:"MW",458:"MY",462:"MV",466:"ML",470:"MT",474:"MQ",478:"MR",480:"MU",484:"MX",492:"MC",496:"MN",498:"MD",499:"ME",500:"MS",504:"MA",508:"MZ",512:"OM",516:"NA",520:"NR",524:"NP",528:"NL",530:"CW SX BQ",531:"CW",532:"CW SX BQ",533:"AW",534:"SX",535:"BQ",536:"SA IQ",540:"NC",548:"VU",554:"NZ",558:"NI",562:"NE",566:"NG",570:"NU",574:"NF",578:"NO",580:"MP",581:"UM",582:"FM MH MP PW",583:"FM",584:"MH",585:"PW",586:"PK",591:"PA",598:"PG",600:"PY",604:"PE",608:"PH",612:"PN",616:"PL",620:"PT",624:"GW",626:"TL",630:"PR",634:"QA",638:"RE",642:"RO",643:"RU",646:"RW",652:"BL",654:"SH",659:"KN",660:"AI",662:"LC",663:"MF",666:"PM",670:"VC",674:"SM",678:"ST",682:"SA",686:"SN",688:"RS",690:"SC",694:"SL",702:"SG",703:"SK",704:"VN",705:"SI",706:"SO",710:"ZA",716:"ZW",720:"YE",724:"ES",728:"SS",729:"SD",732:"EH",736:"SD",740:"SR",744:"SJ",748:"SZ",752:"SE",756:"CH",760:"SY",762:"TJ",764:"TH",768:"TG",772:"TK",776:"TO",780:"TT",784:"AE",788:"TN",792:"TR",795:"TM",796:"TC",798:"TV",800:"UG",804:"UA",807:"MK",810:"RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ",818:"EG",826:"GB",830:"JE GG",831:"GG",832:"JE",833:"IM",834:"TZ",840:"US",850:"VI",854:"BF",858:"UY",860:"UZ",862:"VE",876:"WF",882:"WS",886:"YE",887:"YE",890:"RS ME SI HR MK BA",891:"RS ME",894:"ZM",958:"AA",959:"QM",960:"QN",962:"QP",963:"QQ",964:"QR",965:"QS",966:"QT",967:"EU",968:"QV",969:"QW",970:"QX",971:"QY",972:"QZ",973:"XA",974:"XB",975:"XC",976:"XD",977:"XE",978:"XF",979:"XG",980:"XH",981:"XI",982:"XJ",983:"XK",984:"XL",985:"XM",986:"XN",987:"XO",988:"XP",989:"XQ",990:"XR",991:"XS",992:"XT",993:"XU",994:"XV",995:"XW",996:"XX",997:"XY",998:"XZ",999:"ZZ","004":"AF","008":"AL","010":"AQ","012":"DZ","016":"AS","020":"AD","024":"AO","028":"AG","031":"AZ","032":"AR","036":"AU","040":"AT","044":"BS","048":"BH","050":"BD","051":"AM","052":"BB","056":"BE","060":"BM","062":"034 143","064":"BT","068":"BO","070":"BA","072":"BW","074":"BV","076":"BR","084":"BZ","086":"IO","090":"SB","092":"VG","096":"BN",AAA:"AA",ABW:"AW",AFG:"AF",AGO:"AO",AIA:"AI",ALA:"AX",ALB:"AL",AN:"CW SX BQ",AND:"AD",ANT:"CW SX BQ",ARE:"AE",ARG:"AR",ARM:"AM",ASC:"AC",ASM:"AS",ATA:"AQ",ATF:"TF",ATG:"AG",AUS:"AU",AUT:"AT",AZE:"AZ",BDI:"BI",BEL:"BE",BEN:"BJ",BES:"BQ",BFA:"BF",BGD:"BD",BGR:"BG",BHR:"BH",BHS:"BS",BIH:"BA",BLM:"BL",BLR:"BY",BLZ:"BZ",BMU:"BM",BOL:"BO",BRA:"BR",BRB:"BB",BRN:"BN",BTN:"BT",BU:"MM",BUR:"MM",BVT:"BV",BWA:"BW",CAF:"CF",CAN:"CA",CCK:"CC",CHE:"CH",CHL:"CL",CHN:"CN",CIV:"CI",CMR:"CM",COD:"CD",COG:"CG",COK:"CK",COL:"CO",COM:"KM",CPT:"CP",CPV:"CV",CRI:"CR",CS:"RS ME",CT:"KI",CUB:"CU",CUW:"CW",CXR:"CX",CYM:"KY",CYP:"CY",CZE:"CZ",DD:"DE",DDR:"DE",DEU:"DE",DGA:"DG",DJI:"DJ",DMA:"DM",DNK:"DK",DOM:"DO",DY:"BJ",DZA:"DZ",ECU:"EC",EGY:"EG",ERI:"ER",ESH:"EH",ESP:"ES",EST:"EE",ETH:"ET",FIN:"FI",FJI:"FJ",FLK:"FK",FQ:"AQ TF",FRA:"FR",FRO:"FO",FSM:"FM",FX:"FR",FXX:"FR",GAB:"GA",GBR:"GB",GEO:"GE",GGY:"GG",GHA:"GH",GIB:"GI",GIN:"GN",GLP:"GP",GMB:"GM",GNB:"GW",GNQ:"GQ",GRC:"GR",GRD:"GD",GRL:"GL",GTM:"GT",GUF:"GF",GUM:"GU",GUY:"GY",HKG:"HK",HMD:"HM",HND:"HN",HRV:"HR",HTI:"HT",HUN:"HU",HV:"BF",IDN:"ID",IMN:"IM",IND:"IN",IOT:"IO",IRL:"IE",IRN:"IR",IRQ:"IQ",ISL:"IS",ISR:"IL",ITA:"IT",JAM:"JM",JEY:"JE",JOR:"JO",JPN:"JP",JT:"UM",KAZ:"KZ",KEN:"KE",KGZ:"KG",KHM:"KH",KIR:"KI",KNA:"KN",KOR:"KR",KWT:"KW",LAO:"LA",LBN:"LB",LBR:"LR",LBY:"LY",LCA:"LC",LIE:"LI",LKA:"LK",LSO:"LS",LTU:"LT",LUX:"LU",LVA:"LV",MAC:"MO",MAF:"MF",MAR:"MA",MCO:"MC",MDA:"MD",MDG:"MG",MDV:"MV",MEX:"MX",MHL:"MH",MI:"UM",MKD:"MK",MLI:"ML",MLT:"MT",MMR:"MM",MNE:"ME",MNG:"MN",MNP:"MP",MOZ:"MZ",MRT:"MR",MSR:"MS",MTQ:"MQ",MUS:"MU",MWI:"MW",MYS:"MY",MYT:"YT",NAM:"NA",NCL:"NC",NER:"NE",NFK:"NF",NGA:"NG",NH:"VU",NIC:"NI",NIU:"NU",NLD:"NL",NOR:"NO",NPL:"NP",NQ:"AQ",NRU:"NR",NT:"SA IQ",NTZ:"SA IQ",NZL:"NZ",OMN:"OM",PAK:"PK",PAN:"PA",PC:"FM MH MP PW",PCN:"PN",PER:"PE",PHL:"PH",PLW:"PW",PNG:"PG",POL:"PL",PRI:"PR",PRK:"KP",PRT:"PT",PRY:"PY",PSE:"PS",PU:"UM",PYF:"PF",PZ:"PA",QAT:"QA",QMM:"QM",QNN:"QN",QPP:"QP",QQQ:"QQ",QRR:"QR",QSS:"QS",QTT:"QT",QU:"EU",QUU:"EU",QVV:"QV",QWW:"QW",QXX:"QX",QYY:"QY",QZZ:"QZ",REU:"RE",RH:"ZW",ROU:"RO",RUS:"RU",RWA:"RW",SAU:"SA",SCG:"RS ME",SDN:"SD",SEN:"SN",SGP:"SG",SGS:"GS",SHN:"SH",SJM:"SJ",SLB:"SB",SLE:"SL",SLV:"SV",SMR:"SM",SOM:"SO",SPM:"PM",SRB:"RS",SSD:"SS",STP:"ST",SU:"RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ",SUN:"RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ",SUR:"SR",SVK:"SK",SVN:"SI",SWE:"SE",SWZ:"SZ",SXM:"SX",SYC:"SC",SYR:"SY",TAA:"TA",TCA:"TC",TCD:"TD",TGO:"TG",THA:"TH",TJK:"TJ",TKL:"TK",TKM:"TM",TLS:"TL",TMP:"TL",TON:"TO",TP:"TL",TTO:"TT",TUN:"TN",TUR:"TR",TUV:"TV",TWN:"TW",TZA:"TZ",UGA:"UG",UK:"GB",UKR:"UA",UMI:"UM",URY:"UY",USA:"US",UZB:"UZ",VAT:"VA",VCT:"VC",VD:"VN",VEN:"VE",VGB:"VG",VIR:"VI",VNM:"VN",VUT:"VU",WK:"UM",WLF:"WF",WSM:"WS",XAA:"XA",XBB:"XB",XCC:"XC",XDD:"XD",XEE:"XE",XFF:"XF",XGG:"XG",XHH:"XH",XII:"XI",XJJ:"XJ",XKK:"XK",XLL:"XL",XMM:"XM",XNN:"XN",XOO:"XO",XPP:"XP",XQQ:"XQ",XRR:"XR",XSS:"XS",XTT:"XT",XUU:"XU",XVV:"XV",XWW:"XW",XXX:"XX",XYY:"XY",XZZ:"XZ",YD:"YE",YEM:"YE",YMD:"YE",YU:"RS ME",YUG:"RS ME",ZAF:"ZA",ZAR:"CD",ZMB:"ZM",ZR:"CD",ZWE:"ZW",ZZZ:"ZZ"},t.scriptAlias={Qaai:"Zinh"},t.variantAlias={heploc:"alalc97",polytoni:"polyton"}},69391:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canonicalizeUnicodeLocaleId=t.canonicalizeUnicodeLanguageId=void 0;var r=n(70655),a=n(22263),i=n(18371),o=n(43020),s=n(60825);function l(e){for(var t={},n=[],r=0,a=e;r<a.length;r++){var i=a[r];i[0]in t||(t[i[0]]=1,i[1]&&"true"!==i[1]?n.push([i[0].toLowerCase(),i[1].toLowerCase()]):n.push([i[0].toLowerCase()]))}return n.sort(u)}function u(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}function c(e,t){return e.type<t.type?-1:e.type>t.type?1:0}function d(e,t){for(var n=(0,r.__spreadArray)([],e,!0),a=0,i=t;a<i.length;a++){var o=i[a];e.indexOf(o)<0&&n.push(o)}return n}function h(e){var t=e;if(e.variants.length)for(var n="",r=0,l=e.variants;r<l.length;r++){var u=l[r];if(n=a.languageAlias[(0,s.emitUnicodeLanguageId)({lang:e.lang,variants:[u]})]){t={lang:(f=(0,i.parseUnicodeLanguageId)(n.split(i.SEPARATOR))).lang,script:t.script||f.script,region:t.region||f.region,variants:d(t.variants,f.variants)};break}}if(t.script&&t.region){var c=a.languageAlias[(0,s.emitUnicodeLanguageId)({lang:t.lang,script:t.script,region:t.region,variants:[]})];c&&(t={lang:(f=(0,i.parseUnicodeLanguageId)(c.split(i.SEPARATOR))).lang,script:f.script,region:f.region,variants:t.variants})}if(t.region){var h=a.languageAlias[(0,s.emitUnicodeLanguageId)({lang:t.lang,region:t.region,variants:[]})];h&&(t={lang:(f=(0,i.parseUnicodeLanguageId)(h.split(i.SEPARATOR))).lang,script:t.script||f.script,region:f.region,variants:t.variants})}var f,p=a.languageAlias[(0,s.emitUnicodeLanguageId)({lang:t.lang,variants:[]})];if(p&&(t={lang:(f=(0,i.parseUnicodeLanguageId)(p.split(i.SEPARATOR))).lang,script:t.script||f.script,region:t.region||f.region,variants:t.variants}),t.region){var m=t.region.toUpperCase(),g=a.territoryAlias[m],v=void 0;if(g){var y=g.split(" ");v=y[0];var b=o.likelySubtags[(0,s.emitUnicodeLanguageId)({lang:t.lang,script:t.script,variants:[]})];if(b){var w=(0,i.parseUnicodeLanguageId)(b.split(i.SEPARATOR)).region;w&&y.indexOf(w)>-1&&(v=w)}}v&&(t.region=v),t.region=t.region.toUpperCase()}if(t.script&&(t.script=t.script[0].toUpperCase()+t.script.slice(1).toLowerCase(),a.scriptAlias[t.script]&&(t.script=a.scriptAlias[t.script])),t.variants.length){for(var x=0;x<t.variants.length;x++)if(u=t.variants[x].toLowerCase(),a.variantAlias[u]){var L=a.variantAlias[u];(0,i.isUnicodeVariantSubtag)(L)?t.variants[x]=L:(0,i.isUnicodeLanguageSubtag)(L)&&(t.lang=L)}t.variants.sort()}return t}t.canonicalizeUnicodeLanguageId=h,t.canonicalizeUnicodeLocaleId=function(e){if(e.lang=h(e.lang),e.extensions){for(var t=0,n=e.extensions;t<n.length;t++){var r=n[t];switch(r.type){case"u":r.keywords=l(r.keywords),r.attributes&&(r.attributes=(a=r.attributes,Object.keys(a.reduce((function(e,t){return e[t.toLowerCase()]=1,e}),{})).sort()));break;case"t":r.lang&&(r.lang=h(r.lang)),r.fields=l(r.fields);break;default:r.value=r.value.toLowerCase()}}e.extensions.sort(c)}var a;return e}},60825:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emitUnicodeLocaleId=t.emitUnicodeLanguageId=void 0;var r=n(70655);function a(e){return e?(0,r.__spreadArray)([e.lang,e.script,e.region],e.variants||[],!0).filter(Boolean).join("-"):""}t.emitUnicodeLanguageId=a,t.emitUnicodeLocaleId=function(e){for(var t=e.lang,n=e.extensions,i=[a(t)],o=0,s=n;o<s.length;o++){var l=s[o];switch(i.push(l.type),l.type){case"u":i.push.apply(i,(0,r.__spreadArray)((0,r.__spreadArray)([],l.attributes,!1),l.keywords.reduce((function(e,t){return e.concat(t)}),[]),!1));break;case"t":i.push.apply(i,(0,r.__spreadArray)([a(l.lang)],l.fields.reduce((function(e,t){return e.concat(t)}),[]),!1));break;default:i.push(l.value)}}return i.filter(Boolean).join("-")}},43020:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.likelySubtags=void 0,t.likelySubtags={aa:"aa-Latn-ET",aai:"aai-Latn-ZZ",aak:"aak-Latn-ZZ",aau:"aau-Latn-ZZ",ab:"ab-Cyrl-GE",abi:"abi-Latn-ZZ",abq:"abq-Cyrl-ZZ",abr:"abr-Latn-GH",abt:"abt-Latn-ZZ",aby:"aby-Latn-ZZ",acd:"acd-Latn-ZZ",ace:"ace-Latn-ID",ach:"ach-Latn-UG",ada:"ada-Latn-GH",ade:"ade-Latn-ZZ",adj:"adj-Latn-ZZ",adp:"adp-Tibt-BT",ady:"ady-Cyrl-RU",adz:"adz-Latn-ZZ",ae:"ae-Avst-IR",aeb:"aeb-Arab-TN",aey:"aey-Latn-ZZ",af:"af-Latn-ZA",agc:"agc-Latn-ZZ",agd:"agd-Latn-ZZ",agg:"agg-Latn-ZZ",agm:"agm-Latn-ZZ",ago:"ago-Latn-ZZ",agq:"agq-Latn-CM",aha:"aha-Latn-ZZ",ahl:"ahl-Latn-ZZ",aho:"aho-Ahom-IN",ajg:"ajg-Latn-ZZ",ak:"ak-Latn-GH",akk:"akk-Xsux-IQ",ala:"ala-Latn-ZZ",ali:"ali-Latn-ZZ",aln:"aln-Latn-XK",alt:"alt-Cyrl-RU",am:"am-Ethi-ET",amm:"amm-Latn-ZZ",amn:"amn-Latn-ZZ",amo:"amo-Latn-NG",amp:"amp-Latn-ZZ",an:"an-Latn-ES",anc:"anc-Latn-ZZ",ank:"ank-Latn-ZZ",ann:"ann-Latn-ZZ",any:"any-Latn-ZZ",aoj:"aoj-Latn-ZZ",aom:"aom-Latn-ZZ",aoz:"aoz-Latn-ID",apc:"apc-Arab-ZZ",apd:"apd-Arab-TG",ape:"ape-Latn-ZZ",apr:"apr-Latn-ZZ",aps:"aps-Latn-ZZ",apz:"apz-Latn-ZZ",ar:"ar-Arab-EG",arc:"arc-Armi-IR","arc-Nbat":"arc-Nbat-JO","arc-Palm":"arc-Palm-SY",arh:"arh-Latn-ZZ",arn:"arn-Latn-CL",aro:"aro-Latn-BO",arq:"arq-Arab-DZ",ars:"ars-Arab-SA",ary:"ary-Arab-MA",arz:"arz-Arab-EG",as:"as-Beng-IN",asa:"asa-Latn-TZ",ase:"ase-Sgnw-US",asg:"asg-Latn-ZZ",aso:"aso-Latn-ZZ",ast:"ast-Latn-ES",ata:"ata-Latn-ZZ",atg:"atg-Latn-ZZ",atj:"atj-Latn-CA",auy:"auy-Latn-ZZ",av:"av-Cyrl-RU",avl:"avl-Arab-ZZ",avn:"avn-Latn-ZZ",avt:"avt-Latn-ZZ",avu:"avu-Latn-ZZ",awa:"awa-Deva-IN",awb:"awb-Latn-ZZ",awo:"awo-Latn-ZZ",awx:"awx-Latn-ZZ",ay:"ay-Latn-BO",ayb:"ayb-Latn-ZZ",az:"az-Latn-AZ","az-Arab":"az-Arab-IR","az-IQ":"az-Arab-IQ","az-IR":"az-Arab-IR","az-RU":"az-Cyrl-RU",ba:"ba-Cyrl-RU",bal:"bal-Arab-PK",ban:"ban-Latn-ID",bap:"bap-Deva-NP",bar:"bar-Latn-AT",bas:"bas-Latn-CM",bav:"bav-Latn-ZZ",bax:"bax-Bamu-CM",bba:"bba-Latn-ZZ",bbb:"bbb-Latn-ZZ",bbc:"bbc-Latn-ID",bbd:"bbd-Latn-ZZ",bbj:"bbj-Latn-CM",bbp:"bbp-Latn-ZZ",bbr:"bbr-Latn-ZZ",bcf:"bcf-Latn-ZZ",bch:"bch-Latn-ZZ",bci:"bci-Latn-CI",bcm:"bcm-Latn-ZZ",bcn:"bcn-Latn-ZZ",bco:"bco-Latn-ZZ",bcq:"bcq-Ethi-ZZ",bcu:"bcu-Latn-ZZ",bdd:"bdd-Latn-ZZ",be:"be-Cyrl-BY",bef:"bef-Latn-ZZ",beh:"beh-Latn-ZZ",bej:"bej-Arab-SD",bem:"bem-Latn-ZM",bet:"bet-Latn-ZZ",bew:"bew-Latn-ID",bex:"bex-Latn-ZZ",bez:"bez-Latn-TZ",bfd:"bfd-Latn-CM",bfq:"bfq-Taml-IN",bft:"bft-Arab-PK",bfy:"bfy-Deva-IN",bg:"bg-Cyrl-BG",bgc:"bgc-Deva-IN",bgn:"bgn-Arab-PK",bgx:"bgx-Grek-TR",bhb:"bhb-Deva-IN",bhg:"bhg-Latn-ZZ",bhi:"bhi-Deva-IN",bhl:"bhl-Latn-ZZ",bho:"bho-Deva-IN",bhy:"bhy-Latn-ZZ",bi:"bi-Latn-VU",bib:"bib-Latn-ZZ",big:"big-Latn-ZZ",bik:"bik-Latn-PH",bim:"bim-Latn-ZZ",bin:"bin-Latn-NG",bio:"bio-Latn-ZZ",biq:"biq-Latn-ZZ",bjh:"bjh-Latn-ZZ",bji:"bji-Ethi-ZZ",bjj:"bjj-Deva-IN",bjn:"bjn-Latn-ID",bjo:"bjo-Latn-ZZ",bjr:"bjr-Latn-ZZ",bjt:"bjt-Latn-SN",bjz:"bjz-Latn-ZZ",bkc:"bkc-Latn-ZZ",bkm:"bkm-Latn-CM",bkq:"bkq-Latn-ZZ",bku:"bku-Latn-PH",bkv:"bkv-Latn-ZZ",blg:"blg-Latn-MY",blt:"blt-Tavt-VN",bm:"bm-Latn-ML",bmh:"bmh-Latn-ZZ",bmk:"bmk-Latn-ZZ",bmq:"bmq-Latn-ML",bmu:"bmu-Latn-ZZ",bn:"bn-Beng-BD",bng:"bng-Latn-ZZ",bnm:"bnm-Latn-ZZ",bnp:"bnp-Latn-ZZ",bo:"bo-Tibt-CN",boj:"boj-Latn-ZZ",bom:"bom-Latn-ZZ",bon:"bon-Latn-ZZ",bpy:"bpy-Beng-IN",bqc:"bqc-Latn-ZZ",bqi:"bqi-Arab-IR",bqp:"bqp-Latn-ZZ",bqv:"bqv-Latn-CI",br:"br-Latn-FR",bra:"bra-Deva-IN",brh:"brh-Arab-PK",brx:"brx-Deva-IN",brz:"brz-Latn-ZZ",bs:"bs-Latn-BA",bsj:"bsj-Latn-ZZ",bsq:"bsq-Bass-LR",bss:"bss-Latn-CM",bst:"bst-Ethi-ZZ",bto:"bto-Latn-PH",btt:"btt-Latn-ZZ",btv:"btv-Deva-PK",bua:"bua-Cyrl-RU",buc:"buc-Latn-YT",bud:"bud-Latn-ZZ",bug:"bug-Latn-ID",buk:"buk-Latn-ZZ",bum:"bum-Latn-CM",buo:"buo-Latn-ZZ",bus:"bus-Latn-ZZ",buu:"buu-Latn-ZZ",bvb:"bvb-Latn-GQ",bwd:"bwd-Latn-ZZ",bwr:"bwr-Latn-ZZ",bxh:"bxh-Latn-ZZ",bye:"bye-Latn-ZZ",byn:"byn-Ethi-ER",byr:"byr-Latn-ZZ",bys:"bys-Latn-ZZ",byv:"byv-Latn-CM",byx:"byx-Latn-ZZ",bza:"bza-Latn-ZZ",bze:"bze-Latn-ML",bzf:"bzf-Latn-ZZ",bzh:"bzh-Latn-ZZ",bzw:"bzw-Latn-ZZ",ca:"ca-Latn-ES",cad:"cad-Latn-US",can:"can-Latn-ZZ",cbj:"cbj-Latn-ZZ",cch:"cch-Latn-NG",ccp:"ccp-Cakm-BD",ce:"ce-Cyrl-RU",ceb:"ceb-Latn-PH",cfa:"cfa-Latn-ZZ",cgg:"cgg-Latn-UG",ch:"ch-Latn-GU",chk:"chk-Latn-FM",chm:"chm-Cyrl-RU",cho:"cho-Latn-US",chp:"chp-Latn-CA",chr:"chr-Cher-US",cic:"cic-Latn-US",cja:"cja-Arab-KH",cjm:"cjm-Cham-VN",cjv:"cjv-Latn-ZZ",ckb:"ckb-Arab-IQ",ckl:"ckl-Latn-ZZ",cko:"cko-Latn-ZZ",cky:"cky-Latn-ZZ",cla:"cla-Latn-ZZ",cme:"cme-Latn-ZZ",cmg:"cmg-Soyo-MN",co:"co-Latn-FR",cop:"cop-Copt-EG",cps:"cps-Latn-PH",cr:"cr-Cans-CA",crh:"crh-Cyrl-UA",crj:"crj-Cans-CA",crk:"crk-Cans-CA",crl:"crl-Cans-CA",crm:"crm-Cans-CA",crs:"crs-Latn-SC",cs:"cs-Latn-CZ",csb:"csb-Latn-PL",csw:"csw-Cans-CA",ctd:"ctd-Pauc-MM",cu:"cu-Cyrl-RU","cu-Glag":"cu-Glag-BG",cv:"cv-Cyrl-RU",cy:"cy-Latn-GB",da:"da-Latn-DK",dad:"dad-Latn-ZZ",daf:"daf-Latn-CI",dag:"dag-Latn-ZZ",dah:"dah-Latn-ZZ",dak:"dak-Latn-US",dar:"dar-Cyrl-RU",dav:"dav-Latn-KE",dbd:"dbd-Latn-ZZ",dbq:"dbq-Latn-ZZ",dcc:"dcc-Arab-IN",ddn:"ddn-Latn-ZZ",de:"de-Latn-DE",ded:"ded-Latn-ZZ",den:"den-Latn-CA",dga:"dga-Latn-ZZ",dgh:"dgh-Latn-ZZ",dgi:"dgi-Latn-ZZ",dgl:"dgl-Arab-ZZ",dgr:"dgr-Latn-CA",dgz:"dgz-Latn-ZZ",dia:"dia-Latn-ZZ",dje:"dje-Latn-NE",dmf:"dmf-Medf-NG",dnj:"dnj-Latn-CI",dob:"dob-Latn-ZZ",doi:"doi-Deva-IN",dop:"dop-Latn-ZZ",dow:"dow-Latn-ZZ",drh:"drh-Mong-CN",dri:"dri-Latn-ZZ",drs:"drs-Ethi-ZZ",dsb:"dsb-Latn-DE",dtm:"dtm-Latn-ML",dtp:"dtp-Latn-MY",dts:"dts-Latn-ZZ",dty:"dty-Deva-NP",dua:"dua-Latn-CM",duc:"duc-Latn-ZZ",dud:"dud-Latn-ZZ",dug:"dug-Latn-ZZ",dv:"dv-Thaa-MV",dva:"dva-Latn-ZZ",dww:"dww-Latn-ZZ",dyo:"dyo-Latn-SN",dyu:"dyu-Latn-BF",dz:"dz-Tibt-BT",dzg:"dzg-Latn-ZZ",ebu:"ebu-Latn-KE",ee:"ee-Latn-GH",efi:"efi-Latn-NG",egl:"egl-Latn-IT",egy:"egy-Egyp-EG",eka:"eka-Latn-ZZ",eky:"eky-Kali-MM",el:"el-Grek-GR",ema:"ema-Latn-ZZ",emi:"emi-Latn-ZZ",en:"en-Latn-US","en-Shaw":"en-Shaw-GB",enn:"enn-Latn-ZZ",enq:"enq-Latn-ZZ",eo:"eo-Latn-001",eri:"eri-Latn-ZZ",es:"es-Latn-ES",esg:"esg-Gonm-IN",esu:"esu-Latn-US",et:"et-Latn-EE",etr:"etr-Latn-ZZ",ett:"ett-Ital-IT",etu:"etu-Latn-ZZ",etx:"etx-Latn-ZZ",eu:"eu-Latn-ES",ewo:"ewo-Latn-CM",ext:"ext-Latn-ES",eza:"eza-Latn-ZZ",fa:"fa-Arab-IR",faa:"faa-Latn-ZZ",fab:"fab-Latn-ZZ",fag:"fag-Latn-ZZ",fai:"fai-Latn-ZZ",fan:"fan-Latn-GQ",ff:"ff-Latn-SN","ff-Adlm":"ff-Adlm-GN",ffi:"ffi-Latn-ZZ",ffm:"ffm-Latn-ML",fi:"fi-Latn-FI",fia:"fia-Arab-SD",fil:"fil-Latn-PH",fit:"fit-Latn-SE",fj:"fj-Latn-FJ",flr:"flr-Latn-ZZ",fmp:"fmp-Latn-ZZ",fo:"fo-Latn-FO",fod:"fod-Latn-ZZ",fon:"fon-Latn-BJ",for:"for-Latn-ZZ",fpe:"fpe-Latn-ZZ",fqs:"fqs-Latn-ZZ",fr:"fr-Latn-FR",frc:"frc-Latn-US",frp:"frp-Latn-FR",frr:"frr-Latn-DE",frs:"frs-Latn-DE",fub:"fub-Arab-CM",fud:"fud-Latn-WF",fue:"fue-Latn-ZZ",fuf:"fuf-Latn-GN",fuh:"fuh-Latn-ZZ",fuq:"fuq-Latn-NE",fur:"fur-Latn-IT",fuv:"fuv-Latn-NG",fuy:"fuy-Latn-ZZ",fvr:"fvr-Latn-SD",fy:"fy-Latn-NL",ga:"ga-Latn-IE",gaa:"gaa-Latn-GH",gaf:"gaf-Latn-ZZ",gag:"gag-Latn-MD",gah:"gah-Latn-ZZ",gaj:"gaj-Latn-ZZ",gam:"gam-Latn-ZZ",gan:"gan-Hans-CN",gaw:"gaw-Latn-ZZ",gay:"gay-Latn-ID",gba:"gba-Latn-ZZ",gbf:"gbf-Latn-ZZ",gbm:"gbm-Deva-IN",gby:"gby-Latn-ZZ",gbz:"gbz-Arab-IR",gcr:"gcr-Latn-GF",gd:"gd-Latn-GB",gde:"gde-Latn-ZZ",gdn:"gdn-Latn-ZZ",gdr:"gdr-Latn-ZZ",geb:"geb-Latn-ZZ",gej:"gej-Latn-ZZ",gel:"gel-Latn-ZZ",gez:"gez-Ethi-ET",gfk:"gfk-Latn-ZZ",ggn:"ggn-Deva-NP",ghs:"ghs-Latn-ZZ",gil:"gil-Latn-KI",gim:"gim-Latn-ZZ",gjk:"gjk-Arab-PK",gjn:"gjn-Latn-ZZ",gju:"gju-Arab-PK",gkn:"gkn-Latn-ZZ",gkp:"gkp-Latn-ZZ",gl:"gl-Latn-ES",glk:"glk-Arab-IR",gmm:"gmm-Latn-ZZ",gmv:"gmv-Ethi-ZZ",gn:"gn-Latn-PY",gnd:"gnd-Latn-ZZ",gng:"gng-Latn-ZZ",god:"god-Latn-ZZ",gof:"gof-Ethi-ZZ",goi:"goi-Latn-ZZ",gom:"gom-Deva-IN",gon:"gon-Telu-IN",gor:"gor-Latn-ID",gos:"gos-Latn-NL",got:"got-Goth-UA",grb:"grb-Latn-ZZ",grc:"grc-Cprt-CY","grc-Linb":"grc-Linb-GR",grt:"grt-Beng-IN",grw:"grw-Latn-ZZ",gsw:"gsw-Latn-CH",gu:"gu-Gujr-IN",gub:"gub-Latn-BR",guc:"guc-Latn-CO",gud:"gud-Latn-ZZ",gur:"gur-Latn-GH",guw:"guw-Latn-ZZ",gux:"gux-Latn-ZZ",guz:"guz-Latn-KE",gv:"gv-Latn-IM",gvf:"gvf-Latn-ZZ",gvr:"gvr-Deva-NP",gvs:"gvs-Latn-ZZ",gwc:"gwc-Arab-ZZ",gwi:"gwi-Latn-CA",gwt:"gwt-Arab-ZZ",gyi:"gyi-Latn-ZZ",ha:"ha-Latn-NG","ha-CM":"ha-Arab-CM","ha-SD":"ha-Arab-SD",hag:"hag-Latn-ZZ",hak:"hak-Hans-CN",ham:"ham-Latn-ZZ",haw:"haw-Latn-US",haz:"haz-Arab-AF",hbb:"hbb-Latn-ZZ",hdy:"hdy-Ethi-ZZ",he:"he-Hebr-IL",hhy:"hhy-Latn-ZZ",hi:"hi-Deva-IN",hia:"hia-Latn-ZZ",hif:"hif-Latn-FJ",hig:"hig-Latn-ZZ",hih:"hih-Latn-ZZ",hil:"hil-Latn-PH",hla:"hla-Latn-ZZ",hlu:"hlu-Hluw-TR",hmd:"hmd-Plrd-CN",hmt:"hmt-Latn-ZZ",hnd:"hnd-Arab-PK",hne:"hne-Deva-IN",hnj:"hnj-Hmnp-US",hnn:"hnn-Latn-PH",hno:"hno-Arab-PK",ho:"ho-Latn-PG",hoc:"hoc-Deva-IN",hoj:"hoj-Deva-IN",hot:"hot-Latn-ZZ",hr:"hr-Latn-HR",hsb:"hsb-Latn-DE",hsn:"hsn-Hans-CN",ht:"ht-Latn-HT",hu:"hu-Latn-HU",hui:"hui-Latn-ZZ",hy:"hy-Armn-AM",hz:"hz-Latn-NA",ia:"ia-Latn-001",ian:"ian-Latn-ZZ",iar:"iar-Latn-ZZ",iba:"iba-Latn-MY",ibb:"ibb-Latn-NG",iby:"iby-Latn-ZZ",ica:"ica-Latn-ZZ",ich:"ich-Latn-ZZ",id:"id-Latn-ID",idd:"idd-Latn-ZZ",idi:"idi-Latn-ZZ",idu:"idu-Latn-ZZ",ife:"ife-Latn-TG",ig:"ig-Latn-NG",igb:"igb-Latn-ZZ",ige:"ige-Latn-ZZ",ii:"ii-Yiii-CN",ijj:"ijj-Latn-ZZ",ik:"ik-Latn-US",ikk:"ikk-Latn-ZZ",ikt:"ikt-Latn-CA",ikw:"ikw-Latn-ZZ",ikx:"ikx-Latn-ZZ",ilo:"ilo-Latn-PH",imo:"imo-Latn-ZZ",in:"in-Latn-ID",inh:"inh-Cyrl-RU",io:"io-Latn-001",iou:"iou-Latn-ZZ",iri:"iri-Latn-ZZ",is:"is-Latn-IS",it:"it-Latn-IT",iu:"iu-Cans-CA",iw:"iw-Hebr-IL",iwm:"iwm-Latn-ZZ",iws:"iws-Latn-ZZ",izh:"izh-Latn-RU",izi:"izi-Latn-ZZ",ja:"ja-Jpan-JP",jab:"jab-Latn-ZZ",jam:"jam-Latn-JM",jar:"jar-Latn-ZZ",jbo:"jbo-Latn-001",jbu:"jbu-Latn-ZZ",jen:"jen-Latn-ZZ",jgk:"jgk-Latn-ZZ",jgo:"jgo-Latn-CM",ji:"ji-Hebr-UA",jib:"jib-Latn-ZZ",jmc:"jmc-Latn-TZ",jml:"jml-Deva-NP",jra:"jra-Latn-ZZ",jut:"jut-Latn-DK",jv:"jv-Latn-ID",jw:"jw-Latn-ID",ka:"ka-Geor-GE",kaa:"kaa-Cyrl-UZ",kab:"kab-Latn-DZ",kac:"kac-Latn-MM",kad:"kad-Latn-ZZ",kai:"kai-Latn-ZZ",kaj:"kaj-Latn-NG",kam:"kam-Latn-KE",kao:"kao-Latn-ML",kbd:"kbd-Cyrl-RU",kbm:"kbm-Latn-ZZ",kbp:"kbp-Latn-ZZ",kbq:"kbq-Latn-ZZ",kbx:"kbx-Latn-ZZ",kby:"kby-Arab-NE",kcg:"kcg-Latn-NG",kck:"kck-Latn-ZW",kcl:"kcl-Latn-ZZ",kct:"kct-Latn-ZZ",kde:"kde-Latn-TZ",kdh:"kdh-Latn-TG",kdl:"kdl-Latn-ZZ",kdt:"kdt-Thai-TH",kea:"kea-Latn-CV",ken:"ken-Latn-CM",kez:"kez-Latn-ZZ",kfo:"kfo-Latn-CI",kfr:"kfr-Deva-IN",kfy:"kfy-Deva-IN",kg:"kg-Latn-CD",kge:"kge-Latn-ID",kgf:"kgf-Latn-ZZ",kgp:"kgp-Latn-BR",kha:"kha-Latn-IN",khb:"khb-Talu-CN",khn:"khn-Deva-IN",khq:"khq-Latn-ML",khs:"khs-Latn-ZZ",kht:"kht-Mymr-IN",khw:"khw-Arab-PK",khz:"khz-Latn-ZZ",ki:"ki-Latn-KE",kij:"kij-Latn-ZZ",kiu:"kiu-Latn-TR",kiw:"kiw-Latn-ZZ",kj:"kj-Latn-NA",kjd:"kjd-Latn-ZZ",kjg:"kjg-Laoo-LA",kjs:"kjs-Latn-ZZ",kjy:"kjy-Latn-ZZ",kk:"kk-Cyrl-KZ","kk-AF":"kk-Arab-AF","kk-Arab":"kk-Arab-CN","kk-CN":"kk-Arab-CN","kk-IR":"kk-Arab-IR","kk-MN":"kk-Arab-MN",kkc:"kkc-Latn-ZZ",kkj:"kkj-Latn-CM",kl:"kl-Latn-GL",kln:"kln-Latn-KE",klq:"klq-Latn-ZZ",klt:"klt-Latn-ZZ",klx:"klx-Latn-ZZ",km:"km-Khmr-KH",kmb:"kmb-Latn-AO",kmh:"kmh-Latn-ZZ",kmo:"kmo-Latn-ZZ",kms:"kms-Latn-ZZ",kmu:"kmu-Latn-ZZ",kmw:"kmw-Latn-ZZ",kn:"kn-Knda-IN",knf:"knf-Latn-GW",knp:"knp-Latn-ZZ",ko:"ko-Kore-KR",koi:"koi-Cyrl-RU",kok:"kok-Deva-IN",kol:"kol-Latn-ZZ",kos:"kos-Latn-FM",koz:"koz-Latn-ZZ",kpe:"kpe-Latn-LR",kpf:"kpf-Latn-ZZ",kpo:"kpo-Latn-ZZ",kpr:"kpr-Latn-ZZ",kpx:"kpx-Latn-ZZ",kqb:"kqb-Latn-ZZ",kqf:"kqf-Latn-ZZ",kqs:"kqs-Latn-ZZ",kqy:"kqy-Ethi-ZZ",kr:"kr-Latn-ZZ",krc:"krc-Cyrl-RU",kri:"kri-Latn-SL",krj:"krj-Latn-PH",krl:"krl-Latn-RU",krs:"krs-Latn-ZZ",kru:"kru-Deva-IN",ks:"ks-Arab-IN",ksb:"ksb-Latn-TZ",ksd:"ksd-Latn-ZZ",ksf:"ksf-Latn-CM",ksh:"ksh-Latn-DE",ksj:"ksj-Latn-ZZ",ksr:"ksr-Latn-ZZ",ktb:"ktb-Ethi-ZZ",ktm:"ktm-Latn-ZZ",kto:"kto-Latn-ZZ",ktr:"ktr-Latn-MY",ku:"ku-Latn-TR","ku-Arab":"ku-Arab-IQ","ku-LB":"ku-Arab-LB","ku-Yezi":"ku-Yezi-GE",kub:"kub-Latn-ZZ",kud:"kud-Latn-ZZ",kue:"kue-Latn-ZZ",kuj:"kuj-Latn-ZZ",kum:"kum-Cyrl-RU",kun:"kun-Latn-ZZ",kup:"kup-Latn-ZZ",kus:"kus-Latn-ZZ",kv:"kv-Cyrl-RU",kvg:"kvg-Latn-ZZ",kvr:"kvr-Latn-ID",kvx:"kvx-Arab-PK",kw:"kw-Latn-GB",kwj:"kwj-Latn-ZZ",kwo:"kwo-Latn-ZZ",kwq:"kwq-Latn-ZZ",kxa:"kxa-Latn-ZZ",kxc:"kxc-Ethi-ZZ",kxe:"kxe-Latn-ZZ",kxl:"kxl-Deva-IN",kxm:"kxm-Thai-TH",kxp:"kxp-Arab-PK",kxw:"kxw-Latn-ZZ",kxz:"kxz-Latn-ZZ",ky:"ky-Cyrl-KG","ky-Arab":"ky-Arab-CN","ky-CN":"ky-Arab-CN","ky-Latn":"ky-Latn-TR","ky-TR":"ky-Latn-TR",kye:"kye-Latn-ZZ",kyx:"kyx-Latn-ZZ",kzh:"kzh-Arab-ZZ",kzj:"kzj-Latn-MY",kzr:"kzr-Latn-ZZ",kzt:"kzt-Latn-MY",la:"la-Latn-VA",lab:"lab-Lina-GR",lad:"lad-Hebr-IL",lag:"lag-Latn-TZ",lah:"lah-Arab-PK",laj:"laj-Latn-UG",las:"las-Latn-ZZ",lb:"lb-Latn-LU",lbe:"lbe-Cyrl-RU",lbu:"lbu-Latn-ZZ",lbw:"lbw-Latn-ID",lcm:"lcm-Latn-ZZ",lcp:"lcp-Thai-CN",ldb:"ldb-Latn-ZZ",led:"led-Latn-ZZ",lee:"lee-Latn-ZZ",lem:"lem-Latn-ZZ",lep:"lep-Lepc-IN",leq:"leq-Latn-ZZ",leu:"leu-Latn-ZZ",lez:"lez-Cyrl-RU",lg:"lg-Latn-UG",lgg:"lgg-Latn-ZZ",li:"li-Latn-NL",lia:"lia-Latn-ZZ",lid:"lid-Latn-ZZ",lif:"lif-Deva-NP","lif-Limb":"lif-Limb-IN",lig:"lig-Latn-ZZ",lih:"lih-Latn-ZZ",lij:"lij-Latn-IT",lis:"lis-Lisu-CN",ljp:"ljp-Latn-ID",lki:"lki-Arab-IR",lkt:"lkt-Latn-US",lle:"lle-Latn-ZZ",lln:"lln-Latn-ZZ",lmn:"lmn-Telu-IN",lmo:"lmo-Latn-IT",lmp:"lmp-Latn-ZZ",ln:"ln-Latn-CD",lns:"lns-Latn-ZZ",lnu:"lnu-Latn-ZZ",lo:"lo-Laoo-LA",loj:"loj-Latn-ZZ",lok:"lok-Latn-ZZ",lol:"lol-Latn-CD",lor:"lor-Latn-ZZ",los:"los-Latn-ZZ",loz:"loz-Latn-ZM",lrc:"lrc-Arab-IR",lt:"lt-Latn-LT",ltg:"ltg-Latn-LV",lu:"lu-Latn-CD",lua:"lua-Latn-CD",luo:"luo-Latn-KE",luy:"luy-Latn-KE",luz:"luz-Arab-IR",lv:"lv-Latn-LV",lwl:"lwl-Thai-TH",lzh:"lzh-Hans-CN",lzz:"lzz-Latn-TR",mad:"mad-Latn-ID",maf:"maf-Latn-CM",mag:"mag-Deva-IN",mai:"mai-Deva-IN",mak:"mak-Latn-ID",man:"man-Latn-GM","man-GN":"man-Nkoo-GN","man-Nkoo":"man-Nkoo-GN",mas:"mas-Latn-KE",maw:"maw-Latn-ZZ",maz:"maz-Latn-MX",mbh:"mbh-Latn-ZZ",mbo:"mbo-Latn-ZZ",mbq:"mbq-Latn-ZZ",mbu:"mbu-Latn-ZZ",mbw:"mbw-Latn-ZZ",mci:"mci-Latn-ZZ",mcp:"mcp-Latn-ZZ",mcq:"mcq-Latn-ZZ",mcr:"mcr-Latn-ZZ",mcu:"mcu-Latn-ZZ",mda:"mda-Latn-ZZ",mde:"mde-Arab-ZZ",mdf:"mdf-Cyrl-RU",mdh:"mdh-Latn-PH",mdj:"mdj-Latn-ZZ",mdr:"mdr-Latn-ID",mdx:"mdx-Ethi-ZZ",med:"med-Latn-ZZ",mee:"mee-Latn-ZZ",mek:"mek-Latn-ZZ",men:"men-Latn-SL",mer:"mer-Latn-KE",met:"met-Latn-ZZ",meu:"meu-Latn-ZZ",mfa:"mfa-Arab-TH",mfe:"mfe-Latn-MU",mfn:"mfn-Latn-ZZ",mfo:"mfo-Latn-ZZ",mfq:"mfq-Latn-ZZ",mg:"mg-Latn-MG",mgh:"mgh-Latn-MZ",mgl:"mgl-Latn-ZZ",mgo:"mgo-Latn-CM",mgp:"mgp-Deva-NP",mgy:"mgy-Latn-TZ",mh:"mh-Latn-MH",mhi:"mhi-Latn-ZZ",mhl:"mhl-Latn-ZZ",mi:"mi-Latn-NZ",mif:"mif-Latn-ZZ",min:"min-Latn-ID",miw:"miw-Latn-ZZ",mk:"mk-Cyrl-MK",mki:"mki-Arab-ZZ",mkl:"mkl-Latn-ZZ",mkp:"mkp-Latn-ZZ",mkw:"mkw-Latn-ZZ",ml:"ml-Mlym-IN",mle:"mle-Latn-ZZ",mlp:"mlp-Latn-ZZ",mls:"mls-Latn-SD",mmo:"mmo-Latn-ZZ",mmu:"mmu-Latn-ZZ",mmx:"mmx-Latn-ZZ",mn:"mn-Cyrl-MN","mn-CN":"mn-Mong-CN","mn-Mong":"mn-Mong-CN",mna:"mna-Latn-ZZ",mnf:"mnf-Latn-ZZ",mni:"mni-Beng-IN",mnw:"mnw-Mymr-MM",mo:"mo-Latn-RO",moa:"moa-Latn-ZZ",moe:"moe-Latn-CA",moh:"moh-Latn-CA",mos:"mos-Latn-BF",mox:"mox-Latn-ZZ",mpp:"mpp-Latn-ZZ",mps:"mps-Latn-ZZ",mpt:"mpt-Latn-ZZ",mpx:"mpx-Latn-ZZ",mql:"mql-Latn-ZZ",mr:"mr-Deva-IN",mrd:"mrd-Deva-NP",mrj:"mrj-Cyrl-RU",mro:"mro-Mroo-BD",ms:"ms-Latn-MY","ms-CC":"ms-Arab-CC",mt:"mt-Latn-MT",mtc:"mtc-Latn-ZZ",mtf:"mtf-Latn-ZZ",mti:"mti-Latn-ZZ",mtr:"mtr-Deva-IN",mua:"mua-Latn-CM",mur:"mur-Latn-ZZ",mus:"mus-Latn-US",mva:"mva-Latn-ZZ",mvn:"mvn-Latn-ZZ",mvy:"mvy-Arab-PK",mwk:"mwk-Latn-ML",mwr:"mwr-Deva-IN",mwv:"mwv-Latn-ID",mww:"mww-Hmnp-US",mxc:"mxc-Latn-ZW",mxm:"mxm-Latn-ZZ",my:"my-Mymr-MM",myk:"myk-Latn-ZZ",mym:"mym-Ethi-ZZ",myv:"myv-Cyrl-RU",myw:"myw-Latn-ZZ",myx:"myx-Latn-UG",myz:"myz-Mand-IR",mzk:"mzk-Latn-ZZ",mzm:"mzm-Latn-ZZ",mzn:"mzn-Arab-IR",mzp:"mzp-Latn-ZZ",mzw:"mzw-Latn-ZZ",mzz:"mzz-Latn-ZZ",na:"na-Latn-NR",nac:"nac-Latn-ZZ",naf:"naf-Latn-ZZ",nak:"nak-Latn-ZZ",nan:"nan-Hans-CN",nap:"nap-Latn-IT",naq:"naq-Latn-NA",nas:"nas-Latn-ZZ",nb:"nb-Latn-NO",nca:"nca-Latn-ZZ",nce:"nce-Latn-ZZ",ncf:"ncf-Latn-ZZ",nch:"nch-Latn-MX",nco:"nco-Latn-ZZ",ncu:"ncu-Latn-ZZ",nd:"nd-Latn-ZW",ndc:"ndc-Latn-MZ",nds:"nds-Latn-DE",ne:"ne-Deva-NP",neb:"neb-Latn-ZZ",new:"new-Deva-NP",nex:"nex-Latn-ZZ",nfr:"nfr-Latn-ZZ",ng:"ng-Latn-NA",nga:"nga-Latn-ZZ",ngb:"ngb-Latn-ZZ",ngl:"ngl-Latn-MZ",nhb:"nhb-Latn-ZZ",nhe:"nhe-Latn-MX",nhw:"nhw-Latn-MX",nif:"nif-Latn-ZZ",nii:"nii-Latn-ZZ",nij:"nij-Latn-ID",nin:"nin-Latn-ZZ",niu:"niu-Latn-NU",niy:"niy-Latn-ZZ",niz:"niz-Latn-ZZ",njo:"njo-Latn-IN",nkg:"nkg-Latn-ZZ",nko:"nko-Latn-ZZ",nl:"nl-Latn-NL",nmg:"nmg-Latn-CM",nmz:"nmz-Latn-ZZ",nn:"nn-Latn-NO",nnf:"nnf-Latn-ZZ",nnh:"nnh-Latn-CM",nnk:"nnk-Latn-ZZ",nnm:"nnm-Latn-ZZ",nnp:"nnp-Wcho-IN",no:"no-Latn-NO",nod:"nod-Lana-TH",noe:"noe-Deva-IN",non:"non-Runr-SE",nop:"nop-Latn-ZZ",nou:"nou-Latn-ZZ",nqo:"nqo-Nkoo-GN",nr:"nr-Latn-ZA",nrb:"nrb-Latn-ZZ",nsk:"nsk-Cans-CA",nsn:"nsn-Latn-ZZ",nso:"nso-Latn-ZA",nss:"nss-Latn-ZZ",nst:"nst-Tnsa-IN",ntm:"ntm-Latn-ZZ",ntr:"ntr-Latn-ZZ",nui:"nui-Latn-ZZ",nup:"nup-Latn-ZZ",nus:"nus-Latn-SS",nuv:"nuv-Latn-ZZ",nux:"nux-Latn-ZZ",nv:"nv-Latn-US",nwb:"nwb-Latn-ZZ",nxq:"nxq-Latn-CN",nxr:"nxr-Latn-ZZ",ny:"ny-Latn-MW",nym:"nym-Latn-TZ",nyn:"nyn-Latn-UG",nzi:"nzi-Latn-GH",oc:"oc-Latn-FR",ogc:"ogc-Latn-ZZ",okr:"okr-Latn-ZZ",okv:"okv-Latn-ZZ",om:"om-Latn-ET",ong:"ong-Latn-ZZ",onn:"onn-Latn-ZZ",ons:"ons-Latn-ZZ",opm:"opm-Latn-ZZ",or:"or-Orya-IN",oro:"oro-Latn-ZZ",oru:"oru-Arab-ZZ",os:"os-Cyrl-GE",osa:"osa-Osge-US",ota:"ota-Arab-ZZ",otk:"otk-Orkh-MN",oui:"oui-Ougr-143",ozm:"ozm-Latn-ZZ",pa:"pa-Guru-IN","pa-Arab":"pa-Arab-PK","pa-PK":"pa-Arab-PK",pag:"pag-Latn-PH",pal:"pal-Phli-IR","pal-Phlp":"pal-Phlp-CN",pam:"pam-Latn-PH",pap:"pap-Latn-AW",pau:"pau-Latn-PW",pbi:"pbi-Latn-ZZ",pcd:"pcd-Latn-FR",pcm:"pcm-Latn-NG",pdc:"pdc-Latn-US",pdt:"pdt-Latn-CA",ped:"ped-Latn-ZZ",peo:"peo-Xpeo-IR",pex:"pex-Latn-ZZ",pfl:"pfl-Latn-DE",phl:"phl-Arab-ZZ",phn:"phn-Phnx-LB",pil:"pil-Latn-ZZ",pip:"pip-Latn-ZZ",pka:"pka-Brah-IN",pko:"pko-Latn-KE",pl:"pl-Latn-PL",pla:"pla-Latn-ZZ",pms:"pms-Latn-IT",png:"png-Latn-ZZ",pnn:"pnn-Latn-ZZ",pnt:"pnt-Grek-GR",pon:"pon-Latn-FM",ppa:"ppa-Deva-IN",ppo:"ppo-Latn-ZZ",pra:"pra-Khar-PK",prd:"prd-Arab-IR",prg:"prg-Latn-001",ps:"ps-Arab-AF",pss:"pss-Latn-ZZ",pt:"pt-Latn-BR",ptp:"ptp-Latn-ZZ",puu:"puu-Latn-GA",pwa:"pwa-Latn-ZZ",qu:"qu-Latn-PE",quc:"quc-Latn-GT",qug:"qug-Latn-EC",rai:"rai-Latn-ZZ",raj:"raj-Deva-IN",rao:"rao-Latn-ZZ",rcf:"rcf-Latn-RE",rej:"rej-Latn-ID",rel:"rel-Latn-ZZ",res:"res-Latn-ZZ",rgn:"rgn-Latn-IT",rhg:"rhg-Rohg-MM",ria:"ria-Latn-IN",rif:"rif-Tfng-MA","rif-NL":"rif-Latn-NL",rjs:"rjs-Deva-NP",rkt:"rkt-Beng-BD",rm:"rm-Latn-CH",rmf:"rmf-Latn-FI",rmo:"rmo-Latn-CH",rmt:"rmt-Arab-IR",rmu:"rmu-Latn-SE",rn:"rn-Latn-BI",rna:"rna-Latn-ZZ",rng:"rng-Latn-MZ",ro:"ro-Latn-RO",rob:"rob-Latn-ID",rof:"rof-Latn-TZ",roo:"roo-Latn-ZZ",rro:"rro-Latn-ZZ",rtm:"rtm-Latn-FJ",ru:"ru-Cyrl-RU",rue:"rue-Cyrl-UA",rug:"rug-Latn-SB",rw:"rw-Latn-RW",rwk:"rwk-Latn-TZ",rwo:"rwo-Latn-ZZ",ryu:"ryu-Kana-JP",sa:"sa-Deva-IN",saf:"saf-Latn-GH",sah:"sah-Cyrl-RU",saq:"saq-Latn-KE",sas:"sas-Latn-ID",sat:"sat-Olck-IN",sav:"sav-Latn-SN",saz:"saz-Saur-IN",sba:"sba-Latn-ZZ",sbe:"sbe-Latn-ZZ",sbp:"sbp-Latn-TZ",sc:"sc-Latn-IT",sck:"sck-Deva-IN",scl:"scl-Arab-ZZ",scn:"scn-Latn-IT",sco:"sco-Latn-GB",scs:"scs-Latn-CA",sd:"sd-Arab-PK","sd-Deva":"sd-Deva-IN","sd-Khoj":"sd-Khoj-IN","sd-Sind":"sd-Sind-IN",sdc:"sdc-Latn-IT",sdh:"sdh-Arab-IR",se:"se-Latn-NO",sef:"sef-Latn-CI",seh:"seh-Latn-MZ",sei:"sei-Latn-MX",ses:"ses-Latn-ML",sg:"sg-Latn-CF",sga:"sga-Ogam-IE",sgs:"sgs-Latn-LT",sgw:"sgw-Ethi-ZZ",sgz:"sgz-Latn-ZZ",shi:"shi-Tfng-MA",shk:"shk-Latn-ZZ",shn:"shn-Mymr-MM",shu:"shu-Arab-ZZ",si:"si-Sinh-LK",sid:"sid-Latn-ET",sig:"sig-Latn-ZZ",sil:"sil-Latn-ZZ",sim:"sim-Latn-ZZ",sjr:"sjr-Latn-ZZ",sk:"sk-Latn-SK",skc:"skc-Latn-ZZ",skr:"skr-Arab-PK",sks:"sks-Latn-ZZ",sl:"sl-Latn-SI",sld:"sld-Latn-ZZ",sli:"sli-Latn-PL",sll:"sll-Latn-ZZ",sly:"sly-Latn-ID",sm:"sm-Latn-WS",sma:"sma-Latn-SE",smj:"smj-Latn-SE",smn:"smn-Latn-FI",smp:"smp-Samr-IL",smq:"smq-Latn-ZZ",sms:"sms-Latn-FI",sn:"sn-Latn-ZW",snc:"snc-Latn-ZZ",snk:"snk-Latn-ML",snp:"snp-Latn-ZZ",snx:"snx-Latn-ZZ",sny:"sny-Latn-ZZ",so:"so-Latn-SO",sog:"sog-Sogd-UZ",sok:"sok-Latn-ZZ",soq:"soq-Latn-ZZ",sou:"sou-Thai-TH",soy:"soy-Latn-ZZ",spd:"spd-Latn-ZZ",spl:"spl-Latn-ZZ",sps:"sps-Latn-ZZ",sq:"sq-Latn-AL",sr:"sr-Cyrl-RS","sr-ME":"sr-Latn-ME","sr-RO":"sr-Latn-RO","sr-RU":"sr-Latn-RU","sr-TR":"sr-Latn-TR",srb:"srb-Sora-IN",srn:"srn-Latn-SR",srr:"srr-Latn-SN",srx:"srx-Deva-IN",ss:"ss-Latn-ZA",ssd:"ssd-Latn-ZZ",ssg:"ssg-Latn-ZZ",ssy:"ssy-Latn-ER",st:"st-Latn-ZA",stk:"stk-Latn-ZZ",stq:"stq-Latn-DE",su:"su-Latn-ID",sua:"sua-Latn-ZZ",sue:"sue-Latn-ZZ",suk:"suk-Latn-TZ",sur:"sur-Latn-ZZ",sus:"sus-Latn-GN",sv:"sv-Latn-SE",sw:"sw-Latn-TZ",swb:"swb-Arab-YT",swc:"swc-Latn-CD",swg:"swg-Latn-DE",swp:"swp-Latn-ZZ",swv:"swv-Deva-IN",sxn:"sxn-Latn-ID",sxw:"sxw-Latn-ZZ",syl:"syl-Beng-BD",syr:"syr-Syrc-IQ",szl:"szl-Latn-PL",ta:"ta-Taml-IN",taj:"taj-Deva-NP",tal:"tal-Latn-ZZ",tan:"tan-Latn-ZZ",taq:"taq-Latn-ZZ",tbc:"tbc-Latn-ZZ",tbd:"tbd-Latn-ZZ",tbf:"tbf-Latn-ZZ",tbg:"tbg-Latn-ZZ",tbo:"tbo-Latn-ZZ",tbw:"tbw-Latn-PH",tbz:"tbz-Latn-ZZ",tci:"tci-Latn-ZZ",tcy:"tcy-Knda-IN",tdd:"tdd-Tale-CN",tdg:"tdg-Deva-NP",tdh:"tdh-Deva-NP",tdu:"tdu-Latn-MY",te:"te-Telu-IN",ted:"ted-Latn-ZZ",tem:"tem-Latn-SL",teo:"teo-Latn-UG",tet:"tet-Latn-TL",tfi:"tfi-Latn-ZZ",tg:"tg-Cyrl-TJ","tg-Arab":"tg-Arab-PK","tg-PK":"tg-Arab-PK",tgc:"tgc-Latn-ZZ",tgo:"tgo-Latn-ZZ",tgu:"tgu-Latn-ZZ",th:"th-Thai-TH",thl:"thl-Deva-NP",thq:"thq-Deva-NP",thr:"thr-Deva-NP",ti:"ti-Ethi-ET",tif:"tif-Latn-ZZ",tig:"tig-Ethi-ER",tik:"tik-Latn-ZZ",tim:"tim-Latn-ZZ",tio:"tio-Latn-ZZ",tiv:"tiv-Latn-NG",tk:"tk-Latn-TM",tkl:"tkl-Latn-TK",tkr:"tkr-Latn-AZ",tkt:"tkt-Deva-NP",tl:"tl-Latn-PH",tlf:"tlf-Latn-ZZ",tlx:"tlx-Latn-ZZ",tly:"tly-Latn-AZ",tmh:"tmh-Latn-NE",tmy:"tmy-Latn-ZZ",tn:"tn-Latn-ZA",tnh:"tnh-Latn-ZZ",to:"to-Latn-TO",tof:"tof-Latn-ZZ",tog:"tog-Latn-MW",toq:"toq-Latn-ZZ",tpi:"tpi-Latn-PG",tpm:"tpm-Latn-ZZ",tpz:"tpz-Latn-ZZ",tqo:"tqo-Latn-ZZ",tr:"tr-Latn-TR",tru:"tru-Latn-TR",trv:"trv-Latn-TW",trw:"trw-Arab-PK",ts:"ts-Latn-ZA",tsd:"tsd-Grek-GR",tsf:"tsf-Deva-NP",tsg:"tsg-Latn-PH",tsj:"tsj-Tibt-BT",tsw:"tsw-Latn-ZZ",tt:"tt-Cyrl-RU",ttd:"ttd-Latn-ZZ",tte:"tte-Latn-ZZ",ttj:"ttj-Latn-UG",ttr:"ttr-Latn-ZZ",tts:"tts-Thai-TH",ttt:"ttt-Latn-AZ",tuh:"tuh-Latn-ZZ",tul:"tul-Latn-ZZ",tum:"tum-Latn-MW",tuq:"tuq-Latn-ZZ",tvd:"tvd-Latn-ZZ",tvl:"tvl-Latn-TV",tvu:"tvu-Latn-ZZ",twh:"twh-Latn-ZZ",twq:"twq-Latn-NE",txg:"txg-Tang-CN",txo:"txo-Toto-IN",ty:"ty-Latn-PF",tya:"tya-Latn-ZZ",tyv:"tyv-Cyrl-RU",tzm:"tzm-Latn-MA",ubu:"ubu-Latn-ZZ",udi:"udi-Aghb-RU",udm:"udm-Cyrl-RU",ug:"ug-Arab-CN","ug-Cyrl":"ug-Cyrl-KZ","ug-KZ":"ug-Cyrl-KZ","ug-MN":"ug-Cyrl-MN",uga:"uga-Ugar-SY",uk:"uk-Cyrl-UA",uli:"uli-Latn-FM",umb:"umb-Latn-AO",und:"en-Latn-US","und-002":"en-Latn-NG","und-003":"en-Latn-US","und-005":"pt-Latn-BR","und-009":"en-Latn-AU","und-011":"en-Latn-NG","und-013":"es-Latn-MX","und-014":"sw-Latn-TZ","und-015":"ar-Arab-EG","und-017":"sw-Latn-CD","und-018":"en-Latn-ZA","und-019":"en-Latn-US","und-021":"en-Latn-US","und-029":"es-Latn-CU","und-030":"zh-Hans-CN","und-034":"hi-Deva-IN","und-035":"id-Latn-ID","und-039":"it-Latn-IT","und-053":"en-Latn-AU","und-054":"en-Latn-PG","und-057":"en-Latn-GU","und-061":"sm-Latn-WS","und-142":"zh-Hans-CN","und-143":"uz-Latn-UZ","und-145":"ar-Arab-SA","und-150":"ru-Cyrl-RU","und-151":"ru-Cyrl-RU","und-154":"en-Latn-GB","und-155":"de-Latn-DE","und-202":"en-Latn-NG","und-419":"es-Latn-419","und-AD":"ca-Latn-AD","und-Adlm":"ff-Adlm-GN","und-AE":"ar-Arab-AE","und-AF":"fa-Arab-AF","und-Aghb":"udi-Aghb-RU","und-Ahom":"aho-Ahom-IN","und-AL":"sq-Latn-AL","und-AM":"hy-Armn-AM","und-AO":"pt-Latn-AO","und-AQ":"und-Latn-AQ","und-AR":"es-Latn-AR","und-Arab":"ar-Arab-EG","und-Arab-CC":"ms-Arab-CC","und-Arab-CN":"ug-Arab-CN","und-Arab-GB":"ks-Arab-GB","und-Arab-ID":"ms-Arab-ID","und-Arab-IN":"ur-Arab-IN","und-Arab-KH":"cja-Arab-KH","und-Arab-MM":"rhg-Arab-MM","und-Arab-MN":"kk-Arab-MN","und-Arab-MU":"ur-Arab-MU","und-Arab-NG":"ha-Arab-NG","und-Arab-PK":"ur-Arab-PK","und-Arab-TG":"apd-Arab-TG","und-Arab-TH":"mfa-Arab-TH","und-Arab-TJ":"fa-Arab-TJ","und-Arab-TR":"az-Arab-TR","und-Arab-YT":"swb-Arab-YT","und-Armi":"arc-Armi-IR","und-Armn":"hy-Armn-AM","und-AS":"sm-Latn-AS","und-AT":"de-Latn-AT","und-Avst":"ae-Avst-IR","und-AW":"nl-Latn-AW","und-AX":"sv-Latn-AX","und-AZ":"az-Latn-AZ","und-BA":"bs-Latn-BA","und-Bali":"ban-Bali-ID","und-Bamu":"bax-Bamu-CM","und-Bass":"bsq-Bass-LR","und-Batk":"bbc-Batk-ID","und-BD":"bn-Beng-BD","und-BE":"nl-Latn-BE","und-Beng":"bn-Beng-BD","und-BF":"fr-Latn-BF","und-BG":"bg-Cyrl-BG","und-BH":"ar-Arab-BH","und-Bhks":"sa-Bhks-IN","und-BI":"rn-Latn-BI","und-BJ":"fr-Latn-BJ","und-BL":"fr-Latn-BL","und-BN":"ms-Latn-BN","und-BO":"es-Latn-BO","und-Bopo":"zh-Bopo-TW","und-BQ":"pap-Latn-BQ","und-BR":"pt-Latn-BR","und-Brah":"pka-Brah-IN","und-Brai":"fr-Brai-FR","und-BT":"dz-Tibt-BT","und-Bugi":"bug-Bugi-ID","und-Buhd":"bku-Buhd-PH","und-BV":"und-Latn-BV","und-BY":"be-Cyrl-BY","und-Cakm":"ccp-Cakm-BD","und-Cans":"cr-Cans-CA","und-Cari":"xcr-Cari-TR","und-CD":"sw-Latn-CD","und-CF":"fr-Latn-CF","und-CG":"fr-Latn-CG","und-CH":"de-Latn-CH","und-Cham":"cjm-Cham-VN","und-Cher":"chr-Cher-US","und-Chrs":"xco-Chrs-UZ","und-CI":"fr-Latn-CI","und-CL":"es-Latn-CL","und-CM":"fr-Latn-CM","und-CN":"zh-Hans-CN","und-CO":"es-Latn-CO","und-Copt":"cop-Copt-EG","und-CP":"und-Latn-CP","und-Cpmn":"und-Cpmn-CY","und-Cpmn-CY":"und-Cpmn-CY","und-Cprt":"grc-Cprt-CY","und-CR":"es-Latn-CR","und-CU":"es-Latn-CU","und-CV":"pt-Latn-CV","und-CW":"pap-Latn-CW","und-CY":"el-Grek-CY","und-Cyrl":"ru-Cyrl-RU","und-Cyrl-AL":"mk-Cyrl-AL","und-Cyrl-BA":"sr-Cyrl-BA","und-Cyrl-GE":"os-Cyrl-GE","und-Cyrl-GR":"mk-Cyrl-GR","und-Cyrl-MD":"uk-Cyrl-MD","und-Cyrl-RO":"bg-Cyrl-RO","und-Cyrl-SK":"uk-Cyrl-SK","und-Cyrl-TR":"kbd-Cyrl-TR","und-Cyrl-XK":"sr-Cyrl-XK","und-CZ":"cs-Latn-CZ","und-DE":"de-Latn-DE","und-Deva":"hi-Deva-IN","und-Deva-BT":"ne-Deva-BT","und-Deva-FJ":"hif-Deva-FJ","und-Deva-MU":"bho-Deva-MU","und-Deva-PK":"btv-Deva-PK","und-Diak":"dv-Diak-MV","und-DJ":"aa-Latn-DJ","und-DK":"da-Latn-DK","und-DO":"es-Latn-DO","und-Dogr":"doi-Dogr-IN","und-Dupl":"fr-Dupl-FR","und-DZ":"ar-Arab-DZ","und-EA":"es-Latn-EA","und-EC":"es-Latn-EC","und-EE":"et-Latn-EE","und-EG":"ar-Arab-EG","und-Egyp":"egy-Egyp-EG","und-EH":"ar-Arab-EH","und-Elba":"sq-Elba-AL","und-Elym":"arc-Elym-IR","und-ER":"ti-Ethi-ER","und-ES":"es-Latn-ES","und-ET":"am-Ethi-ET","und-Ethi":"am-Ethi-ET","und-EU":"en-Latn-IE","und-EZ":"de-Latn-EZ","und-FI":"fi-Latn-FI","und-FO":"fo-Latn-FO","und-FR":"fr-Latn-FR","und-GA":"fr-Latn-GA","und-GE":"ka-Geor-GE","und-Geor":"ka-Geor-GE","und-GF":"fr-Latn-GF","und-GH":"ak-Latn-GH","und-GL":"kl-Latn-GL","und-Glag":"cu-Glag-BG","und-GN":"fr-Latn-GN","und-Gong":"wsg-Gong-IN","und-Gonm":"esg-Gonm-IN","und-Goth":"got-Goth-UA","und-GP":"fr-Latn-GP","und-GQ":"es-Latn-GQ","und-GR":"el-Grek-GR","und-Gran":"sa-Gran-IN","und-Grek":"el-Grek-GR","und-Grek-TR":"bgx-Grek-TR","und-GS":"und-Latn-GS","und-GT":"es-Latn-GT","und-Gujr":"gu-Gujr-IN","und-Guru":"pa-Guru-IN","und-GW":"pt-Latn-GW","und-Hanb":"zh-Hanb-TW","und-Hang":"ko-Hang-KR","und-Hani":"zh-Hani-CN","und-Hano":"hnn-Hano-PH","und-Hans":"zh-Hans-CN","und-Hant":"zh-Hant-TW","und-Hebr":"he-Hebr-IL","und-Hebr-CA":"yi-Hebr-CA","und-Hebr-GB":"yi-Hebr-GB","und-Hebr-SE":"yi-Hebr-SE","und-Hebr-UA":"yi-Hebr-UA","und-Hebr-US":"yi-Hebr-US","und-Hira":"ja-Hira-JP","und-HK":"zh-Hant-HK","und-Hluw":"hlu-Hluw-TR","und-HM":"und-Latn-HM","und-Hmng":"hnj-Hmng-LA","und-Hmnp":"hnj-Hmnp-US","und-HN":"es-Latn-HN","und-HR":"hr-Latn-HR","und-HT":"ht-Latn-HT","und-HU":"hu-Latn-HU","und-Hung":"hu-Hung-HU","und-IC":"es-Latn-IC","und-ID":"id-Latn-ID","und-IL":"he-Hebr-IL","und-IN":"hi-Deva-IN","und-IQ":"ar-Arab-IQ","und-IR":"fa-Arab-IR","und-IS":"is-Latn-IS","und-IT":"it-Latn-IT","und-Ital":"ett-Ital-IT","und-Jamo":"ko-Jamo-KR","und-Java":"jv-Java-ID","und-JO":"ar-Arab-JO","und-JP":"ja-Jpan-JP","und-Jpan":"ja-Jpan-JP","und-Kali":"eky-Kali-MM","und-Kana":"ja-Kana-JP","und-KE":"sw-Latn-KE","und-KG":"ky-Cyrl-KG","und-KH":"km-Khmr-KH","und-Khar":"pra-Khar-PK","und-Khmr":"km-Khmr-KH","und-Khoj":"sd-Khoj-IN","und-Kits":"zkt-Kits-CN","und-KM":"ar-Arab-KM","und-Knda":"kn-Knda-IN","und-Kore":"ko-Kore-KR","und-KP":"ko-Kore-KP","und-KR":"ko-Kore-KR","und-Kthi":"bho-Kthi-IN","und-KW":"ar-Arab-KW","und-KZ":"ru-Cyrl-KZ","und-LA":"lo-Laoo-LA","und-Lana":"nod-Lana-TH","und-Laoo":"lo-Laoo-LA","und-Latn-AF":"tk-Latn-AF","und-Latn-AM":"ku-Latn-AM","und-Latn-CN":"za-Latn-CN","und-Latn-CY":"tr-Latn-CY","und-Latn-DZ":"fr-Latn-DZ","und-Latn-ET":"en-Latn-ET","und-Latn-GE":"ku-Latn-GE","und-Latn-IR":"tk-Latn-IR","und-Latn-KM":"fr-Latn-KM","und-Latn-MA":"fr-Latn-MA","und-Latn-MK":"sq-Latn-MK","und-Latn-MM":"kac-Latn-MM","und-Latn-MO":"pt-Latn-MO","und-Latn-MR":"fr-Latn-MR","und-Latn-RU":"krl-Latn-RU","und-Latn-SY":"fr-Latn-SY","und-Latn-TN":"fr-Latn-TN","und-Latn-TW":"trv-Latn-TW","und-Latn-UA":"pl-Latn-UA","und-LB":"ar-Arab-LB","und-Lepc":"lep-Lepc-IN","und-LI":"de-Latn-LI","und-Limb":"lif-Limb-IN","und-Lina":"lab-Lina-GR","und-Linb":"grc-Linb-GR","und-Lisu":"lis-Lisu-CN","und-LK":"si-Sinh-LK","und-LS":"st-Latn-LS","und-LT":"lt-Latn-LT","und-LU":"fr-Latn-LU","und-LV":"lv-Latn-LV","und-LY":"ar-Arab-LY","und-Lyci":"xlc-Lyci-TR","und-Lydi":"xld-Lydi-TR","und-MA":"ar-Arab-MA","und-Mahj":"hi-Mahj-IN","und-Maka":"mak-Maka-ID","und-Mand":"myz-Mand-IR","und-Mani":"xmn-Mani-CN","und-Marc":"bo-Marc-CN","und-MC":"fr-Latn-MC","und-MD":"ro-Latn-MD","und-ME":"sr-Latn-ME","und-Medf":"dmf-Medf-NG","und-Mend":"men-Mend-SL","und-Merc":"xmr-Merc-SD","und-Mero":"xmr-Mero-SD","und-MF":"fr-Latn-MF","und-MG":"mg-Latn-MG","und-MK":"mk-Cyrl-MK","und-ML":"bm-Latn-ML","und-Mlym":"ml-Mlym-IN","und-MM":"my-Mymr-MM","und-MN":"mn-Cyrl-MN","und-MO":"zh-Hant-MO","und-Modi":"mr-Modi-IN","und-Mong":"mn-Mong-CN","und-MQ":"fr-Latn-MQ","und-MR":"ar-Arab-MR","und-Mroo":"mro-Mroo-BD","und-MT":"mt-Latn-MT","und-Mtei":"mni-Mtei-IN","und-MU":"mfe-Latn-MU","und-Mult":"skr-Mult-PK","und-MV":"dv-Thaa-MV","und-MX":"es-Latn-MX","und-MY":"ms-Latn-MY","und-Mymr":"my-Mymr-MM","und-Mymr-IN":"kht-Mymr-IN","und-Mymr-TH":"mnw-Mymr-TH","und-MZ":"pt-Latn-MZ","und-NA":"af-Latn-NA","und-Nand":"sa-Nand-IN","und-Narb":"xna-Narb-SA","und-Nbat":"arc-Nbat-JO","und-NC":"fr-Latn-NC","und-NE":"ha-Latn-NE","und-Newa":"new-Newa-NP","und-NI":"es-Latn-NI","und-Nkoo":"man-Nkoo-GN","und-NL":"nl-Latn-NL","und-NO":"nb-Latn-NO","und-NP":"ne-Deva-NP","und-Nshu":"zhx-Nshu-CN","und-Ogam":"sga-Ogam-IE","und-Olck":"sat-Olck-IN","und-OM":"ar-Arab-OM","und-Orkh":"otk-Orkh-MN","und-Orya":"or-Orya-IN","und-Osge":"osa-Osge-US","und-Osma":"so-Osma-SO","und-Ougr":"oui-Ougr-143","und-PA":"es-Latn-PA","und-Palm":"arc-Palm-SY","und-Pauc":"ctd-Pauc-MM","und-PE":"es-Latn-PE","und-Perm":"kv-Perm-RU","und-PF":"fr-Latn-PF","und-PG":"tpi-Latn-PG","und-PH":"fil-Latn-PH","und-Phag":"lzh-Phag-CN","und-Phli":"pal-Phli-IR","und-Phlp":"pal-Phlp-CN","und-Phnx":"phn-Phnx-LB","und-PK":"ur-Arab-PK","und-PL":"pl-Latn-PL","und-Plrd":"hmd-Plrd-CN","und-PM":"fr-Latn-PM","und-PR":"es-Latn-PR","und-Prti":"xpr-Prti-IR","und-PS":"ar-Arab-PS","und-PT":"pt-Latn-PT","und-PW":"pau-Latn-PW","und-PY":"gn-Latn-PY","und-QA":"ar-Arab-QA","und-QO":"en-Latn-DG","und-RE":"fr-Latn-RE","und-Rjng":"rej-Rjng-ID","und-RO":"ro-Latn-RO","und-Rohg":"rhg-Rohg-MM","und-RS":"sr-Cyrl-RS","und-RU":"ru-Cyrl-RU","und-Runr":"non-Runr-SE","und-RW":"rw-Latn-RW","und-SA":"ar-Arab-SA","und-Samr":"smp-Samr-IL","und-Sarb":"xsa-Sarb-YE","und-Saur":"saz-Saur-IN","und-SC":"fr-Latn-SC","und-SD":"ar-Arab-SD","und-SE":"sv-Latn-SE","und-Sgnw":"ase-Sgnw-US","und-Shaw":"en-Shaw-GB","und-Shrd":"sa-Shrd-IN","und-SI":"sl-Latn-SI","und-Sidd":"sa-Sidd-IN","und-Sind":"sd-Sind-IN","und-Sinh":"si-Sinh-LK","und-SJ":"nb-Latn-SJ","und-SK":"sk-Latn-SK","und-SM":"it-Latn-SM","und-SN":"fr-Latn-SN","und-SO":"so-Latn-SO","und-Sogd":"sog-Sogd-UZ","und-Sogo":"sog-Sogo-UZ","und-Sora":"srb-Sora-IN","und-Soyo":"cmg-Soyo-MN","und-SR":"nl-Latn-SR","und-ST":"pt-Latn-ST","und-Sund":"su-Sund-ID","und-SV":"es-Latn-SV","und-SY":"ar-Arab-SY","und-Sylo":"syl-Sylo-BD","und-Syrc":"syr-Syrc-IQ","und-Tagb":"tbw-Tagb-PH","und-Takr":"doi-Takr-IN","und-Tale":"tdd-Tale-CN","und-Talu":"khb-Talu-CN","und-Taml":"ta-Taml-IN","und-Tang":"txg-Tang-CN","und-Tavt":"blt-Tavt-VN","und-TD":"fr-Latn-TD","und-Telu":"te-Telu-IN","und-TF":"fr-Latn-TF","und-Tfng":"zgh-Tfng-MA","und-TG":"fr-Latn-TG","und-Tglg":"fil-Tglg-PH","und-TH":"th-Thai-TH","und-Thaa":"dv-Thaa-MV","und-Thai":"th-Thai-TH","und-Thai-CN":"lcp-Thai-CN","und-Thai-KH":"kdt-Thai-KH","und-Thai-LA":"kdt-Thai-LA","und-Tibt":"bo-Tibt-CN","und-Tirh":"mai-Tirh-IN","und-TJ":"tg-Cyrl-TJ","und-TK":"tkl-Latn-TK","und-TL":"pt-Latn-TL","und-TM":"tk-Latn-TM","und-TN":"ar-Arab-TN","und-Tnsa":"nst-Tnsa-IN","und-TO":"to-Latn-TO","und-Toto":"txo-Toto-IN","und-TR":"tr-Latn-TR","und-TV":"tvl-Latn-TV","und-TW":"zh-Hant-TW","und-TZ":"sw-Latn-TZ","und-UA":"uk-Cyrl-UA","und-UG":"sw-Latn-UG","und-Ugar":"uga-Ugar-SY","und-UY":"es-Latn-UY","und-UZ":"uz-Latn-UZ","und-VA":"it-Latn-VA","und-Vaii":"vai-Vaii-LR","und-VE":"es-Latn-VE","und-Vith":"sq-Vith-AL","und-VN":"vi-Latn-VN","und-VU":"bi-Latn-VU","und-Wara":"hoc-Wara-IN","und-Wcho":"nnp-Wcho-IN","und-WF":"fr-Latn-WF","und-WS":"sm-Latn-WS","und-XK":"sq-Latn-XK","und-Xpeo":"peo-Xpeo-IR","und-Xsux":"akk-Xsux-IQ","und-YE":"ar-Arab-YE","und-Yezi":"ku-Yezi-GE","und-Yiii":"ii-Yiii-CN","und-YT":"fr-Latn-YT","und-Zanb":"cmg-Zanb-MN","und-ZW":"sn-Latn-ZW",unr:"unr-Beng-IN","unr-Deva":"unr-Deva-NP","unr-NP":"unr-Deva-NP",unx:"unx-Beng-IN",uok:"uok-Latn-ZZ",ur:"ur-Arab-PK",uri:"uri-Latn-ZZ",urt:"urt-Latn-ZZ",urw:"urw-Latn-ZZ",usa:"usa-Latn-ZZ",uth:"uth-Latn-ZZ",utr:"utr-Latn-ZZ",uvh:"uvh-Latn-ZZ",uvl:"uvl-Latn-ZZ",uz:"uz-Latn-UZ","uz-AF":"uz-Arab-AF","uz-Arab":"uz-Arab-AF","uz-CN":"uz-Cyrl-CN",vag:"vag-Latn-ZZ",vai:"vai-Vaii-LR",van:"van-Latn-ZZ",ve:"ve-Latn-ZA",vec:"vec-Latn-IT",vep:"vep-Latn-RU",vi:"vi-Latn-VN",vic:"vic-Latn-SX",viv:"viv-Latn-ZZ",vls:"vls-Latn-BE",vmf:"vmf-Latn-DE",vmw:"vmw-Latn-MZ",vo:"vo-Latn-001",vot:"vot-Latn-RU",vro:"vro-Latn-EE",vun:"vun-Latn-TZ",vut:"vut-Latn-ZZ",wa:"wa-Latn-BE",wae:"wae-Latn-CH",waj:"waj-Latn-ZZ",wal:"wal-Ethi-ET",wan:"wan-Latn-ZZ",war:"war-Latn-PH",wbp:"wbp-Latn-AU",wbq:"wbq-Telu-IN",wbr:"wbr-Deva-IN",wci:"wci-Latn-ZZ",wer:"wer-Latn-ZZ",wgi:"wgi-Latn-ZZ",whg:"whg-Latn-ZZ",wib:"wib-Latn-ZZ",wiu:"wiu-Latn-ZZ",wiv:"wiv-Latn-ZZ",wja:"wja-Latn-ZZ",wji:"wji-Latn-ZZ",wls:"wls-Latn-WF",wmo:"wmo-Latn-ZZ",wnc:"wnc-Latn-ZZ",wni:"wni-Arab-KM",wnu:"wnu-Latn-ZZ",wo:"wo-Latn-SN",wob:"wob-Latn-ZZ",wos:"wos-Latn-ZZ",wrs:"wrs-Latn-ZZ",wsg:"wsg-Gong-IN",wsk:"wsk-Latn-ZZ",wtm:"wtm-Deva-IN",wuu:"wuu-Hans-CN",wuv:"wuv-Latn-ZZ",wwa:"wwa-Latn-ZZ",xav:"xav-Latn-BR",xbi:"xbi-Latn-ZZ",xco:"xco-Chrs-UZ",xcr:"xcr-Cari-TR",xes:"xes-Latn-ZZ",xh:"xh-Latn-ZA",xla:"xla-Latn-ZZ",xlc:"xlc-Lyci-TR",xld:"xld-Lydi-TR",xmf:"xmf-Geor-GE",xmn:"xmn-Mani-CN",xmr:"xmr-Merc-SD",xna:"xna-Narb-SA",xnr:"xnr-Deva-IN",xog:"xog-Latn-UG",xon:"xon-Latn-ZZ",xpr:"xpr-Prti-IR",xrb:"xrb-Latn-ZZ",xsa:"xsa-Sarb-YE",xsi:"xsi-Latn-ZZ",xsm:"xsm-Latn-ZZ",xsr:"xsr-Deva-NP",xwe:"xwe-Latn-ZZ",yam:"yam-Latn-ZZ",yao:"yao-Latn-MZ",yap:"yap-Latn-FM",yas:"yas-Latn-ZZ",yat:"yat-Latn-ZZ",yav:"yav-Latn-CM",yay:"yay-Latn-ZZ",yaz:"yaz-Latn-ZZ",yba:"yba-Latn-ZZ",ybb:"ybb-Latn-CM",yby:"yby-Latn-ZZ",yer:"yer-Latn-ZZ",ygr:"ygr-Latn-ZZ",ygw:"ygw-Latn-ZZ",yi:"yi-Hebr-001",yko:"yko-Latn-ZZ",yle:"yle-Latn-ZZ",ylg:"ylg-Latn-ZZ",yll:"yll-Latn-ZZ",yml:"yml-Latn-ZZ",yo:"yo-Latn-NG",yon:"yon-Latn-ZZ",yrb:"yrb-Latn-ZZ",yre:"yre-Latn-ZZ",yrl:"yrl-Latn-BR",yss:"yss-Latn-ZZ",yua:"yua-Latn-MX",yue:"yue-Hant-HK","yue-CN":"yue-Hans-CN","yue-Hans":"yue-Hans-CN",yuj:"yuj-Latn-ZZ",yut:"yut-Latn-ZZ",yuw:"yuw-Latn-ZZ",za:"za-Latn-CN",zag:"zag-Latn-SD",zdj:"zdj-Arab-KM",zea:"zea-Latn-NL",zgh:"zgh-Tfng-MA",zh:"zh-Hans-CN","zh-AU":"zh-Hant-AU","zh-BN":"zh-Hant-BN","zh-Bopo":"zh-Bopo-TW","zh-GB":"zh-Hant-GB","zh-GF":"zh-Hant-GF","zh-Hanb":"zh-Hanb-TW","zh-Hant":"zh-Hant-TW","zh-HK":"zh-Hant-HK","zh-ID":"zh-Hant-ID","zh-MO":"zh-Hant-MO","zh-PA":"zh-Hant-PA","zh-PF":"zh-Hant-PF","zh-PH":"zh-Hant-PH","zh-SR":"zh-Hant-SR","zh-TH":"zh-Hant-TH","zh-TW":"zh-Hant-TW","zh-US":"zh-Hant-US","zh-VN":"zh-Hant-VN",zhx:"zhx-Nshu-CN",zia:"zia-Latn-ZZ",zkt:"zkt-Kits-CN",zlm:"zlm-Latn-TG",zmi:"zmi-Latn-MY",zne:"zne-Latn-ZZ",zu:"zu-Latn-ZA",zza:"zza-Latn-TR"}},18371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnicodeLocaleId=t.parseUnicodeLanguageId=t.isUnicodeVariantSubtag=t.isUnicodeScriptSubtag=t.isUnicodeRegionSubtag=t.isStructurallyValidLanguageTag=t.isUnicodeLanguageSubtag=t.SEPARATOR=void 0;var r=n(70655),a=/^[a-z0-9]{1,8}$/i,i=/^[a-z0-9]{2,8}$/i,o=/^[a-z0-9]{3,8}$/i,s=/^[a-z0-9][a-z]$/i,l=/^[a-z0-9]{3,8}$/i,u=/^[a-z]{4}$/i,c=/^[0-9a-svwyz]$/i,d=/^([a-z]{2}|[0-9]{3})$/i,h=/^([a-z0-9]{5,8}|[0-9][a-z0-9]{3})$/i,f=/^([a-z]{2,3}|[a-z]{5,8})$/i,p=/^[a-z][0-9]$/i;function m(e){return f.test(e)}function g(e){return d.test(e)}function v(e){return u.test(e)}function y(e){return h.test(e)}function b(e){"string"==typeof e&&(e=e.split(t.SEPARATOR));var n,r,a=e.shift();if(!a)throw new RangeError("Missing unicode_language_subtag");if("root"===a)return{lang:"root",variants:[]};if(!m(a))throw new RangeError("Malformed unicode_language_subtag");e.length&&v(e[0])&&(n=e.shift()),e.length&&g(e[0])&&(r=e.shift());for(var i={};e.length&&y(e[0]);){var o=e.shift();if(o in i)throw new RangeError('Duplicate variant "'.concat(o,'"'));i[o]=1}return{lang:a,script:n,region:r,variants:Object.keys(i)}}function w(e){for(var t,n=[];e.length&&(t=x(e));)n.push(t);if(n.length)return{type:"u",keywords:n,attributes:[]};for(var r=[];e.length&&o.test(e[0]);)r.push(e.shift());for(;e.length&&(t=x(e));)n.push(t);if(n.length||r.length)return{type:"u",attributes:r,keywords:n};throw new RangeError("Malformed unicode_extension")}function x(e){var n;if(s.test(e[0])){n=e.shift();for(var r=[];e.length&&l.test(e[0]);)r.push(e.shift());var a="";return r.length&&(a=r.join(t.SEPARATOR)),[n,a]}}function L(e){var n;try{n=b(e)}catch(e){}for(var r=[];e.length&&p.test(e[0]);){for(var a=e.shift(),i=[];e.length&&o.test(e[0]);)i.push(e.shift());if(!i.length)throw new RangeError('Missing tvalue for tkey "'.concat(a,'"'));r.push([a,i.join(t.SEPARATOR)])}if(r.length)return{type:"t",fields:r,lang:n};throw new RangeError("Malformed transformed_extension")}function k(e){for(var n=[];e.length&&a.test(e[0]);)n.push(e.shift());if(n.length)return{type:"x",value:n.join(t.SEPARATOR)};throw new RangeError("Malformed private_use_extension")}function S(e){for(var n=[];e.length&&i.test(e[0]);)n.push(e.shift());return n.length?n.join(t.SEPARATOR):""}t.SEPARATOR="-",t.isUnicodeLanguageSubtag=m,t.isStructurallyValidLanguageTag=function(e){try{b(e.split(t.SEPARATOR))}catch(e){return!1}return!0},t.isUnicodeRegionSubtag=g,t.isUnicodeScriptSubtag=v,t.isUnicodeVariantSubtag=y,t.parseUnicodeLanguageId=b,t.parseUnicodeLocaleId=function(e){var n=e.split(t.SEPARATOR),a=b(n);return(0,r.__assign)({lang:a},function(e){if(!e.length)return{extensions:[]};var t,n,r,a=[],i={};do{var o=e.shift();switch(o){case"u":case"U":if(t)throw new RangeError("There can only be 1 -u- extension");t=w(e),a.push(t);break;case"t":case"T":if(n)throw new RangeError("There can only be 1 -t- extension");n=L(e),a.push(n);break;case"x":case"X":if(r)throw new RangeError("There can only be 1 -x- extension");r=k(e),a.push(r);break;default:if(!c.test(o))throw new RangeError("Malformed extension type");if(o in i)throw new RangeError("There can only be 1 -".concat(o,"- extension"));var s={type:o,value:S(e)};i[s.type]=s,a.push(s)}}while(e.length);return{extensions:a}}(n))}},539:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},31069:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new WeakMap;t.default=function(e){var t=n.get(e);return t||(t=Object.create(null),n.set(e,t)),t}},49679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Locale=void 0;var r=n(70655),a=n(23075),i=n(89097),o=(0,r.__importDefault)(n(31069)),s=["ca","co","hc","kf","kn","nu"],l=/^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;function u(e,t,n,a,i){return void 0===a&&(a=[]),i?{lang:e&&"und"!==e?e:i.lang,script:t||i.script,region:n||i.region,variants:(0,r.__spreadArray)((0,r.__spreadArray)([],a,!0),i.variants,!0)}:{lang:e||"und",script:t,region:n,variants:a}}function c(e){var t=(0,i.parseUnicodeLocaleId)(e),n=t.lang,r=n.lang,a=n.script,o=n.region,s=n.variants;if(a&&o){var l=i.likelySubtags[(0,i.emitUnicodeLanguageId)({lang:r,script:a,region:o,variants:[]})];if(l){var c=(0,i.parseUnicodeLanguageId)(l);return t.lang=u(void 0,void 0,void 0,s,c),(0,i.emitUnicodeLocaleId)(t)}}if(a){var d=i.likelySubtags[(0,i.emitUnicodeLanguageId)({lang:r,script:a,variants:[]})];if(d){var h=(0,i.parseUnicodeLanguageId)(d);return t.lang=u(void 0,void 0,o,s,h),(0,i.emitUnicodeLocaleId)(t)}}if(o){var f=i.likelySubtags[(0,i.emitUnicodeLanguageId)({lang:r,region:o,variants:[]})];if(f){var p=(0,i.parseUnicodeLanguageId)(f);return t.lang=u(void 0,a,void 0,s,p),(0,i.emitUnicodeLocaleId)(t)}}var m=i.likelySubtags[r]||i.likelySubtags[(0,i.emitUnicodeLanguageId)({lang:"und",script:a,variants:[]})];if(!m)throw new Error("No match for addLikelySubtags");var g=(0,i.parseUnicodeLanguageId)(m);return t.lang=u(void 0,a,o,s,g),(0,i.emitUnicodeLocaleId)(t)}var d=function(){function e(t,n){if(!(this&&this instanceof e?this.constructor:void 0))throw new TypeError("Intl.Locale must be called with 'new'");var s,u=e.relevantExtensionKeys,c=["initializedLocale","locale","calendar","collation","hourCycle","numberingSystem"];if(u.indexOf("kf")>-1&&c.push("caseFirst"),u.indexOf("kn")>-1&&c.push("numeric"),void 0===t)throw new TypeError("First argument to Intl.Locale constructor can't be empty or missing");if("string"!=typeof t&&"object"!=typeof t)throw new TypeError("tag must be a string or object");t="object"==typeof t&&(s=(0,o.default)(t))&&s.initializedLocale?s.locale:t.toString(),s=(0,o.default)(this);var d=(0,a.CoerceOptionsToObject)(n);t=function(e,t){(0,a.invariant)("string"==typeof e,"language tag must be a string"),(0,a.invariant)((0,i.isStructurallyValidLanguageTag)(e),"malformed language tag",RangeError);var n=(0,a.GetOption)(t,"language","string",void 0,void 0);void 0!==n&&(0,a.invariant)((0,i.isUnicodeLanguageSubtag)(n),"Malformed unicode_language_subtag",RangeError);var o=(0,a.GetOption)(t,"script","string",void 0,void 0);void 0!==o&&(0,a.invariant)((0,i.isUnicodeScriptSubtag)(o),"Malformed unicode_script_subtag",RangeError);var s=(0,a.GetOption)(t,"region","string",void 0,void 0);void 0!==s&&(0,a.invariant)((0,i.isUnicodeRegionSubtag)(s),"Malformed unicode_region_subtag",RangeError);var l=(0,i.parseUnicodeLanguageId)(e);return void 0!==n&&(l.lang=n),void 0!==o&&(l.script=o),void 0!==s&&(l.region=s),Intl.getCanonicalLocales((0,i.emitUnicodeLocaleId)((0,r.__assign)((0,r.__assign)({},(0,i.parseUnicodeLocaleId)(e)),{lang:l})))[0]}(t,d);var h=Object.create(null),f=(0,a.GetOption)(d,"calendar","string",void 0,void 0);if(void 0!==f&&!l.test(f))throw new RangeError("invalid calendar");h.ca=f;var p=(0,a.GetOption)(d,"collation","string",void 0,void 0);if(void 0!==p&&!l.test(p))throw new RangeError("invalid collation");h.co=p;var m=(0,a.GetOption)(d,"hourCycle","string",["h11","h12","h23","h24"],void 0);h.hc=m;var g=(0,a.GetOption)(d,"caseFirst","string",["upper","lower","false"],void 0);h.kf=g;var v,y=(0,a.GetOption)(d,"numeric","boolean",void 0,void 0);void 0!==y&&(v=String(y)),h.kn=v;var b=(0,a.GetOption)(d,"numberingSystem","string",void 0,void 0);if(void 0!==b&&!l.test(b))throw new RangeError("Invalid numberingSystem");h.nu=b;var w=function(e,t,n){for(var r,o=[],s=(0,i.parseUnicodeLocaleId)(e),l=0,u=s.extensions;l<u.length;l++){var c=u[l];"u"===c.type&&(r=c,Array.isArray(c.keywords)&&(o=c.keywords))}for(var d=Object.create(null),h=0,f=n;h<f.length;h++){for(var p=f[h],m=void 0,g=void 0,v=0,y=o;v<y.length;v++){var b=y[v];b[0]===p&&(m=(g=b)[1])}(0,a.invariant)(p in t,"".concat(p," must be in options"));var w=t[p];void 0!==w&&((0,a.invariant)("string"==typeof w,"Value for ".concat(p," must be a string")),m=w,g?g[1]=m:o.push([p,m])),d[p]=m}return r?r.keywords=o:o.length&&s.extensions.push({type:"u",keywords:o,attributes:[]}),d.locale=Intl.getCanonicalLocales((0,i.emitUnicodeLocaleId)(s))[0],d}(t,h,u);s.locale=w.locale,s.calendar=w.ca,s.collation=w.co,s.hourCycle=w.hc,u.indexOf("kf")>-1&&(s.caseFirst=w.kf),u.indexOf("kn")>-1&&(s.numeric=(0,a.SameValue)(w.kn,"true")),s.numberingSystem=w.nu}return e.prototype.maximize=function(){var t=(0,o.default)(this).locale;try{return new e(c(t))}catch(n){return new e(t)}},e.prototype.minimize=function(){var t=(0,o.default)(this).locale;try{return new e(function(e){var t=c(e);if(!t)return e;t=(0,i.emitUnicodeLanguageId)((0,r.__assign)((0,r.__assign)({},(0,i.parseUnicodeLanguageId)(t)),{variants:[]}));var n=(0,i.parseUnicodeLocaleId)(e),a=n.lang,o=a.lang,s=a.script,l=a.region,d=a.variants;return c((0,i.emitUnicodeLanguageId)({lang:o,variants:[]}))===t?(0,i.emitUnicodeLocaleId)((0,r.__assign)((0,r.__assign)({},n),{lang:u(o,void 0,void 0,d)})):l&&c((0,i.emitUnicodeLanguageId)({lang:o,region:l,variants:[]}))===t?(0,i.emitUnicodeLocaleId)((0,r.__assign)((0,r.__assign)({},n),{lang:u(o,void 0,l,d)})):s&&c((0,i.emitUnicodeLanguageId)({lang:o,script:s,variants:[]}))===t?(0,i.emitUnicodeLocaleId)((0,r.__assign)((0,r.__assign)({},n),{lang:u(o,s,void 0,d)})):e}(t))}catch(n){return new e(t)}},e.prototype.toString=function(){return(0,o.default)(this).locale},Object.defineProperty(e.prototype,"baseName",{get:function(){var e=(0,o.default)(this).locale;return(0,i.emitUnicodeLanguageId)((0,i.parseUnicodeLanguageId)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"calendar",{get:function(){return(0,o.default)(this).calendar},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collation",{get:function(){return(0,o.default)(this).collation},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hourCycle",{get:function(){return(0,o.default)(this).hourCycle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"caseFirst",{get:function(){return(0,o.default)(this).caseFirst},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numeric",{get:function(){return(0,o.default)(this).numeric},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numberingSystem",{get:function(){return(0,o.default)(this).numberingSystem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){var e=(0,o.default)(this).locale;return(0,i.parseUnicodeLanguageId)(e).lang},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"script",{get:function(){var e=(0,o.default)(this).locale;return(0,i.parseUnicodeLanguageId)(e).script},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"region",{get:function(){var e=(0,o.default)(this).locale;return(0,i.parseUnicodeLanguageId)(e).region},enumerable:!1,configurable:!0}),e.relevantExtensionKeys=s,e}();t.Locale=d;try{"undefined"!=typeof Symbol&&Object.defineProperty(d.prototype,Symbol.toStringTag,{value:"Intl.Locale",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype.constructor,"length",{value:1,writable:!1,enumerable:!1,configurable:!0})}catch(e){}t.default=d},31942:function(e,t,n){"use strict";var r=n(49679);(0,n(95916).shouldPolyfill)()&&Object.defineProperty(Intl,"Locale",{value:r.Locale,writable:!0,enumerable:!1,configurable:!0})},95916:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldPolyfill=void 0,t.shouldPolyfill=function(){return!("Locale"in Intl)||function(){try{return"x-private"===new Intl.Locale("und-x-private").toString()}catch(e){return!0}}()}},64354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GetOperands=void 0;var r=n(23075);t.GetOperands=function(e){(0,r.invariant)("string"==typeof e,"GetOperands should have been called with a string");var t=(0,r.ToNumber)(e);(0,r.invariant)(isFinite(t),"n should be finite");var n,a,i,o=e.indexOf("."),s="";-1===o?(n=t,a=0,i=0):(n=e.slice(0,o),s=e.slice(o,e.length),a=(0,r.ToNumber)(s),i=s.length);var l,u,c=Math.abs((0,r.ToNumber)(n));if(0!==a){var d=s.replace(/0+$/,"");l=d.length,u=(0,r.ToNumber)(d)}else l=0,u=0;return{Number:t,IntegerDigits:c,NumberOfFractionDigits:i,NumberOfFractionDigitsWithoutTrailing:l,FractionDigits:a,FractionDigitsWithoutTrailing:u}}},30468:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InitializePluralRules=void 0;var r=n(23075),a=n(1607);t.InitializePluralRules=function(e,t,n,i){var o=i.availableLocales,s=i.relevantExtensionKeys,l=i.localeData,u=i.getDefaultLocale,c=i.getInternalSlots,d=(0,r.CanonicalizeLocaleList)(t),h=Object.create(null),f=(0,r.CoerceOptionsToObject)(n),p=c(e);p.initializedPluralRules=!0;var m=(0,r.GetOption)(f,"localeMatcher","string",["best fit","lookup"],"best fit");h.localeMatcher=m,p.type=(0,r.GetOption)(f,"type","string",["cardinal","ordinal"],"cardinal"),(0,r.SetNumberFormatDigitOptions)(p,f,0,3,"standard");var g=(0,a.ResolveLocale)(o,d,h,s,l,u);return p.locale=g.locale,e}},1737:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvePlural=void 0;var r=n(23075),a=n(64354);t.ResolvePlural=function(e,t,n){var i=n.getInternalSlots,o=n.PluralRuleSelect,s=i(e);if((0,r.invariant)("Object"===(0,r.Type)(s),"pl has to be an object"),(0,r.invariant)("initializedPluralRules"in s,"pluralrules must be initialized"),(0,r.invariant)("Number"===(0,r.Type)(t),"n must be a number"),!isFinite(t))return"other";var l=s.locale,u=s.type,c=(0,r.FormatNumericToString)(s,t).formattedString;return o(l,u,t,(0,a.GetOperands)(c))}},86930:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new WeakMap;t.default=function(e){var t=n.get(e);return t||(t=Object.create(null),n.set(e,t)),t}},64109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluralRules=void 0;var r=n(70655),a=n(23075),i=n(30468),o=n(1737),s=(0,r.__importDefault)(n(86930));function l(e,t){if(!(e instanceof c))throw new TypeError("Method Intl.PluralRules.prototype.".concat(t," called on incompatible receiver ").concat(String(e)))}function u(e,t,n,r){var a=r.IntegerDigits,i=r.NumberOfFractionDigits,o=r.FractionDigits;return c.localeData[e].fn(i?"".concat(a,".").concat(o):a,"ordinal"===t)}var c=function(){function e(t,n){if(!(this&&this instanceof e?this.constructor:void 0))throw new TypeError("Intl.PluralRules must be called with 'new'");return(0,i.InitializePluralRules)(this,t,n,{availableLocales:e.availableLocales,relevantExtensionKeys:e.relevantExtensionKeys,localeData:e.localeData,getDefaultLocale:e.getDefaultLocale,getInternalSlots:s.default})}return e.prototype.resolvedOptions=function(){l(this,"resolvedOptions");var t=Object.create(null),n=(0,s.default)(this);return t.locale=n.locale,t.type=n.type,["minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"].forEach((function(e){var r=n[e];void 0!==r&&(t[e]=r)})),t.pluralCategories=(0,r.__spreadArray)([],e.localeData[t.locale].categories[t.type],!0),t},e.prototype.select=function(e){l(this,"select");var t=(0,a.ToNumber)(e);return(0,o.ResolvePlural)(this,t,{getInternalSlots:s.default,PluralRuleSelect:u})},e.prototype.toString=function(){return"[object Intl.PluralRules]"},e.supportedLocalesOf=function(t,n){return(0,a.SupportedLocales)(e.availableLocales,(0,a.CanonicalizeLocaleList)(t),n)},e.__addLocaleData=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,a=t;r<a.length;r++){var i=a[r],o=i.data,s=i.locale;e.localeData[s]=o,e.availableLocales.add(s),e.__defaultLocale||(e.__defaultLocale=s)}},e.getDefaultLocale=function(){return e.__defaultLocale},e.localeData={},e.availableLocales=new Set,e.__defaultLocale="",e.relevantExtensionKeys=[],e.polyfilled=!0,e}();t.PluralRules=c;try{"undefined"!=typeof Symbol&&Object.defineProperty(c.prototype,Symbol.toStringTag,{value:"Intl.PluralRules",writable:!1,enumerable:!1,configurable:!0});try{Object.defineProperty(c,"length",{value:0,writable:!1,enumerable:!1,configurable:!0})}catch(e){}Object.defineProperty(c.prototype.constructor,"length",{value:0,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(c.supportedLocalesOf,"length",{value:1,writable:!1,enumerable:!1,configurable:!0})}catch(e){}},17689:function(){Intl.PluralRules&&"function"==typeof Intl.PluralRules.__addLocaleData&&Intl.PluralRules.__addLocaleData({data:{categories:{cardinal:["one","other"],ordinal:["one","two","few","other"]},fn:function(e,t){var n=String(e).split("."),r=!n[1],a=Number(n[0])==e,i=a&&n[0].slice(-1),o=a&&n[0].slice(-2);return t?1==i&&11!=o?"one":2==i&&12!=o?"two":3==i&&13!=o?"few":"other":1==e&&r?"one":"other"}},locale:"en"})},74462:function(e,t,n){"use strict";var r=n(64109);(0,n(77208).shouldPolyfill)()&&Object.defineProperty(Intl,"PluralRules",{value:r.PluralRules,writable:!0,enumerable:!1,configurable:!0})},77208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldPolyfill=void 0;var r=n(1607),a=n(57716);t.shouldPolyfill=function(e){if(void 0===e&&(e="en"),!("PluralRules"in Intl)||"one"===new Intl.PluralRules("en",{minimumFractionDigits:2}).select(1)||!function(e){if(!e)return!0;var t=Array.isArray(e)?e:[e];return Intl.PluralRules.supportedLocalesOf(t).length===t.length}(e))return e?(0,r.match)([e],a.supportedLocales,"en"):void 0}},57716:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedLocales=void 0,t.supportedLocales=["af","ak","am","an","ar","ars","as","asa","ast","az","bal","be","bem","bez","bg","bho","bm","bn","bo","br","brx","bs","ca","ce","ceb","cgg","chr","ckb","cs","cy","da","de","doi","dsb","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fil","fo","fr","fur","fy","ga","gd","gl","gsw","gu","guw","gv","ha","haw","he","hi","hnj","hr","hsb","hu","hy","ia","id","ig","ii","io","is","it","iu","ja","jbo","jgo","jmc","jv","jw","ka","kab","kaj","kcg","kde","kea","kk","kkj","kl","km","kn","ko","ks","ksb","ksh","ku","kw","ky","lag","lb","lg","lij","lkt","ln","lo","lt","lv","mas","mg","mgo","mk","ml","mn","mo","mr","ms","mt","my","nah","naq","nb","nd","ne","nl","nn","nnh","no","nqo","nr","nso","ny","nyn","om","or","os","osa","pa","pap","pcm","pl","prg","ps","pt-PT","pt","rm","ro","rof","ru","rwk","sah","saq","sat","sc","scn","sd","sdh","se","seh","ses","sg","sh","shi","si","sk","sl","sma","smi","smj","smn","sms","sn","so","sq","sr","ss","ssy","st","su","sv","sw","syr","ta","te","teo","th","ti","tig","tk","tl","tn","to","tpi","tr","ts","tzm","ug","uk","und","ur","uz","ve","vi","vo","vun","wa","wae","wo","xh","xog","yi","yo","yue","zh","zu"]},14359:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new WeakMap;t.default=function(e){var t=n.get(e);return t||(t=Object.create(null),n.set(e,t)),t}},96141:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70655),a=n(86966),i=r.__importDefault(n(14359)),o=function(){function e(t,n){if(!(this&&this instanceof e?this.constructor:void 0))throw new TypeError("Intl.RelativeTimeFormat must be called with 'new'");return a.InitializeRelativeTimeFormat(this,t,n,{getInternalSlots:i.default,availableLocales:e.availableLocales,relevantExtensionKeys:e.relevantExtensionKeys,localeData:e.localeData,getDefaultLocale:e.getDefaultLocale})}return e.prototype.format=function(e,t){if("object"!=typeof this)throw new TypeError("format was called on a non-object");if(!i.default(this).initializedRelativeTimeFormat)throw new TypeError("format was called on a invalid context");return a.PartitionRelativeTimePattern(this,Number(e),a.ToString(t),{getInternalSlots:i.default}).map((function(e){return e.value})).join("")},e.prototype.formatToParts=function(e,t){if("object"!=typeof this)throw new TypeError("formatToParts was called on a non-object");if(!i.default(this).initializedRelativeTimeFormat)throw new TypeError("formatToParts was called on a invalid context");return a.PartitionRelativeTimePattern(this,Number(e),a.ToString(t),{getInternalSlots:i.default})},e.prototype.resolvedOptions=function(){if("object"!=typeof this)throw new TypeError("resolvedOptions was called on a non-object");var e=i.default(this);if(!e.initializedRelativeTimeFormat)throw new TypeError("resolvedOptions was called on a invalid context");return{locale:e.locale,style:e.style,numeric:e.numeric,numberingSystem:e.numberingSystem}},e.supportedLocalesOf=function(t,n){return a.SupportedLocales(e.availableLocales,a.CanonicalizeLocaleList(t),n)},e.__addLocaleData=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,a=t;r<a.length;r++){var i=a[r],o=i.data,s=i.locale,l=new Intl.Locale(s).minimize().toString();e.localeData[s]=e.localeData[l]=o,e.availableLocales.add(l),e.availableLocales.add(s),e.__defaultLocale||(e.__defaultLocale=l)}},e.getDefaultLocale=function(){return e.__defaultLocale},e.localeData={},e.availableLocales=new Set,e.__defaultLocale="",e.relevantExtensionKeys=["nu"],e.polyfilled=!0,e}();t.default=o;try{"undefined"!=typeof Symbol&&Object.defineProperty(o.prototype,Symbol.toStringTag,{value:"Intl.RelativeTimeFormat",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype.constructor,"length",{value:0,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(o.supportedLocalesOf,"length",{value:1,writable:!1,enumerable:!1,configurable:!0})}catch(e){}},5547:function(){Intl.RelativeTimeFormat&&"function"==typeof Intl.RelativeTimeFormat.__addLocaleData&&Intl.RelativeTimeFormat.__addLocaleData({data:{nu:["latn"],year:{0:"this year",1:"next year",future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"},"-1":"last year"},"year-short":{0:"this yr.",1:"next yr.",future:{one:"in {0} yr.",other:"in {0} yr."},past:{one:"{0} yr. ago",other:"{0} yr. ago"},"-1":"last yr."},"year-narrow":{0:"this yr.",1:"next yr.",future:{one:"in {0} yr.",other:"in {0} yr."},past:{one:"{0} yr. ago",other:"{0} yr. ago"},"-1":"last yr."},quarter:{0:"this quarter",1:"next quarter",future:{one:"in {0} quarter",other:"in {0} quarters"},past:{one:"{0} quarter ago",other:"{0} quarters ago"},"-1":"last quarter"},"quarter-short":{0:"this qtr.",1:"next qtr.",future:{one:"in {0} qtr.",other:"in {0} qtrs."},past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},"-1":"last qtr."},"quarter-narrow":{0:"this qtr.",1:"next qtr.",future:{one:"in {0} qtr.",other:"in {0} qtrs."},past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},"-1":"last qtr."},month:{0:"this month",1:"next month",future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"},"-1":"last month"},"month-short":{0:"this mo.",1:"next mo.",future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"},"-1":"last mo."},"month-narrow":{0:"this mo.",1:"next mo.",future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"},"-1":"last mo."},week:{0:"this week",1:"next week",future:{one:"in {0} week",other:"in {0} weeks"},past:{one:"{0} week ago",other:"{0} weeks ago"},"-1":"last week"},"week-short":{0:"this wk.",1:"next wk.",future:{one:"in {0} wk.",other:"in {0} wk."},past:{one:"{0} wk. ago",other:"{0} wk. ago"},"-1":"last wk."},"week-narrow":{0:"this wk.",1:"next wk.",future:{one:"in {0} wk.",other:"in {0} wk."},past:{one:"{0} wk. ago",other:"{0} wk. ago"},"-1":"last wk."},day:{0:"today",1:"tomorrow",future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"},"-1":"yesterday"},"day-short":{0:"today",1:"tomorrow",future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"},"-1":"yesterday"},"day-narrow":{0:"today",1:"tomorrow",future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"},"-1":"yesterday"},hour:{0:"this hour",future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}},"hour-short":{0:"this hour",future:{one:"in {0} hr.",other:"in {0} hr."},past:{one:"{0} hr. ago",other:"{0} hr. ago"}},"hour-narrow":{0:"this hour",future:{one:"in {0} hr.",other:"in {0} hr."},past:{one:"{0} hr. ago",other:"{0} hr. ago"}},minute:{0:"this minute",future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}},"minute-short":{0:"this minute",future:{one:"in {0} min.",other:"in {0} min."},past:{one:"{0} min. ago",other:"{0} min. ago"}},"minute-narrow":{0:"this minute",future:{one:"in {0} min.",other:"in {0} min."},past:{one:"{0} min. ago",other:"{0} min. ago"}},second:{0:"now",future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}},"second-short":{0:"now",future:{one:"in {0} sec.",other:"in {0} sec."},past:{one:"{0} sec. ago",other:"{0} sec. ago"}},"second-narrow":{0:"now",future:{one:"in {0} sec.",other:"in {0} sec."},past:{one:"{0} sec. ago",other:"{0} sec. ago"}}},locale:"en"})},86966:function(e,t,n){"use strict";n.r(t),n.d(t,{ArrayCreate:function(){return O},BasicFormatMatcher:function(){return ee},BestFitFormatMatcher:function(){return A},CanonicalCodeForDisplayNames:function(){return Ce},CanonicalizeLocaleList:function(){return _},CanonicalizeTimeZoneName:function(){return E},CoerceOptionsToObject:function(){return J},ComputeExponent:function(){return je},ComputeExponentForMagnitude:function(){return Fe},CurrencyDigits:function(){return ze},DATE_TIME_PROPS:function(){return m},DateFromTime:function(){return W},DateTimeStyleFormat:function(){return te},Day:function(){return U},DayFromYear:function(){return j},DayWithinYear:function(){return H},DaysInYear:function(){return G},FormatDateTime:function(){return le},FormatDateTimeRange:function(){return de},FormatDateTimeRangeToParts:function(){return he},FormatDateTimeToParts:function(){return fe},FormatNumericToParts:function(){return Je},FormatNumericToString:function(){return Ne},FormatRelativeTime:function(){return ut},FormatRelativeTimeToParts:function(){return ct},GetNumberOption:function(){return xe},GetOperands:function(){return rt},GetOption:function(){return me},GetOptionsObject:function(){return Te},HasOwnProperty:function(){return R},HourFromTime:function(){return $},InLeapYear:function(){return V},InitializeDateTimeFormat:function(){return Se},InitializeNumberFormat:function(){return nt},InitializePluralRules:function(){return at},InitializeRelativeTimeFormat:function(){return ft},IsSanctionedSimpleUnitIdentifier:function(){return Re},IsValidTimeZoneName:function(){return be},IsWellFormedCurrencyCode:function(){return _e},IsWellFormedUnitIdentifier:function(){return Ze},MakePartsList:function(){return st},MinFromTime:function(){return K},MonthFromTime:function(){return q},OrdinaryHasInstance:function(){return X},PartitionDateTimePattern:function(){return se},PartitionNumberPattern:function(){return Qe},PartitionPattern:function(){return oe},PartitionRelativeTimePattern:function(){return lt},RangePatternType:function(){return p},ResolveLocale:function(){return ye},ResolvePlural:function(){return it},SANCTIONED_UNITS:function(){return De},SIMPLE_UNITS:function(){return Oe},SameValue:function(){return P},SecFromTime:function(){return Y},SetNumberFormatDigitOptions:function(){return tt},SetNumberFormatUnitOptions:function(){return et},SingularRelativeTimeUnit:function(){return ot},SupportedLocales:function(){return pt},TimeClip:function(){return T},TimeFromYear:function(){return z},ToDateTimeOptions:function(){return pe},ToNumber:function(){return C},ToObject:function(){return D},ToRawFixed:function(){return Ue},ToRawPrecision:function(){return Ie},ToString:function(){return M},Type:function(){return Z},WeekDay:function(){return N},YearFromTime:function(){return B},_formatToParts:function(){return $e},defineProperty:function(){return d},getInternalSlot:function(){return l},getMagnitude:function(){return a},getMultiInternalSlots:function(){return u},invariant:function(){return f},isLiteralPart:function(){return c},isMissingLocaleDataError:function(){return mt},msFromTime:function(){return Q},parseDateTimeSkeleton:function(){return x},removeUnitNamespace:function(){return Pe},setInternalSlot:function(){return o},setMultiInternalSlots:function(){return s}});var r=n(70655);function a(e){return Math.floor(Math.log(e)*Math.LOG10E)}function i(e,t){if("function"==typeof e.repeat)return e.repeat(t);for(var n=new Array(t),r=0;r<n.length;r++)n[r]=e;return n.join("")}function o(e,t,n,r){e.get(t)||e.set(t,Object.create(null)),e.get(t)[n]=r}function s(e,t,n){for(var r=0,a=Object.keys(n);r<a.length;r++){var i=a[r];o(e,t,i,n[i])}}function l(e,t,n){return u(e,t,n)[n]}function u(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=e.get(t);if(!a)throw new TypeError(t+" InternalSlot has not been initialized");return n.reduce((function(e,t){return e[t]=a[t],e}),Object.create(null))}function c(e){return"literal"===e.type}function d(e,t,n){var r=n.value;Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r})}var h=/-u(?:-[0-9a-z]{2,8})+/gi;function f(e,t,n){if(void 0===n&&(n=Error),!e)throw new n(t)}var p,m=["weekday","era","year","month","day","hour","minute","second","timeZoneName"];!function(e){e.startRange="startRange",e.shared="shared",e.endRange="endRange"}(p||(p={}));var g=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g,v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function y(e,t){var n=e.length;switch(e[0]){case"G":return t.era=4===n?"long":5===n?"narrow":"short","{era}";case"y":case"Y":case"u":case"U":case"r":return t.year=2===n?"2-digit":"numeric","{year}";case"q":case"Q":throw new RangeError("`w/Q` (quarter) patterns are not supported");case"M":case"L":return t.month=["numeric","2-digit","short","long","narrow"][n-1],"{month}";case"w":case"W":throw new RangeError("`w/W` (week of year) patterns are not supported");case"d":return t.day=["numeric","2-digit"][n-1],"{day}";case"D":case"F":case"g":return t.day="numeric","{day}";case"E":return t.weekday=4===n?"long":5===n?"narrow":"short","{weekday}";case"e":case"c":return t.weekday=[void 0,void 0,"short","long","narrow","short"][n-1],"{weekday}";case"a":case"b":case"B":return t.hour12=!0,"{ampm}";case"h":case"K":return t.hour=["numeric","2-digit"][n-1],t.hour12=!0,"{hour}";case"H":case"k":return t.hour=["numeric","2-digit"][n-1],"{hour}";case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":return t.minute=["numeric","2-digit"][n-1],"{minute}";case"s":return t.second=["numeric","2-digit"][n-1],"{second}";case"S":case"A":return t.second="numeric","{second}";case"z":case"Z":case"O":case"v":case"V":case"X":case"x":return t.timeZoneName=n<4?"short":"long","{timeZoneName}"}return""}function b(e){switch(e){case"G":return"era";case"y":case"Y":case"u":case"U":case"r":return"year";case"M":case"L":return"month";case"d":case"D":case"F":case"g":return"day";case"a":case"b":case"B":return"ampm";case"h":case"H":case"K":case"k":return"hour";case"m":return"minute";case"s":case"S":case"A":return"second";default:throw new RangeError("Invalid range pattern token")}}function w(e,t){var n=[],r=e.replace(/'{2}/g,"{apostrophe}").replace(/'(.*?)'/g,(function(e,t){return n.push(t),"$$"+(n.length-1)+"$$"})).replace(g,(function(e){return y(e,t||{})}));return n.length&&(r=r.replace(/\$\$(\d+)\$\$/g,(function(e,t){return n[+t]})).replace(/\{apostrophe\}/g,"'")),[r.replace(/([\s\uFEFF\xA0])\{ampm\}([\s\uFEFF\xA0])/,"$1").replace("{ampm}","").replace(v,""),r]}function x(e,t,n,a){void 0===t&&(t=e);var i={pattern:"",pattern12:"",skeleton:e,rawPattern:t,rangePatterns:{},rangePatterns12:{}};if(n)for(var o in n){var s=b(o),l={patternParts:[]},u=w(n[o],l),c=u[0],d=u[1];i.rangePatterns[s]=(0,r.__assign)((0,r.__assign)({},l),{patternParts:L(c)}),i.rangePatterns12[s]=(0,r.__assign)((0,r.__assign)({},l),{patternParts:L(d)})}else if(a){var h=function(e){return e.split(/(\{[0|1]\})/g).filter(Boolean).map((function(e){switch(e){case"{0}":return{source:p.startRange,pattern:e};case"{1}":return{source:p.endRange,pattern:e};default:return{source:p.shared,pattern:e}}}))}(a);i.rangePatterns.default={patternParts:h},i.rangePatterns12.default={patternParts:h}}e.replace(g,(function(e){return y(e,i)}));var f=w(t),m=f[0],v=f[1];return i.pattern=m,i.pattern12=v,i}function L(e){for(var t,n=/\{(.*?)\}/g,r={},a=0;t=n.exec(e);){if(t[0]in r){a=t.index;break}r[t[0]]=t.index}return a?[{source:p.startRange,pattern:e.slice(0,a)},{source:p.endRange,pattern:e.slice(a)}]:[{source:p.startRange,pattern:e}]}function k(e){return"numeric"===e||"2-digit"===e}function S(e,t){var n=0;e.hour12&&!t.hour12?n-=120:!e.hour12&&t.hour12&&(n-=20);for(var r=0,a=m;r<a.length;r++){var i=a[r],o=e[i],s=t[i];if(void 0===o&&void 0!==s)n-=20;else if(void 0!==o&&void 0===s)n-=120;else if(o!==s)if(k(o)!==k(s))n-=15;else{var l=["2-digit","numeric","narrow","short","long"],u=l.indexOf(o),c=l.indexOf(s),d=Math.max(-2,Math.min(c-u,2));2===d?n-=6:1===d?n-=3:-1===d?n-=6:-2===d&&(n-=8)}}return n}function A(e,t){var n=-1/0,a=t[0];f(Array.isArray(t),"formats should be a list of things");for(var i=0,o=t;i<o.length;i++){var s=o[i],l=S(e,s);l>n&&(n=l,a=s)}var u=(0,r.__assign)({},a),c={rawPattern:a.rawPattern};for(var d in w(a.rawPattern,c),u){var h=u[d],p=c[d],m=e[d];"minute"!==d&&"second"!==d&&m&&(k(p)&&!k(m)||h!==m&&(c[d]=m))}return c.pattern=u.pattern,c.pattern12=u.pattern12,c.skeleton=u.skeleton,c.rangePatterns=u.rangePatterns,c.rangePatterns12=u.rangePatterns12,c}function _(e){return Intl.getCanonicalLocales(e)}function E(e,t){var n=t.tzData,r=t.uppercaseLinks,a=e.toUpperCase(),i=Object.keys(n).reduce((function(e,t){return e[t.toUpperCase()]=t,e}),{}),o=r[a]||i[a];return"Etc/UTC"===o||"Etc/GMT"===o?"UTC":o}function M(e){if("symbol"==typeof e)throw TypeError("Cannot convert a Symbol value to a string");return String(e)}function C(e){if(void 0===e)return NaN;if(null===e)return 0;if("boolean"==typeof e)return e?1:0;if("number"==typeof e)return e;if("symbol"==typeof e||"bigint"==typeof e)throw new TypeError("Cannot convert symbol/bigint to number");return Number(e)}function T(e){return isFinite(e)?Math.abs(e)>8640000000000001?NaN:function(e){var t=C(e);if(isNaN(t)||P(t,-0))return 0;if(isFinite(t))return t;var n=Math.floor(Math.abs(t));return t<0&&(n=-n),P(n,-0)?0:n}(e):NaN}function D(e){if(null==e)throw new TypeError("undefined/null cannot be converted to object");return Object(e)}function P(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t}function O(e){return new Array(e)}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Z(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":"symbol"==typeof e?"Symbol":"bigint"==typeof e?"BigInt":void 0}var F=864e5;function I(e,t){return e-Math.floor(e/t)*t}function U(e){return Math.floor(e/F)}function N(e){return I(U(e)+4,7)}function j(e){return Date.UTC(e,0)/F}function z(e){return Date.UTC(e,0)}function B(e){return new Date(e).getUTCFullYear()}function G(e){return e%4!=0?365:e%100!=0?366:e%400!=0?365:366}function H(e){return U(e)-j(B(e))}function V(e){return 365===G(B(e))?0:1}function q(e){var t=H(e),n=V(e);if(t>=0&&t<31)return 0;if(t<59+n)return 1;if(t<90+n)return 2;if(t<120+n)return 3;if(t<151+n)return 4;if(t<181+n)return 5;if(t<212+n)return 6;if(t<243+n)return 7;if(t<273+n)return 8;if(t<304+n)return 9;if(t<334+n)return 10;if(t<365+n)return 11;throw new Error("Invalid time")}function W(e){var t=H(e),n=q(e),r=V(e);if(0===n)return t+1;if(1===n)return t-30;if(2===n)return t-58-r;if(3===n)return t-89-r;if(4===n)return t-119-r;if(5===n)return t-150-r;if(6===n)return t-180-r;if(7===n)return t-211-r;if(8===n)return t-242-r;if(9===n)return t-272-r;if(10===n)return t-303-r;if(11===n)return t-333-r;throw new Error("Invalid time")}function $(e){return I(Math.floor(e/36e5),24)}function K(e){return I(Math.floor(e/6e4),60)}function Y(e){return I(Math.floor(e/1e3),60)}function X(e,t,n){if("function"!=typeof e)return!1;if(null==n?void 0:n.boundTargetFunction)return t instanceof(null==n?void 0:n.boundTargetFunction);if("object"!=typeof t)return!1;var r=e.prototype;if("object"!=typeof r)throw new TypeError("OrdinaryHasInstance called on an object with an invalid prototype property.");return Object.prototype.isPrototypeOf.call(r,t)}function Q(e){return I(e,1e3)}function J(e){return void 0===e?Object.create(null):D(e)}function ee(e,t){var n=-1/0,a=t[0];f(Array.isArray(t),"formats should be a list of things");for(var i=0,o=t;i<o.length;i++){for(var s=o[i],l=0,u=0,c=m;u<c.length;u++){var d=c[u],h=e[d],p=s[d];if(void 0===h&&void 0!==p)l-=20;else if(void 0!==h&&void 0===p)l-=120;else if(h!==p){var g=void 0,v=(g="fractionalSecondDigits"===d?[1,2,3]:["2-digit","numeric","narrow","short","long"]).indexOf(h),y=g.indexOf(p),b=Math.max(-2,Math.min(y-v,2));2===b?l-=6:1===b?l-=3:-1===b?l-=6:-2===b&&(l-=8)}}l>n&&(n=l,a=s)}return(0,r.__assign)({},a)}function te(e,t,n){var r,a;if(void 0!==t&&(f("full"===t||"long"===t||"medium"===t||"short"===t,"invalid timeStyle"),a=n.timeFormat[t]),void 0!==e&&(f("full"===e||"long"===e||"medium"===e||"short"===e,"invalid dateStyle"),r=n.dateFormat[e]),void 0!==e&&void 0!==t){var i={};for(var o in r)"pattern"!==o&&(i[o]=r[o]);for(var o in a)"pattern"!==o&&"pattern12"!==o&&(i[o]=a[o]);var s=n.dateTimeFormat[e],l=s.replace("{0}",a.pattern).replace("{1}",r.pattern);if(i.pattern=l,"pattern12"in a){var u=s.replace("{0}",a.pattern12).replace("{1}",r.pattern);i.pattern12=u}return i}return void 0!==t?a:(f(void 0!==e,"dateStyle should not be undefined"),r)}function ne(e,t,n,r){var a=r.tzData;f("Number"===Z(e),"invalid time"),f("gregory"===t,"We only support Gregory calendar right now");var i=function(e,t,n){var r,a=n[t];if(!a)return[0,!1];for(var i=0,o=0,s=!1;i<=a.length;i++)if(i===a.length||1e3*a[i][0]>e){o=(r=a[i-1])[2],s=r[3];break}return[1e3*o,s]}(e,n,a),o=i[0],s=i[1],l=e+o,u=B(l);return{weekday:N(l),era:u<0?"BC":"AD",year:u,relatedYear:void 0,yearName:void 0,month:q(l),day:W(l),hour:$(l),minute:K(l),second:Y(l),millisecond:Q(l),inDST:s,timeZoneOffset:o}}function re(e){return e<10?"0"+e:String(e)}function ae(e,t,n,r){var a=Math.floor(n/6e4),i=Math.abs(a)%60,o=Math.floor(Math.abs(a)/60),s=t.split(";"),l=s[0],u=s[1],c="",d=n<0?u:l;return"long"===r?c=d.replace("HH",re(o)).replace("H",String(o)).replace("mm",re(i)).replace("m",String(i)):(i||o)&&(i||(d=d.replace(/:?m+/,"")),c=d.replace(/H+/,String(o)).replace(/m+/,String(i))),e.replace("{0}",c)}function ie(e,t,n,r){var a=r.getInternalSlots,i=r.localeData,o=r.getDefaultTimeZone,s=r.tzData;n=T(n);var l=a(e),u=i[l.dataLocale],c=l.locale,d=Object.create(null);d.useGrouping=!1;var h=new Intl.NumberFormat(c,d),f=Object.create(null);f.minimumIntegerDigits=2,f.useGrouping=!1;var p,g=new Intl.NumberFormat(c,f),v=l.fractionalSecondDigits;if(void 0!==v){var y=Object.create(null);y.minimumIntegerDigits=v,y.useGrouping=!1,p=new Intl.NumberFormat(c,y)}for(var b=ne(n,l.calendar,l.timeZone,{tzData:s}),w=[],x=0,L=t;x<L.length;x++){var k=L[x],S=k.type;if("literal"===S)w.push({type:"literal",value:k.value});else if("fractionalSecondDigits"===S){var A=Math.floor(b.millisecond*Math.pow(10,(v||0)-3));w.push({type:"fractionalSecond",value:p.format(A)})}else if(m.indexOf(S)>-1){var _="",E=l[S];A=b[S],"year"===S&&A<=0&&(A=1-A),"month"===S&&A++;var M=l.hourCycle;if("hour"!==S||"h11"!==M&&"h12"!==M||0==(A%=12)&&"h12"===M&&(A=12),"hour"===S&&"h24"===M&&0===A&&(A=24),"numeric"===E)_=h.format(A);else if("2-digit"===E)(_=g.format(A)).length>2&&(_=_.slice(_.length-2,_.length));else if("narrow"===E||"short"===E||"long"===E)if("era"===S)_=u[S][E][A];else if("timeZoneName"===S){var C=u.timeZoneName,D=u.gmtFormat,P=u.hourFormat,O=C[l.timeZone||o()];_=O&&O[E]?O[E][+b.inDST]:ae(D,P,b.timeZoneOffset,E)}else _="month"===S?u.month[E][A-1]:u[S][E][A];w.push({type:S,value:_})}else"ampm"===S?(_=void 0,_=(A=b.hour)>11?u.pm:u.am,w.push({type:"dayPeriod",value:_})):"relatedYear"===S?(A=b.relatedYear,_=h.format(A),w.push({type:"relatedYear",value:_})):"yearName"===S&&(A=b.yearName,_=h.format(A),w.push({type:"yearName",value:_}))}return w}function oe(e){for(var t=[],n=e.indexOf("{"),r=0,a=0,i=e.length;n<e.length&&n>-1;)f((r=e.indexOf("}",n))>n,"Invalid pattern "+e),n>a&&t.push({type:"literal",value:e.substring(a,n)}),t.push({type:e.substring(n+1,r),value:void 0}),a=r+1,n=e.indexOf("{",a);return a<i&&t.push({type:"literal",value:e.substring(a,i)}),t}function se(e,t,n){if(t=T(t),isNaN(t))throw new RangeError("invalid time");return ie(e,oe((0,n.getInternalSlots)(e).pattern),t,n)}function le(e,t,n){for(var r="",a=0,i=se(e,t,n);a<i.length;a++)r+=i[a].value;return r}var ue=["era","year","month","day","ampm","hour","minute","second","fractionalSecondDigits"];function ce(e,t,n,r){if(t=T(t),isNaN(t))throw new RangeError("Invalid start time");if(n=T(n),isNaN(n))throw new RangeError("Invalid end time");for(var a,i=r.getInternalSlots,o=r.tzData,s=i(e),l=ne(t,s.calendar,s.timeZone,{tzData:o}),u=ne(n,s.calendar,s.timeZone,{tzData:o}),c=s.pattern,d=s.rangePatterns,h=!0,f=!1,m=0,g=ue;m<g.length;m++){var v=g[m];if(h&&!f)if("ampm"===v){var y=d.ampm;if(void 0!==a&&void 0===y)f=!0;else{var b=l.hour,w=u.hour;(b>11&&w<11||b<11&&w>11)&&(h=!1),a=y}}else if("fractionalSecondDigits"===v){var x=s.fractionalSecondDigits;void 0===x&&(x=3),(b=Math.floor(l.millisecond*Math.pow(10,x-3)))!==(w=Math.floor(u.millisecond*Math.pow(10,x-3)))&&(h=!1)}else y=d[v],void 0!==a&&void 0===y?f=!0:(P(b=l[v],w=u[v])||(h=!1),a=y)}if(h){for(var L=ie(e,oe(c),t,r),k=0,S=L;k<S.length;k++)S[k].source=p.shared;return L}var A=[];if(void 0===a)for(var _=0,E=(a=d.default).patternParts;_<E.length;_++){var M=E[_];"{0}"!==M.pattern&&"{1}"!==M.pattern||(M.pattern=c)}for(var C=0,D=a.patternParts;C<D.length;C++){var O,R=D[C],Z=R.source,F=R.pattern;O=Z===p.startRange||Z===p.shared?t:n;for(var I=ie(e,oe(F),O,r),U=0,N=I;U<N.length;U++)N[U].source=Z;A=A.concat(I)}return A}function de(e,t,n,r){for(var a="",i=0,o=ce(e,t,n,r);i<o.length;i++)a+=o[i].value;return a}function he(e,t,n,r){for(var a=ce(e,t,n,r),i=new Array(0),o=0,s=a;o<s.length;o++){var l=s[o];i.push({type:l.type,value:l.value,source:l.source})}return i}function fe(e,t,n){for(var r=se(e,t,n),a=O(0),i=0,o=r;i<o.length;i++){var s=o[i];a.push({type:s.type,value:s.value})}return a}function pe(e,t,n){e=void 0===e?null:D(e),e=Object.create(e);var r=!0;if("date"===t||"any"===t)for(var a=0,i=["weekday","year","month","day"];a<i.length;a++)void 0!==e[i[a]]&&(r=!1);if("time"===t||"any"===t)for(var o=0,s=["dayPeriod","hour","minute","second","fractionalSecondDigits"];o<s.length;o++)void 0!==e[s[o]]&&(r=!1);if(void 0===e.dateStyle&&void 0===e.timeStyle||(r=!1),"date"===t&&e.timeStyle)throw new TypeError("Intl.DateTimeFormat date was required but timeStyle was included");if("time"===t&&e.dateStyle)throw new TypeError("Intl.DateTimeFormat time was required but dateStyle was included");if(r&&("date"===n||"all"===n))for(var l=0,u=["year","month","day"];l<u.length;l++)e[u[l]]="numeric";if(r&&("time"===n||"all"===n))for(var c=0,d=["hour","minute","second"];c<d.length;c++)e[d[c]]="numeric";return e}function me(e,t,n,r,a){if("object"!=typeof e)throw new TypeError("Options must be an object");var i=e[t];if(void 0!==i){if("boolean"!==n&&"string"!==n)throw new TypeError("invalid type");if("boolean"===n&&(i=Boolean(i)),"string"===n&&(i=M(i)),void 0!==r&&!r.filter((function(e){return e==i})).length)throw new RangeError(i+" is not within "+r.join(", "));return i}return a}function ge(e,t){for(var n=t;;){if(e.has(n))return n;var r=n.lastIndexOf("-");if(!~r)return;r>=2&&"-"===n[r-2]&&(r-=2),n=n.slice(0,r)}}function ve(e,t){f(2===t.length,"key must have 2 elements");var n=e.length,r="-"+t+"-",a=e.indexOf(r);if(-1!==a){for(var i=a+4,o=i,s=i,l=!1;!l;){var u=e.indexOf("-",s);2==(-1===u?n-s:u-s)?l=!0:-1===u?(o=n,l=!0):(o=u,s=u+1)}return e.slice(i,o)}if(r="-"+t,-1!==(a=e.indexOf(r))&&a+3===n)return""}function ye(e,t,n,r,a,i){var o;o="lookup"===n.localeMatcher?function(e,t,n){for(var r={locale:""},a=0,i=t;a<i.length;a++){var o=i[a],s=o.replace(h,""),l=ge(e,s);if(l)return r.locale=l,o!==s&&(r.extension=o.slice(s.length+1,o.length)),r}return r.locale=n(),r}(e,t,i):function(e,t,n){var r,a={},i=new Set;e.forEach((function(e){var t=new Intl.Locale(e).minimize().toString();a[t]=e,i.add(t)}));for(var o=0,s=t;o<s.length;o++){var l=s[o];if(r)break;var u=l.replace(h,"");if(e.has(u)){r=u;break}if(i.has(u)){r=a[u];break}var c=new Intl.Locale(u),d=c.maximize().toString(),f=c.minimize().toString();if(i.has(f)){r=a[f];break}r=ge(i,d)}return{locale:r||n()}}(e,t,i);for(var s=o.locale,l={locale:"",dataLocale:s},u="-u",c=0,d=r;c<d.length;c++){var p=d[c];f(s in a,"Missing locale data for "+s);var m=a[s];f("object"==typeof m&&null!==m,"locale data "+p+" must be an object");var g=m[p];f(Array.isArray(g),"keyLocaleData for "+p+" must be an array");var v=g[0];f("string"==typeof v||null===v,"value must be string or null but got "+typeof v+" in key "+p);var y="";if(o.extension){var b=ve(o.extension,p);void 0!==b&&(""!==b?~g.indexOf(b)&&(y="-"+p+"-"+(v=b)):~b.indexOf("true")&&(v="true",y="-"+p))}if(p in n){var w=n[p];f("string"==typeof w||null==w,"optionsValue must be String, Undefined or Null"),~g.indexOf(w)&&w!==v&&(v=w,y="")}l[p]=v,u+=y}if(u.length>2){var x=s.indexOf("-x-");if(-1===x)s+=u;else{var L=s.slice(0,x),k=s.slice(x,s.length);s=L+u+k}s=Intl.getCanonicalLocales(s)[0]}return l.locale=s,l}function be(e,t){var n=t.tzData,r=t.uppercaseLinks,a=e.toUpperCase(),i=new Set;return Object.keys(n).map((function(e){return e.toUpperCase()})).forEach((function(e){return i.add(e)})),i.has(a)||a in r}function we(e,t,n,r){if(void 0!==e){if(e=Number(e),isNaN(e)||e<t||e>n)throw new RangeError(e+" is outside of range ["+t+", "+n+"]");return Math.floor(e)}return r}function xe(e,t,n,r,a){return we(e[t],n,r,a)}function Le(e,t,n){return null==e&&(e=t),void 0!==n&&(n?e="h11"===t||"h23"===t?"h11":"h12":(f(!n,"hour12 must not be set"),e="h11"===t||"h23"===t?"h23":"h24")),e}var ke=/^[a-z0-9]{3,8}$/i;function Se(e,t,n,r){var a=r.getInternalSlots,i=r.availableLocales,o=r.localeData,s=r.getDefaultLocale,l=r.getDefaultTimeZone,u=r.relevantExtensionKeys,c=r.tzData,d=r.uppercaseLinks,h=_(t),p=pe(n,"any","date"),g=Object.create(null),v=me(p,"localeMatcher","string",["lookup","best fit"],"best fit");g.localeMatcher=v;var y=me(p,"calendar","string",void 0,void 0);if(void 0!==y&&!ke.test(y))throw new RangeError("Malformed calendar");var b=a(e);g.ca=y;var w=me(p,"numberingSystem","string",void 0,void 0);if(void 0!==w&&!ke.test(w))throw new RangeError("Malformed numbering system");g.nu=w;var x=me(p,"hour12","boolean",void 0,void 0),L=me(p,"hourCycle","string",["h11","h12","h23","h24"],void 0);void 0!==x&&(L=null),g.hc=L;var k=ye(i,h,g,u,o,s);b.locale=k.locale,y=k.ca,b.calendar=y,b.hourCycle=k.hc,b.numberingSystem=k.nu;var S=k.dataLocale;b.dataLocale=S;var M=p.timeZone;if(void 0!==M){if(!be(M=String(M),{tzData:c,uppercaseLinks:d}))throw new RangeError("Invalid timeZoneName");M=E(M,{tzData:c,uppercaseLinks:d})}else M=l();b.timeZone=M,(g=Object.create(null)).weekday=me(p,"weekday","string",["narrow","short","long"],void 0),g.era=me(p,"era","string",["narrow","short","long"],void 0),g.year=me(p,"year","string",["2-digit","numeric"],void 0),g.month=me(p,"month","string",["2-digit","numeric","narrow","short","long"],void 0),g.day=me(p,"day","string",["2-digit","numeric"],void 0),g.hour=me(p,"hour","string",["2-digit","numeric"],void 0),g.minute=me(p,"minute","string",["2-digit","numeric"],void 0),g.second=me(p,"second","string",["2-digit","numeric"],void 0),g.timeZoneName=me(p,"timeZoneName","string",["short","long"],void 0),g.fractionalSecondDigits=xe(p,"fractionalSecondDigits",1,3,void 0);var C=o[S];f(!!C,"Missing locale data for "+S);var T=C.formats[y];if(!T)throw new RangeError('Calendar "'+y+'" is not supported. Try setting "calendar" to 1 of the following: '+Object.keys(C.formats).join(", "));var D=me(p,"formatMatcher","string",["basic","best fit"],"best fit"),P=me(p,"dateStyle","string",["full","long","medium","short"],void 0);b.dateStyle=P;var O,R,Z,F=me(p,"timeStyle","string",["full","long","medium","short"],void 0);if(b.timeStyle=F,void 0===P&&void 0===F)if("basic"===D)O=ee(g,T);else{if(function(e){for(var t=0,n=["hour","minute","second"];t<n.length;t++)if(void 0!==e[n[t]])return!0;return!1}(g)){var I=Le(b.hourCycle,C.hourCycle,x);g.hour12="h11"===I||"h12"===I}O=A(g,T)}else{for(var U=0,N=m;U<N.length;U++)if(void 0!==(z=g[j=N[U]]))throw new TypeError("Intl.DateTimeFormat can't set option "+j+" when "+(P?"dateStyle":"timeStyle")+" is used");O=te(P,F,C)}for(var j in b.format=O,g){var z;void 0!==(z=O[j])&&(b[j]=z)}return void 0!==b.hour?(I=Le(b.hourCycle,C.hourCycle,x),b.hourCycle=I,"h11"===I||"h12"===I?(R=O.pattern12,Z=O.rangePatterns12):(R=O.pattern,Z=O.rangePatterns)):(b.hourCycle=void 0,R=O.pattern,Z=O.rangePatterns),b.pattern=R,b.rangePatterns=Z,e}var Ae=/[^A-Z]/;function _e(e){return 3===(e=e.replace(/([a-z])/g,(function(e,t){return t.toUpperCase()}))).length&&!Ae.test(e)}var Ee=/^([a-z]{2}|[0-9]{3})$/i,Me=/^[a-z]{4}$/i;function Ce(e,t){if("language"===e)return _([t])[0];if("region"===e){if(n=t,!Ee.test(n))throw RangeError("invalid region");return t.toUpperCase()}var n,r;if("script"===e){if(r=t,!Me.test(r))throw RangeError("invalid script");return""+t[0].toUpperCase()+t.slice(1).toLowerCase()}if(f("currency"===e,"invalid type"),!_e(t))throw RangeError("invalid currency");return t.toUpperCase()}function Te(e){if(void 0===e)return Object.create(null);if("object"==typeof e)return e;throw new TypeError("Options must be an object")}var De=["angle-degree","area-acre","area-hectare","concentr-percent","digital-bit","digital-byte","digital-gigabit","digital-gigabyte","digital-kilobit","digital-kilobyte","digital-megabit","digital-megabyte","digital-petabyte","digital-terabit","digital-terabyte","duration-day","duration-hour","duration-millisecond","duration-minute","duration-month","duration-second","duration-week","duration-year","length-centimeter","length-foot","length-inch","length-kilometer","length-meter","length-mile-scandinavian","length-mile","length-millimeter","length-yard","mass-gram","mass-kilogram","mass-ounce","mass-pound","mass-stone","temperature-celsius","temperature-fahrenheit","volume-fluid-ounce","volume-gallon","volume-liter","volume-milliliter"];function Pe(e){return e.slice(e.indexOf("-")+1)}var Oe=De.map(Pe);function Re(e){return Oe.indexOf(e)>-1}function Ze(e){if(Re(e=e.replace(/([A-Z])/g,(function(e,t){return t.toLowerCase()}))))return!0;var t=e.split("-per-");if(2!==t.length)return!1;var n=t[0],r=t[1];return!(!Re(n)||!Re(r))}function Fe(e,t,n){var r=(0,n.getInternalSlots)(e),a=r.notation,i=r.dataLocaleData,o=r.numberingSystem;switch(a){case"standard":return 0;case"scientific":return t;case"engineering":return 3*Math.floor(t/3);default:var s=r.compactDisplay,l=r.style,u=r.currencyDisplay,c=void 0;if("currency"===l&&"name"!==u)c=(i.numbers.currency[o]||i.numbers.currency[i.numbers.nu[0]]).short;else{var d=i.numbers.decimal[o]||i.numbers.decimal[i.numbers.nu[0]];c="long"===s?d.long:d.short}if(!c)return 0;var h=String(Math.pow(10,t)),f=Object.keys(c);if(h<f[0])return 0;if(h>f[f.length-1])return f[f.length-1].length-1;var p=f.indexOf(h);if(-1===p)return 0;var m=f[p];return"0"===c[m].other?0:m.length-c[m].other.match(/0+/)[0].length}}function Ie(e,t,n){var r,o,s,l,u=n;if(0===e)r=i("0",u),o=0,s=0;else{var c=e.toString(),d=c.indexOf("e"),h=c.split("e"),f=h[0],p=h[1],m=f.replace(".","");if(d>=0&&m.length<=u)o=+p,r=m+i("0",u-m.length),s=e;else{var g=(o=a(e))-u+1,v=Math.round(b(e,g));b(v,u-1)>=10&&(o+=1,v=Math.floor(v/10)),r=v.toString(),s=b(v,u-1-o)}}if(o>=u-1?(r+=i("0",o-u+1),l=o+1):o>=0?(r=r.slice(0,o+1)+"."+r.slice(o+1),l=o+1):(r="0."+i("0",-o-1)+r,l=1),r.indexOf(".")>=0&&n>t){for(var y=n-t;y>0&&"0"===r[r.length-1];)r=r.slice(0,-1),y--;"."===r[r.length-1]&&(r=r.slice(0,-1))}return{formattedString:r,roundedNumber:s,integerDigitsCount:l};function b(e,t){return t<0?e*Math.pow(10,-t):e/Math.pow(10,t)}}function Ue(e,t,n){var r,a,o=n,s=Math.round(e*Math.pow(10,o)),l=s/Math.pow(10,o);if(s<1e21)r=s.toString();else{var u=(r=s.toString()).split("e"),c=u[0],d=u[1];r=c.replace(".",""),r+=i("0",Math.max(+d-r.length+1,0))}if(0!==o){var h=r.length;h<=o&&(r=i("0",o+1-h)+r,h=o+1);var f=r.slice(0,h-o),p=r.slice(h-o);r=f+"."+p,a=f.length}else a=r.length;for(var m=n-t;m>0&&"0"===r[r.length-1];)r=r.slice(0,-1),m--;return"."===r[r.length-1]&&(r=r.slice(0,-1)),{formattedString:r,roundedNumber:l,integerDigitsCount:a}}function Ne(e,t){var n,r=t<0||P(t,-0);switch(r&&(t=-t),e.roundingType){case"significantDigits":n=Ie(t,e.minimumSignificantDigits,e.maximumSignificantDigits);break;case"fractionDigits":n=Ue(t,e.minimumFractionDigits,e.maximumFractionDigits);break;default:(n=Ie(t,1,2)).integerDigitsCount>1&&(n=Ue(t,0,0))}t=n.roundedNumber;var a=n.formattedString,o=n.integerDigitsCount,s=e.minimumIntegerDigits;return o<s&&(a=i("0",s-o)+a),r&&(t=-t),{roundedNumber:t,formattedString:a}}function je(e,t,n){var r=n.getInternalSlots;if(0===t)return[0,0];t<0&&(t=-t);var i=a(t),o=Fe(e,i,{getInternalSlots:r});t=o<0?t*Math.pow(10,-o):t/Math.pow(10,o);var s=Ne(r(e),t);return 0===s.roundedNumber||a(s.roundedNumber)===i-o?[o,i]:[Fe(e,i+1,{getInternalSlots:r}),i+1]}function ze(e,t){var n=t.currencyDigitsData;return R(n,e)?n[e]:2}var Be=JSON.parse('{"adlm":["","","","","","","","","",""],"ahom":["","","","","","","","","",""],"arab":["","","","","","","","","",""],"arabext":["","","","","","","","","",""],"bali":["","","","","","","","","",""],"beng":["","","","","","","","","",""],"bhks":["","","","","","","","","",""],"brah":["","","","","","","","","",""],"cakm":["","","","","","","","","",""],"cham":["","","","","","","","","",""],"deva":["","","","","","","","","",""],"diak":["","","","","","","","","",""],"fullwide":["","","","","","","","","",""],"gong":["","","","","","","","","",""],"gonm":["","","","","","","","","",""],"gujr":["","","","","","","","","",""],"guru":["","","","","","","","","",""],"hanidec":["","","","","","","","","",""],"hmng":["","","","","","","","","",""],"hmnp":["","","","","","","","","",""],"java":["","","","","","","","","",""],"kali":["","","","","","","","","",""],"khmr":["","","","","","","","","",""],"knda":["","","","","","","","","",""],"lana":["","","","","","","","","",""],"lanatham":["","","","","","","","","",""],"laoo":["","","","","","","","","",""],"lepc":["","","","","","","","","",""],"limb":["","","","","","","","","",""],"mathbold":["","","","","","","","","",""],"mathdbl":["","","","","","","","","",""],"mathmono":["","","","","","","","","",""],"mathsanb":["","","","","","","","","",""],"mathsans":["","","","","","","","","",""],"mlym":["","","","","","","","","",""],"modi":["","","","","","","","","",""],"mong":["","","","","","","","","",""],"mroo":["","","","","","","","","",""],"mtei":["","","","","","","","","",""],"mymr":["","","","","","","","","",""],"mymrshan":["","","","","","","","","",""],"mymrtlng":["","","","","","","","","",""],"newa":["","","","","","","","","",""],"nkoo":["","","","","","","","","",""],"olck":["","","","","","","","","",""],"orya":["","","","","","","","","",""],"osma":["","","","","","","","","",""],"rohg":["","","","","","","","","",""],"saur":["","","","","","","","","",""],"segment":["","","","","","","","","",""],"shrd":["","","","","","","","","",""],"sind":["","","","","","","","","",""],"sinh":["","","","","","","","","",""],"sora":["","","","","","","","","",""],"sund":["","","","","","","","","",""],"takr":["","","","","","","","","",""],"talu":["","","","","","","","","",""],"tamldec":["","","","","","","","","",""],"telu":["","","","","","","","","",""],"thai":["","","","","","","","","",""],"tibt":["","","","","","","","","",""],"tirh":["","","","","","","","","",""],"vaii":["","","","","","","","","",""],"wara":["","","","","","","","","",""],"wcho":["","","","","","","","","",""]}'),Ge=n.t(Be,2),He=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20BF\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B98-\u2BFF\u2CE5-\u2CEA\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uFB29\uFBB2-\uFBC1\uFDFC\uFDFD\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9B\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDE8\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD10-\uDD6C\uDD70-\uDDAC\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED5\uDEE0-\uDEEC\uDEF0-\uDEFA\uDF00-\uDF73\uDF80-\uDFD8\uDFE0-\uDFEB]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDD00-\uDD0B\uDD0D-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDE53\uDE60-\uDE6D\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95]/,Ve=new RegExp("^"+He.source),qe=new RegExp(He.source+"$"),We=/[#0](?:[\.,][#0]+)*/g;function $e(e,t,n,r){var a,i,o=e.sign,s=e.exponent,l=e.magnitude,u=r.notation,c=r.style,d=r.numberingSystem,h=t.numbers.nu[0],f=null;if("compact"===u&&l&&(f=function(e,t,n,r,a,i,o){var s,l,u=e.roundedNumber,c=e.sign,d=e.magnitude,h=String(Math.pow(10,d)),f=n.numbers.nu[0];if("currency"===r&&"name"!==i){var p=null===(s=((m=n.numbers.currency)[o]||m[f]).short)||void 0===s?void 0:s[h];if(!p)return null;l=Xe(t,u,p)}else{var m,g=((m=n.numbers.decimal)[o]||m[f])[a][h];if(!g)return null;l=Xe(t,u,g)}return"0"===l?null:Ye(l,c).replace(/([^\s;\-\+\d]+)/g,"{c:$1}").replace(/0+/,"0")}(e,n,t,c,r.compactDisplay,r.currencyDisplay,d)),"currency"===c&&"name"!==r.currencyDisplay){var p=t.currencies[r.currency];if(p)switch(r.currencyDisplay){case"code":a=r.currency;break;case"symbol":a=p.symbol;break;default:a=p.narrow}else a=r.currency}i=f||("decimal"===c||"unit"===c||"currency"===c&&"name"===r.currencyDisplay?Ye((t.numbers.decimal[d]||t.numbers.decimal[h]).standard,o):Ye("currency"===c?(g=t.numbers.currency[d]||t.numbers.currency[h])[r.currencySign]:t.numbers.percent[d]||t.numbers.percent[h],o));var m=We.exec(i)[0];if(i=i.replace(We,"{0}").replace(/'(.)'/g,"$1"),"currency"===c&&"name"!==r.currencyDisplay){var g,v=(g=t.numbers.currency[d]||t.numbers.currency[h]).currencySpacing.afterInsertBetween;v&&!qe.test(a)&&(i=i.replace("{0}",""+v+"{0}"));var y=g.currencySpacing.beforeInsertBetween;y&&!Ve.test(a)&&(i=i.replace("{0}","{0}"+y+""))}for(var b=i.split(/({c:[^}]+}|\{0\}|[%\-\+])/g),w=[],x=t.numbers.symbols[d]||t.numbers.symbols[h],L=0,k=b;L<k.length;L++)if(B=k[L])switch(B){case"{0}":w.push.apply(w,Ke(x,e,u,s,d,!f&&r.useGrouping,m));break;case"-":w.push({type:"minusSign",value:x.minusSign});break;case"+":w.push({type:"plusSign",value:x.plusSign});break;case"%":w.push({type:"percentSign",value:x.percentSign});break;case"":w.push({type:"currency",value:a});break;default:/^\{c:/.test(B)?w.push({type:"compact",value:B.substring(3,B.length-1)}):w.push({type:"literal",value:B})}switch(c){case"currency":if("name"===r.currencyDisplay){var S,A=(t.numbers.currency[d]||t.numbers.currency[h]).unitPattern,_=t.currencies[r.currency];S=_?Xe(n,e.roundedNumber*Math.pow(10,s),_.displayName):r.currency;for(var E=[],M=0,C=A.split(/(\{[01]\})/g);M<C.length;M++)switch(B=C[M]){case"{0}":E.push.apply(E,w);break;case"{1}":E.push({type:"currency",value:S});break;default:B&&E.push({type:"literal",value:B})}return E}return w;case"unit":var T=r.unit,D=r.unitDisplay,P=t.units.simple[T];if(A=void 0,P)A=Xe(n,e.roundedNumber*Math.pow(10,s),t.units.simple[T][D]);else{var O=T.split("-per-"),R=O[0],Z=O[1];P=t.units.simple[R];var F=Xe(n,e.roundedNumber*Math.pow(10,s),t.units.simple[R][D]),I=t.units.simple[Z].perUnit[D];if(I)A=I.replace("{0}",F);else{var U=t.units.compound.per[D],N=Xe(n,1,t.units.simple[Z][D]);A=A=U.replace("{0}",F).replace("{1}",N.replace("{0}",""))}}E=[];for(var j=0,z=A.split(/(\s*\{0\}\s*)/);j<z.length;j++){var B=z[j],G=/^(\s*)\{0\}(\s*)$/.exec(B);G?(G[1]&&E.push({type:"literal",value:G[1]}),E.push.apply(E,w),G[2]&&E.push({type:"literal",value:G[2]})):B&&E.push({type:"unit",value:B})}return E;default:return w}}function Ke(e,t,n,r,a,i,o){var s=[],l=t.formattedString,u=t.roundedNumber;if(isNaN(u))return[{type:"nan",value:l}];if(!isFinite(u))return[{type:"infinity",value:l}];var c=Ge[a];c&&(l=l.replace(/\d/g,(function(e){return c[+e]||e})));var d,h,f=l.indexOf(".");if(f>0?(d=l.slice(0,f),h=l.slice(f+1)):d=l,i&&("compact"!==n||u>=1e4)){var p=e.group,m=[],g=o.split(".")[0].split(","),v=3,y=3;g.length>1&&(v=g[g.length-1].length),g.length>2&&(y=g[g.length-2].length);var b=d.length-v;if(b>0){for(m.push(d.slice(b,b+v)),b-=y;b>0;b-=y)m.push(d.slice(b,b+y));m.push(d.slice(0,b+y))}else m.push(d);for(;m.length>0;){var w=m.pop();s.push({type:"integer",value:w}),m.length>0&&s.push({type:"group",value:p})}}else s.push({type:"integer",value:d});if(void 0!==h&&s.push({type:"decimal",value:e.decimal},{type:"fraction",value:h}),("scientific"===n||"engineering"===n)&&isFinite(u)){s.push({type:"exponentSeparator",value:e.exponential}),r<0&&(s.push({type:"exponentMinusSign",value:e.minusSign}),r=-r);var x=Ue(r,0,0);s.push({type:"exponentInteger",value:x.formattedString})}return s}function Ye(e,t){e.indexOf(";")<0&&(e=e+";-"+e);var n=e.split(";"),r=n[0],a=n[1];switch(t){case 0:return r;case-1:return a;default:return a.indexOf("-")>=0?a.replace(/-/g,"+"):"+"+r}}function Xe(e,t,n){return n[e.select(t)]||n.other}function Qe(e,t,n){var r,a,i,o=n.getInternalSlots,s=o(e),l=s.pl,u=s.dataLocaleData,c=s.numberingSystem,d=u.numbers.symbols[c]||u.numbers.symbols[u.numbers.nu[0]],h=0,f=0;if(isNaN(t))a=d.nan;else if(isFinite(t)){"percent"===s.style&&(t*=100),f=(r=je(e,t,{getInternalSlots:o}))[0],h=r[1];var p=Ne(s,t=f<0?t*Math.pow(10,-f):t/Math.pow(10,f));a=p.formattedString,t=p.roundedNumber}else a=d.infinity;switch(s.signDisplay){case"never":i=0;break;case"auto":i=P(t,0)||t>0||isNaN(t)?0:-1;break;case"always":i=P(t,0)||t>0||isNaN(t)?1:-1;break;default:i=0===t||isNaN(t)?0:t>0?1:-1}return $e({roundedNumber:t,formattedString:a,exponent:f,magnitude:h,sign:i},s.dataLocaleData,l,s)}function Je(e,t,n){for(var r=Qe(e,t,n),a=O(0),i=0,o=r;i<o.length;i++){var s=o[i];a.push({type:s.type,value:s.value})}return a}function et(e,t,n){void 0===t&&(t=Object.create(null));var r=(0,n.getInternalSlots)(e),a=me(t,"style","string",["decimal","percent","currency","unit"],"decimal");r.style=a;var i=me(t,"currency","string",void 0,void 0);if(void 0!==i&&!_e(i))throw RangeError("Malformed currency code");if("currency"===a&&void 0===i)throw TypeError("currency cannot be undefined");var o=me(t,"currencyDisplay","string",["code","symbol","narrowSymbol","name"],"symbol"),s=me(t,"currencySign","string",["standard","accounting"],"standard"),l=me(t,"unit","string",void 0,void 0);if(void 0!==l&&!Ze(l))throw RangeError("Invalid unit argument for Intl.NumberFormat()");if("unit"===a&&void 0===l)throw TypeError("unit cannot be undefined");var u=me(t,"unitDisplay","string",["short","narrow","long"],"short");"currency"===a&&(r.currency=i.toUpperCase(),r.currencyDisplay=o,r.currencySign=s),"unit"===a&&(r.unit=l,r.unitDisplay=u)}function tt(e,t,n,r,a){var i=xe(t,"minimumIntegerDigits",1,21,1),o=t.minimumFractionDigits,s=t.maximumFractionDigits,l=t.minimumSignificantDigits,u=t.maximumSignificantDigits;e.minimumIntegerDigits=i,void 0!==l||void 0!==u?(e.roundingType="significantDigits",l=we(l,1,21,1),u=we(u,l,21,21),e.minimumSignificantDigits=l,e.maximumSignificantDigits=u):void 0!==o||void 0!==s?(e.roundingType="fractionDigits",o=we(o,0,20,n),s=we(s,o,20,Math.max(o,r)),e.minimumFractionDigits=o,e.maximumFractionDigits=s):"compact"===a?e.roundingType="compactRounding":(e.roundingType="fractionDigits",e.minimumFractionDigits=n,e.maximumFractionDigits=r)}function nt(e,t,n,r){var a=r.getInternalSlots,i=r.localeData,o=r.availableLocales,s=r.numberingSystemNames,l=r.getDefaultLocale,u=r.currencyDigitsData,c=_(t),d=J(n),h=Object.create(null),p=me(d,"localeMatcher","string",["lookup","best fit"],"best fit");h.localeMatcher=p;var m=me(d,"numberingSystem","string",void 0,void 0);if(void 0!==m&&s.indexOf(m)<0)throw RangeError("Invalid numberingSystems: "+m);h.nu=m;var g=ye(o,c,h,["nu"],i,l),v=i[g.dataLocale];f(!!v,"Missing locale data for "+g.dataLocale);var y=a(e);y.locale=g.locale,y.dataLocale=g.dataLocale,y.numberingSystem=g.nu,y.dataLocaleData=v,et(e,d,{getInternalSlots:a});var b,w,x=y.style;if("currency"===x){var L=ze(y.currency,{currencyDigitsData:u});b=L,w=L}else b=0,w="percent"===x?0:3;var k=me(d,"notation","string",["standard","scientific","engineering","compact"],"standard");y.notation=k,tt(y,d,b,w,k);var S=me(d,"compactDisplay","string",["short","long"],"short");"compact"===k&&(y.compactDisplay=S);var A=me(d,"useGrouping","boolean",void 0,!0);y.useGrouping=A;var E=me(d,"signDisplay","string",["auto","never","always","exceptZero"],"auto");return y.signDisplay=E,e}function rt(e){f("string"==typeof e,"GetOperands should have been called with a string");var t=C(e);f(isFinite(t),"n should be finite");var n,r,a,i=e.indexOf("."),o="";-1===i?(n=t,r=0,a=0):(n=e.slice(0,i),r=C(o=e.slice(i,e.length)),a=o.length);var s,l,u=Math.abs(C(n));if(0!==r){var c=o.replace(/0+$/,"");s=c.length,l=C(c)}else s=0,l=0;return{Number:t,IntegerDigits:u,NumberOfFractionDigits:a,NumberOfFractionDigitsWithoutTrailing:s,FractionDigits:r,FractionDigitsWithoutTrailing:l}}function at(e,t,n,r){var a=r.availableLocales,i=r.relevantExtensionKeys,o=r.localeData,s=r.getDefaultLocale,l=r.getInternalSlots,u=_(t),c=Object.create(null),d=J(n),h=l(e);h.initializedPluralRules=!0;var f=me(d,"localeMatcher","string",["best fit","lookup"],"best fit");c.localeMatcher=f,h.type=me(d,"type","string",["cardinal","ordinal"],"cardinal"),tt(h,d,0,3,"standard");var p=ye(a,u,c,i,o,s);return h.locale=p.locale,e}function it(e,t,n){var r=n.getInternalSlots,a=n.PluralRuleSelect,i=r(e);return f("Object"===Z(i),"pl has to be an object"),f("initializedPluralRules"in i,"pluralrules must be initialized"),f("Number"===Z(t),"n must be a number"),isFinite(t)?a(i.locale,i.type,t,rt(Ne(i,t).formattedString)):"other"}function ot(e){if(f("String"===Z(e),"unit must be a string"),"seconds"===e)return"second";if("minutes"===e)return"minute";if("hours"===e)return"hour";if("days"===e)return"day";if("weeks"===e)return"week";if("months"===e)return"month";if("quarters"===e)return"quarter";if("years"===e)return"year";if("second"!==e&&"minute"!==e&&"hour"!==e&&"day"!==e&&"week"!==e&&"month"!==e&&"quarter"!==e&&"year"!==e)throw new RangeError("invalid unit");return e}function st(e,t,n){for(var r=[],a=0,i=oe(e);a<i.length;a++){var o=i[a];if("literal"===o.type)r.push({type:"literal",value:o.value});else{f("0"===o.type,"Malformed pattern "+e);for(var s=0,l=n;s<l.length;s++){var u=l[s];r.push({type:u.type,value:u.value,unit:t})}}}return r}function lt(e,t,n,r){var a=r.getInternalSlots;if(f("Number"===Z(t),"value must be number, instead got "+typeof t,TypeError),f("String"===Z(n),"unit must be number, instead got "+typeof t,TypeError),isNaN(t)||!isFinite(t))throw new RangeError("Invalid value "+t);var i=ot(n),o=a(e),s=o.fields,l=o.style,u=o.numeric,c=o.pluralRules,d=o.numberFormat,h=i;"short"===l?h=i+"-short":"narrow"===l&&(h=i+"-narrow"),h in s||(h=i);var p=s[h];if("auto"===u&&M(t)in p)return[{type:"literal",value:p[M(t)]}];var m="future";(P(t,-0)||t<0)&&(m="past");var g=p[m],v="function"==typeof d.formatToParts?d.formatToParts(Math.abs(t)):[{type:"literal",value:d.format(Math.abs(t)),unit:n}];return st(g[c.select(t)],i,v)}function ut(e,t,n,r){for(var a="",i=0,o=lt(e,t,n,r);i<o.length;i++)a+=o[i].value;return a}function ct(e,t,n,r){for(var a=lt(e,t,n,r),i=O(0),o=0,s=a;o<s.length;o++){var l=s[o],u={type:l.type,value:l.value};"unit"in l&&(u.unit=l.unit),i.push(u)}return i}var dt,ht=/^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;function ft(e,t,n,r){var a=r.getInternalSlots,i=r.availableLocales,o=r.relevantExtensionKeys,s=r.localeData,l=r.getDefaultLocale,u=a(e);u.initializedRelativeTimeFormat=!0;var c=_(t),d=Object.create(null),h=J(n),p=me(h,"localeMatcher","string",["best fit","lookup"],"best fit");d.localeMatcher=p;var m=me(h,"numberingSystem","string",void 0,void 0);if(void 0!==m&&!ht.test(m))throw new RangeError("Invalid numbering system "+m);d.nu=m;var g=ye(i,c,d,o,s,l),v=g.locale,y=g.nu;u.locale=v,u.style=me(h,"style","string",["long","narrow","short"],"long"),u.numeric=me(h,"numeric","string",["always","auto"],"always");var b=s[g.dataLocale];return f(!!b,"Missing locale data for "+g.dataLocale),u.fields=b,u.numberFormat=new Intl.NumberFormat(t),u.pluralRules=new Intl.PluralRules(t),u.numberingSystem=y,e}function pt(e,t,n){return void 0!==n&&me(n=D(n),"localeMatcher","string",["lookup","best fit"],"best fit"),function(e,t){for(var n=[],r=0,a=t;r<a.length;r++){var i=ge(e,a[r].replace(h,""));i&&n.push(i)}return n}(e,t)}function mt(e){return"MISSING_LOCALE_DATA"===e.type}dt=Error,(0,r.__extends)((function(){var e=null!==dt&&dt.apply(this,arguments)||this;return e.type="MISSING_LOCALE_DATA",e}),dt)},75029:function(e,t,n){"use strict";var r=n(70655).__importDefault(n(96141));n(68518).shouldPolyfill()&&Object.defineProperty(Intl,"RelativeTimeFormat",{value:r.default,writable:!0,enumerable:!1,configurable:!0})},68518:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldPolyfill=void 0,t.shouldPolyfill=function(){return"undefined"==typeof Intl||!("RelativeTimeFormat"in Intl)}},76030:function(e,t){"use strict";var n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},r={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},a=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],i={CSS:{},springs:{}};function o(e,t,n){return Math.min(Math.max(e,t),n)}function s(e,t){return e.indexOf(t)>-1}function l(e,t){return e.apply(null,t)}var u={arr:function(e){return Array.isArray(e)},obj:function(e){return s(Object.prototype.toString.call(e),"Object")},pth:function(e){return u.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||u.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return u.hex(e)||u.rgb(e)||u.hsl(e)},key:function(e){return!n.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function c(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function d(e,t){var n=c(e),r=o(u.und(n[0])?1:n[0],.1,100),a=o(u.und(n[1])?100:n[1],.1,100),s=o(u.und(n[2])?10:n[2],.1,100),l=o(u.und(n[3])?0:n[3],.1,100),d=Math.sqrt(a/r),h=s/(2*Math.sqrt(a*r)),f=h<1?d*Math.sqrt(1-h*h):0,p=h<1?(h*d-l)/f:-l+d;function m(e){var n=t?t*e/1e3:e;return n=h<1?Math.exp(-n*h*d)*(1*Math.cos(f*n)+p*Math.sin(f*n)):(1+p*n)*Math.exp(-n*d),0===e||1===e?e:1-n}return t?m:function(){var t=i.springs[e];if(t)return t;for(var n=1/6,r=0,a=0;;)if(1===m(r+=n)){if(++a>=16)break}else a=0;var o=r*n*1e3;return i.springs[e]=o,o}}function h(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=o(e,1,10),r=o(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}function f(e){return void 0===e&&(e=10),function(t){return Math.round(t*e)*(1/e)}}var p=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function r(e){return 3*e}function a(e,a,i){return((t(a,i)*e+n(a,i))*e+r(a))*e}function i(e,a,i){return 3*t(a,i)*e*e+2*n(a,i)*e+r(a)}return function(t,n,r,o){if(0<=t&&t<=1&&0<=r&&r<=1){var s=new Float32Array(11);if(t!==n||r!==o)for(var l=0;l<11;++l)s[l]=a(l*e,t,r);return function(l){return t===n&&r===o||0===l||1===l?l:a(function(n){for(var o=0,l=1;10!==l&&s[l]<=n;++l)o+=e;--l;var u=o+(n-s[l])/(s[l+1]-s[l])*e,c=i(u,t,r);return c>=.001?function(e,t,n,r){for(var o=0;o<4;++o){var s=i(t,n,r);if(0===s)return t;t-=(a(t,n,r)-e)/s}return t}(n,u,t,r):0===c?u:function(e,t,n,r,i){var o,s,l=0;do{(o=a(s=t+(n-t)/2,r,i)-e)>0?n=s:t=s}while(Math.abs(o)>1e-7&&++l<10);return s}(n,o,o+e,t,r)}(l),n,o)}}}}(),m=function(){var e=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],t={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],h],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,t){return function(n){return 1-h(e,t)(1-n)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,t){return function(n){return n<.5?h(e,t)(2*n)/2:1-h(e,t)(-2*n+2)/2}}]},n={linear:[.25,.25,.75,.75]},r=function(r){t[r].forEach((function(t,a){n["ease"+r+e[a]]=t}))};for(var a in t)r(a);return n}();function g(e,t){if(u.fnc(e))return e;var n=e.split("(")[0],r=m[n],a=c(e);switch(n){case"spring":return d(e,t);case"cubicBezier":return l(p,a);case"steps":return l(f,a);default:return u.fnc(r)?l(r,a):l(p,r)}}function v(e){try{return document.querySelectorAll(e)}catch(e){return}}function y(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,a=[],i=0;i<n;i++)if(i in e){var o=e[i];t.call(r,o,i,e)&&a.push(o)}return a}function b(e){return e.reduce((function(e,t){return e.concat(u.arr(t)?b(t):t)}),[])}function w(e){return u.arr(e)?e:(u.str(e)&&(e=v(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function x(e,t){return e.some((function(e){return e===t}))}function L(e){var t={};for(var n in e)t[n]=e[n];return t}function k(e,t){var n=L(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function S(e,t){var n=L(e);for(var r in t)n[r]=u.und(e[r])?t[r]:e[r];return n}function A(e){var t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[2]}function _(e,t){return u.fnc(e)?e(t.target,t.id,t.total):e}function E(e,t){return e.getAttribute(t)}function M(e,t,n){if(x([n,"deg","rad","turn"],A(t)))return t;var r=i.CSS[t+n];if(!u.und(r))return r;var a=document.createElement(e.tagName),o=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;o.appendChild(a),a.style.position="absolute",a.style.width=100+n;var s=100/a.offsetWidth;o.removeChild(a);var l=s*parseFloat(t);return i.CSS[t+n]=l,l}function C(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?M(e,a,n):a}}function T(e,t){return u.dom(e)&&!u.inp(e)&&(E(e,t)||u.svg(e)&&e[t])?"attribute":u.dom(e)&&x(a,t)?"transform":u.dom(e)&&"transform"!==t&&C(e,t)?"css":null!=e[t]?"object":void 0}function D(e){if(u.dom(e)){for(var t,n=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,a=new Map;t=r.exec(n);)a.set(t[1],t[2]);return a}}function P(e,t,n,r){switch(T(e,t)){case"transform":return function(e,t,n,r){var a=s(t,"scale")?1:0+function(e){return s(e,"translate")||"perspective"===e?"px":s(e,"rotate")||s(e,"skew")?"deg":void 0}(t),i=D(e).get(t)||a;return n&&(n.transforms.list.set(t,i),n.transforms.last=t),r?M(e,i,r):i}(e,t,r,n);case"css":return C(e,t,n);case"attribute":return E(e,t);default:return e[t]||0}}function O(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=A(e)||0,a=parseFloat(t),i=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return a+i+r;case"-":return a-i+r;case"*":return a*i+r}}function R(e,t){if(u.col(e))return function(e){return u.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:u.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):u.hsl(e)?function(e){var t,n,r,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(a[1],10)/360,o=parseInt(a[2],10)/100,s=parseInt(a[3],10)/100,l=a[4]||1;function u(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==o)t=n=r=s;else{var c=s<.5?s*(1+o):s+o-s*o,d=2*s-c;t=u(d,c,i+1/3),n=u(d,c,i),r=u(d,c,i-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+l+")"}(e):void 0;var t,n}(e);var n=A(e),r=n?e.substr(0,e.length-n.length):e;return t&&!/\s/g.test(e)?r+t:r}function Z(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function F(e){for(var t,n=e.points,r=0,a=0;a<n.numberOfItems;a++){var i=n.getItem(a);a>0&&(r+=Z(t,i)),t=i}return r}function I(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*E(e,"r")}(e);case"rect":return function(e){return 2*E(e,"width")+2*E(e,"height")}(e);case"line":return function(e){return Z({x:E(e,"x1"),y:E(e,"y1")},{x:E(e,"x2"),y:E(e,"y2")})}(e);case"polyline":return F(e);case"polygon":return function(e){var t=e.points;return F(e)+Z(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function U(e,t){var n=t||{},r=n.el||function(e){for(var t=e.parentNode;u.svg(t)&&(t=t.parentNode,u.svg(t.parentNode)););return t}(e),a=r.getBoundingClientRect(),i=E(r,"viewBox"),o=a.width,s=a.height,l=n.viewBox||(i?i.split(" "):[0,0,o,s]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:o/l[2],h:s/l[3]}}function N(e,t){function n(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var r=U(e.el,e.svg),a=n(),i=n(-1),o=n(1);switch(e.property){case"x":return(a.x-r.x)*r.w;case"y":return(a.y-r.y)*r.h;case"angle":return 180*Math.atan2(o.y-i.y,o.x-i.x)/Math.PI}}function j(e,t){var n=/[-+]?\d*\.?\d+([eE][-+]?\d+)?/g,r=R(u.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:u.str(e)||t?r.split(n):[]}}function z(e){return y(e?b(u.arr(e)?e.map(w):w(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function B(e){var t=z(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:D(e)}}}))}function G(e,t){var n=L(t);if(/^spring/.test(n.easing)&&(n.duration=d(n.easing)),u.arr(e)){var r=e.length;2!==r||u.obj(e[0])?u.fnc(t.duration)||(n.duration=t.duration/r):e={value:e}}var a=u.arr(e)?e:[e];return a.map((function(e,n){var r=u.obj(e)&&!u.pth(e)?e:{value:e};return u.und(r.delay)&&(r.delay=n?0:t.delay),u.und(r.endDelay)&&(r.endDelay=n===a.length-1?t.endDelay:0),r})).map((function(e){return S(e,n)}))}var H={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,a){if(r.list.set(t,n),t===r.last||a){var i="";r.list.forEach((function(e,t){i+=t+"("+e+") "})),e.style.transform=i}}};function V(e,t){B(e).forEach((function(e){for(var n in t){var r=_(t[n],e),a=e.target,i=A(r),o=P(a,n,i,e),s=O(R(r,i||A(o)),o),l=T(a,n);H[l](a,n,s,e.transforms,!0)}}))}function q(e,t){return y(b(e.map((function(e){return t.map((function(t){return function(e,t){var n=T(e.target,t.name);if(n){var r=function(e,t){var n;return e.tweens.map((function(r){var a=function(e,t){var n={};for(var r in e){var a=_(e[r],t);u.arr(a)&&1===(a=a.map((function(e){return _(e,t)}))).length&&(a=a[0]),n[r]=a}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,t),i=a.value,o=u.arr(i)?i[1]:i,s=A(o),l=P(t.target,e.name,s,t),c=n?n.to.original:l,d=u.arr(i)?i[0]:c,h=A(d)||A(l),f=s||h;return u.und(o)&&(o=c),a.from=j(d,f),a.to=j(O(o,d),f),a.start=n?n.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=g(a.easing,a.duration),a.isPath=u.pth(i),a.isColor=u.col(a.from.original),a.isColor&&(a.round=1),n=a,a}))}(t,e),a=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:a.end,delay:r[0].delay,endDelay:a.endDelay}}}(e,t)}))}))),(function(e){return!u.und(e)}))}function W(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},a={};return a.duration=n?Math.max.apply(Math,e.map((function(e){return r(e)+e.duration}))):t.duration,a.delay=n?Math.min.apply(Math,e.map((function(e){return r(e)+e.delay}))):t.delay,a.endDelay=n?a.duration-Math.max.apply(Math,e.map((function(e){return r(e)+e.duration-e.endDelay}))):t.endDelay,a}var $,K=0,Y=[],X=[],Q=function(){function e(){$=setTimeout(t,5)}function t(t){var n=Y.length;if(n){for(var r=0;r<n;){var a=Y[r];if(a.paused){var i=Y.indexOf(a);i>-1&&(Y.splice(i,1),n=Y.length)}else a.tick(performance.now());r++}e()}else $=clearTimeout($)}return e}();function J(e){void 0===e&&(e={});var t,a=0,i=0,s=0,l=0,c=null;function d(e){var t=window.Promise&&new Promise((function(e){return c=e}));return e.finished=t,t}var h=function(e){var t=k(n,e),a=k(r,e),i=function(e,t){var n=[],r=t.keyframes;for(var a in r&&(t=S(function(e){for(var t=y(b(e.map((function(e){return Object.keys(e)}))),(function(e){return u.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},r=function(r){var a=t[r];n[a]=e.map((function(e){var t={};for(var n in e)u.key(n)?n==a&&(t.value=e[n]):t[n]=e[n];return t}))},a=0;a<t.length;a++)r(a);return n}(r),t)),t)u.key(a)&&n.push({name:a,tweens:G(t[a],e)});return n}(a,e),o=B(e.targets),s=q(o,i),l=W(s,a),c=K;return K++,S(t,{id:c,children:[],animatables:o,animations:s,duration:l.duration,delay:l.delay,endDelay:l.endDelay})}(e);function f(){var e=h.direction;"alternate"!==e&&(h.direction="normal"!==e?"normal":"reverse"),h.reversed=!h.reversed,t.forEach((function(e){return e.reversed=h.reversed}))}function p(e){return h.reversed?h.duration-e:e}function m(){a=0,i=p(h.currentTime)*(1/J.speed)}function g(e,t){t&&t.seek(e-t.timelineOffset)}function v(e){for(var t=0,n=h.animations,r=n.length;t<r;){var a=n[t],i=a.animatable,s=a.tweens,l=s.length-1,u=s[l];l&&(u=y(s,(function(t){return e<t.end}))[0]||u);for(var c=o(e-u.start-u.delay,0,u.duration)/u.duration,d=isNaN(c)?1:u.easing(c),f=u.to.strings,p=u.round,m=[],g=u.to.numbers.length,v=void 0,b=0;b<g;b++){var w=void 0,x=u.to.numbers[b],L=u.from.numbers[b]||0;w=u.isPath?N(u.value,d*x):L+d*(x-L),p&&(u.isColor&&b>2||(w=Math.round(w*p)/p)),m.push(w)}var k=f.length;if(k){v=f[0];for(var S=0;S<k;S++){f[S];var A=f[S+1],_=m[S];isNaN(_)||(v+=A?_+A:_+" ")}}else v=m[0];H[a.type](i.target,a.property,v,i.transforms),a.currentValue=v,t++}}function w(e){h[e]&&!h.passThrough&&h[e](h)}function x(e){var n=h.duration,r=h.delay,u=n-h.endDelay,m=p(e);h.progress=o(m/n*100,0,100),h.reversePlayback=m<h.currentTime,t&&function(e){if(h.reversePlayback)for(var n=l;n--;)g(e,t[n]);else for(var r=0;r<l;r++)g(e,t[r])}(m),!h.began&&h.currentTime>0&&(h.began=!0,w("begin"),w("loopBegin")),m<=r&&0!==h.currentTime&&v(0),(m>=u&&h.currentTime!==n||!n)&&v(n),m>r&&m<u?(h.changeBegan||(h.changeBegan=!0,h.changeCompleted=!1,w("changeBegin")),w("change"),v(m)):h.changeBegan&&(h.changeCompleted=!0,h.changeBegan=!1,w("changeComplete")),h.currentTime=o(m,0,n),h.began&&w("update"),e>=n&&(i=0,h.remaining&&!0!==h.remaining&&h.remaining--,h.remaining?(a=s,w("loopComplete"),w("loopBegin"),"alternate"===h.direction&&f()):(h.paused=!0,h.completed||(h.completed=!0,w("loopComplete"),w("complete"),!h.passThrough&&"Promise"in window&&(c(),d(h)))))}return d(h),h.reset=function(){var e=h.direction;h.passThrough=!1,h.currentTime=0,h.progress=0,h.paused=!0,h.began=!1,h.changeBegan=!1,h.completed=!1,h.changeCompleted=!1,h.reversePlayback=!1,h.reversed="reverse"===e,h.remaining=h.loop,t=h.children;for(var n=l=t.length;n--;)h.children[n].reset();(h.reversed&&!0!==h.loop||"alternate"===e&&1===h.loop)&&h.remaining++,v(0)},h.set=function(e,t){return V(e,t),h},h.tick=function(e){s=e,a||(a=s),x((s+(i-a))*J.speed)},h.seek=function(e){x(p(e))},h.pause=function(){h.paused=!0,m()},h.play=function(){h.paused&&(h.completed&&h.reset(),h.paused=!1,Y.push(h),m(),$||Q())},h.reverse=function(){f(),m()},h.restart=function(){h.reset(),h.play()},h.reset(),h.autoplay&&h.play(),h}function ee(e,t){for(var n=t.length;n--;)x(e,t[n].animatable.target)&&t.splice(n,1)}"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){document.hidden?(Y.forEach((function(e){return e.pause()})),X=Y.slice(0),Y=[]):X.forEach((function(e){return e.play()}))})),J.version="3.0.1",J.speed=1,J.running=Y,J.remove=function(e){for(var t=z(e),n=Y.length;n--;){var r=Y[n],a=r.animations,i=r.children;ee(t,a);for(var o=i.length;o--;){var s=i[o],l=s.animations;ee(t,l),l.length||s.children.length||i.splice(o,1)}a.length||i.length||r.pause()}},J.get=P,J.set=V,J.convertPx=M,J.path=function(e,t){var n=u.str(e)?v(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:U(n),totalLength:I(n)*(r/100)}}},J.setDashoffset=function(e){var t=I(e);return e.setAttribute("stroke-dasharray",t),t},J.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?g(t.easing):null,a=t.grid,i=t.axis,o=t.from||0,s="first"===o,l="center"===o,c="last"===o,d=u.arr(e),h=d?parseFloat(e[0]):parseFloat(e),f=d?parseFloat(e[1]):0,p=A(d?e[1]:e)||0,m=t.start||0+(d?h:0),v=[],y=0;return function(e,t,u){if(s&&(o=0),l&&(o=(u-1)/2),c&&(o=u-1),!v.length){for(var g=0;g<u;g++){if(a){var b=l?(a[0]-1)/2:o%a[0],w=l?(a[1]-1)/2:Math.floor(o/a[0]),x=b-g%a[0],L=w-Math.floor(g/a[0]),k=Math.sqrt(x*x+L*L);"x"===i&&(k=-x),"y"===i&&(k=-L),v.push(k)}else v.push(Math.abs(o-g));y=Math.max.apply(Math,v)}r&&(v=v.map((function(e){return r(e/y)*y}))),"reverse"===n&&(v=v.map((function(e){return i?e<0?-1*e:-e:Math.abs(y-e)})))}return m+(d?(f-h)/y:h)*(Math.round(100*v[t])/100)+p}},J.timeline=function(e){void 0===e&&(e={});var t=J(e);return t.duration=0,t.add=function(n,a){var i=Y.indexOf(t),o=t.children;function s(e){e.passThrough=!0}i>-1&&Y.splice(i,1);for(var l=0;l<o.length;l++)s(o[l]);var c=S(n,k(r,e));c.targets=c.targets||e.targets;var d=t.duration;c.autoplay=!1,c.direction=t.direction,c.timelineOffset=u.und(a)?d:O(a,d),s(t),t.seek(c.timelineOffset);var h=J(c);s(h),o.push(h);var f=W(o,e);return t.delay=f.delay,t.endDelay=f.endDelay,t.duration=f.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},J.easing=g,J.penner=m,J.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t.Z=J},798:function(e,t,n){var r=n(99477);AFRAME.registerComponent("ambient-light",{schema:{color:{type:"color"},intensity:{default:1}},init(){this.light=new r.AmbientLight,this.el.setObject3D("ambient-light",this.light)},update(e){this.data.color!==e.color&&(this.light.color.set(this.data.color),this.light.color.convertSRGBToLinear()),this.data.intensity!==e.intensity&&(this.light.intensity=this.data.intensity)},remove:function(){this.el.removeObject3D("ambient-light")}})},24649:function(e,t,n){var r=n(99477),a=n(76030).Z,i=AFRAME.components,o=AFRAME.registerComponent,s=AFRAME.utils;delete AFRAME.components.animation;var l=new r.Color,u=new r.Color,c={};function d(e,t){return c[t=t||"."]||(c[t]={}),-1!==e.indexOf(t)?c[t][e]=e.split(t):c[t][e]=e,c[t][e]}const h=function(e,t,n){var r;return n=n||".",-1!==t.indexOf(n)?(r=d(t,n)).constructor===String?e.getAttribute(r):e.getAttribute(r[0])[r[1]]:e.getAttribute(t)},f=function(e,t,n,r){var a;r=r||".",-1===t.indexOf(r)?e.setAttribute(t,n):(a=d(t,r)).constructor===String?e.setAttribute(a,n):e.setAttribute(a[0],a[1],n)};var p={},m="color",g="rotation",v="scale",y="components";function b(e){e.x=r.MathUtils.degToRad(e.x),e.y=r.MathUtils.degToRad(e.y),e.z=r.MathUtils.degToRad(e.z)}function w(e,t,n){var r;for(r=0;r<t.length;r++)e.addEventListener(t[r],n)}function x(e,t,n){var r;for(r=0;r<t.length;r++)e.removeEventListener(t[r],n)}function L(e,t){var n,r,a;for(r=S(t),a=e,n=0;n<r.length;n++)a=a[r[n]];return a}function k(e,t,n,a){var i,o,s,l;for(t.startsWith("object3D.rotation")&&(n=r.MathUtils.degToRad(n)),o=S(t),l=e,i=0;i<o.length-1;i++)l=l[o[i]];s=o[o.length-1],a!==m?l[s]=n:"r"in l[s]?(l[s].r=n.r,l[s].g=n.g,l[s].b=n.b):(l[s].x=n.r,l[s].y=n.g,l[s].z=n.b)}function S(e){return e in p||(p[e]=e.split(".")),p[e]}function A(e){return e.isRawProperty||e.property.startsWith(y)||e.property.startsWith("object3D")}o("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(e){return!0===e||"true"===e||!1!==e&&"false"!==e&&parseInt(e,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var e=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){e.animationIsPlaying=!1,e.el.emit("animationcomplete",e.eventDetail,!1),e.id&&e.el.emit("animationcomplete__"+e.id,e.eventDetail,!1)}}},update:function(e){var t=this.config,n=this.data;this.animationIsPlaying=!1,this.data.enabled&&n.property&&(t.autoplay=!1,t.direction=n.dir,t.duration=n.dur,t.easing=n.easing,t.elasticity=n.elasticity,t.loop=n.loop,t.round=n.round,this.createAndStartAnimation())},tick:function(e,t){this.animationIsPlaying&&(this.time+=t,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners(),this.cancelDelayedStart()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners(),this.cancelDelayedStart()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var e=this.data;this.updateConfig(),this.animationIsPlaying=!1,this.animation=a(this.config),this.removeEventListeners(),this.cancelDelayedStart(),this.addEventListeners(),!e.autoplay||e.startEvents&&e.startEvents.length||(e.delay?this.delayTimeout=setTimeout(this.beginAnimation,e.delay):this.beginAnimation())},beginAnimation:function(){this.updateConfig(),this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){this.data.enabled&&(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=a(this.config),this.data.delay?setTimeout(this.beginAnimation,this.data.delay):this.beginAnimation())},updateConfigForRawColor:function(){var e,t,n,r=this.config,a=this.data,i=this.el;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){for(t in e=""===a.from?L(i,a.property):a.from,n=a.to,this.setColorConfig(e,n),e=this.fromColor,n=this.toColor,this.targetsArray.length=0,this.targetsArray.push(e),r.targets=this.targetsArray,n)r[t]=n[t];var o;r.update=(o={},function(e){var t;(t=e.animatables[0].target).r===o.r&&t.g===o.g&&t.b===o.b||k(i,a.property,t,a.type)})}},updateConfigForDefault:function(){var e,t,n,r,a=this.config,i=this.data,o=this.el;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(e=""===i.from?A(i)?L(o,i.property):h(o,i.property):i.from,n=i.to,isNaN(e||n)?(e=e?e.toString():e,n=n?n.toString():n):(e=parseFloat(e),n=parseFloat(n)),(t="true"===i.to||"false"===i.to||!0===i.to||!1===i.to)&&(e="true"===i.from||!0===i.from?1:0,n="true"===i.to||!0===i.to?1:0),this.targets.aframeProperty=e,a.targets=this.targets,a.aframeProperty=n,a.update=function(e){var n;(n=e.animatables[0].target.aframeProperty)!==r&&(r=n,t&&(n=n>=1),A(i)?k(o,i.property,n,i.type):f(o,i.property,n))})},updateConfigForVector:function(){var e,t,n,r,a=this.config,i=this.data,o=this.el;for(e in t=""!==i.from?s.coordinates.parse(i.from):h(o,i.property),n=s.coordinates.parse(i.to),i.property===g&&(b(t),b(n)),this.targetsArray.length=0,this.targetsArray.push(t),a.targets=this.targetsArray,n)a[e]=n[e];"position"!==i.property&&i.property!==g&&i.property!==v?a.update=function(){var e={};return function(t){var n=t.animations[0].target;n.x===e.x&&n.y===e.y&&n.z===e.z||(e.x=n.x,e.y=n.y,e.z=n.z,f(o,i.property,n))}}():a.update=(r={},function(e){var t=e.animatables[0].target;i.property===v&&(t.x=Math.max(1e-4,t.x),t.y=Math.max(1e-4,t.y),t.z=Math.max(1e-4,t.z)),t.x===r.x&&t.y===r.y&&t.z===r.z||(r.x=t.x,r.y=t.y,r.z=t.z,o.object3D[i.property].set(t.x,t.y,t.z),o.object3D.matrixNeedsUpdate=!0)})},updateConfig:function(){var e,t,n,r,a,o,s;t=this.el,n=this.data.property,a=(o=n.split("."))[0],s=o[1],e=(r=t.components[a]||i[a])?s&&!r.schema[s]?null:s?r.schema[s].type:r.schema.type:null,A(this.data)&&this.data.type===m?this.updateConfigForRawColor():"vec2"===e||"vec3"===e||"vec4"===e?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(e){var t,n=this.data,r=this.el,i=this;return""===n.from&&!!n.property.startsWith(y)&&(t=S(n.property)[1],!r.components[t]&&(r.addEventListener("componentinitialized",(function n(o){o.detail.name===t&&(e(),i.animation=a(i.config),r.removeEventListener("componentinitialized",n))})),!0))},stopRelatedAnimations:function(){var e,t;for(t in this.el.components)e=this.el.components[t],t!==this.attrName&&"animation"===e.name&&e.animationIsPlaying&&e.data.property===this.data.property&&(e.animationIsPlaying=!1)},addEventListeners:function(){var e=this.data,t=this.el;w(t,e.startEvents,this.onStartEvent),w(t,e.pauseEvents,this.pauseAnimation),w(t,e.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var e=this.data,t=this.el;x(t,e.startEvents,this.onStartEvent),x(t,e.pauseEvents,this.pauseAnimation),x(t,e.resumeEvents,this.resumeAnimation)},cancelDelayedStart:function(){this.delayTimeout&&(clearTimeout(this.delayTimeout),this.delayTimeout=null)},setColorConfig:function(e,t){l.set(e),u.set(t),e=this.fromColor,t=this.toColor,e.r=l.r,e.g=l.g,e.b=l.b,t.r=u.r,t.g=u.g,t.b=u.b}})},71010:function(e,t,n){var r=n(99477);const a=302836,i=new r.MeshBasicMaterial({color:a,transparent:!0,opacity:.25,side:r.DoubleSide});AFRAME.registerComponent("audio-zone",{schema:{enabled:{default:!0},inOut:{default:!0},outIn:{default:!0},debuggable:{default:!0}},init(){var e,t;const n=new r.BoxGeometry;this.debugMesh=new r.Mesh(n,i),this.debugMesh.el=this.el.object3D.el;const o=new r.BoxHelper(this.debugMesh,a);this.el.object3D.add(o),this.el.object3D.updateMatrixWorld(!0),null===(e=this.el.sceneEl.systems["audio-debug"])||void 0===e||e.registerZone(this),null===(t=this.el.sceneEl.systems["hubs-systems"])||void 0===t||t.audioZonesSystem.registerZone(this),this.enableDebug(window.APP.store.state.preferences.showAudioDebugPanel)},remove(){var e,t;null===(e=this.el.sceneEl.systems["audio-debug"])||void 0===e||e.unregisterZone(this),null===(t=this.el.sceneEl.systems["hubs-systems"])||void 0===t||t.audioZonesSystem.unregisterZone(this)},update(){this.enableDebug(this.data.debuggable&&window.APP.store.state.preferences.showAudioDebugPanel)},isEnabled(){return this.data.enabled},getBoundingBox:function(){const e=new r.Box3;return function(){return e.copy(this.debugMesh.geometry.boundingBox).applyMatrix4(this.el.object3D.matrixWorld)}}(),enableDebug(e){this.data.debuggable=e,this.el.object3D.visible=e},getAudioParams(){return APP.audioOverrides.get(this.el)},contains(e){return this.getBoundingBox().containsPoint(e)}})},31115:function(e,t,n){var r=n(99477);const a=AFRAME.utils.device.isMobileVR();AFRAME.registerComponent("billboard",{schema:{onlyY:{type:"boolean"}},init:function(){this._updateBillboard=this._updateBillboard.bind(this),this._updateIsInView=this._updateIsInView.bind(this),a&&this.el.sceneEl.systems["frame-scheduler"].schedule(this._updateIsInView,"billboards")},remove(){a&&this.el.sceneEl.systems["frame-scheduler"].unschedule(this._updateIsInView,"billboards")},tick(){!this.isInView&&a||this._updateBillboard()},_updateIsInView:function(){const e=new r.Frustum,t=new r.Matrix4,n=new r.Box3,a=new r.Box3,i=e=>{e.geometry&&(e.updateMatrices(),e.geometry.computeBoundingBox(),a.copy(e.geometry.boundingBox).applyMatrix4(e.matrixWorld),n.expandByPoint(a.min),n.expandByPoint(a.max))};return function(){var r,a;this.el.object3D.visible?(this.playerCamera||(this.playerCamera=document.getElementById("viewing-camera").getObject3D("camera")),this.playerCamera&&(this.isInView=!!this.el.sceneEl.is("vr-mode")||(r=this.el.object3D,a=this.playerCamera,t.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),e.setFromProjectionMatrix(t),n.makeEmpty(),r.traverse(i),e.intersectsBox(n)))):this.isInView=!1}}(),_updateBillboard:function(){const e=new r.Vector3,t=new r.Vector3;return function(){if(!this.el.object3D.visible)return;const n=this.el.sceneEl.camera,r=this.el.object3D;n&&(e.setFromMatrixPosition(n.matrixWorld),this.data.onlyY&&(r.getWorldPosition(t),e.y=t.y),r.lookAt(e),r.matrixNeedsUpdate=!0)}}()})},90903:function(){AFRAME.registerComponent("css-class",{schema:{type:"string"},multiple:!0,init(){this.el.classList.add(this.data)},update(e){this.data!==e&&(this.el.classList.remove(e),this.el.classList.add(this.data))},remove(){this.el.classList.remove(this.data)}})},17875:function(){AFRAME.registerComponent("log-events",{init:function(){const e=this.el,t=this.log.bind(this),n=this.el.dispatchEvent;this.el.dispatchEvent=function(){return t(Array.from(arguments)),n.apply(e,arguments)}},log:function(e){let[t]=e;if(["componentchanged"].includes(t.type))return;let n=!0;console.info(`log-events: ${this.el.id} ${t.type} ${JSON.stringify(t.detail,((e,t)=>t&&"object"==typeof t&&void 0===t.length?n?(n=!1,t):"[object]":t))}`)}}),AFRAME.registerComponent("lifecycle-checker",{schema:{name:{type:"string"},tick:{default:!1}},init:function(){this.log("init")},update:function(){this.log("update")},tick:function(){this.data.tick&&this.log("tick")},remove:function(){this.log("remove")},pause:function(){this.log("pause")},play:function(){this.log("play")},log:function(e){console.info(`lifecycle-checker:${this.data.name} ${e}`)}})},19304:function(e,t,n){var r=n(99477);AFRAME.registerComponent("directional-light",{schema:{color:{type:"color"},intensity:{default:1},castShadow:{default:!0},shadowMapResolution:{default:[512,512]},shadowBias:{default:0},shadowRadius:{default:1}},init(){this.light=new r.DirectionalLight,this.light.position.set(0,0,0),this.light.target.position.set(0,0,1),this.light.add(this.light.target),this.el.setObject3D("directional-light",this.light)},update(e){const t=this.light;if(this.data.color!==e.color){const e=new r.Color(this.data.color);e.convertSRGBToLinear(),t.color.copy(e)}this.data.intensity!==e.intensity&&(t.intensity=this.data.intensity),this.data.castShadow!==e.castShadow&&(t.castShadow=this.data.castShadow),this.data.shadowBias!==e.shadowBias&&(t.shadow.bias=this.data.shadowBias),this.data.shadowRadius!==e.shadowRadius&&(t.shadow.radius=this.data.shadowRadius);const[n,a]=this.data.shadowMapResolution,[i,o]=e.shadowMapResolution?e.shadowMapResolution:[512,512];n===i&&a===o||(t.shadow.mapSize.set(n,a),t.shadow.map&&(t.shadow.map.dispose(),t.shadow.map=null)),this.light.shadow.camera.matrixNeedsUpdate=!0},remove:function(){this.el.removeObject3D("directional-light")}})},71087:function(){AFRAME.registerComponent("duck",{schema:{initialForce:{default:0},maxForce:{default:6.5},maxScale:{default:5}},init:function(){this.initialScale=this.el.object3D.scale.x,this.maxScale=this.data.maxScale*this.initialScale,NAF.utils.getNetworkedEntity(this.el).then((e=>{this.networkedEntity=e,this.initialScale=this.networkedEntity.object3D.scale.x,this.maxScale=this.data.maxScale*this.initialScale}))},tick:function(){if(!this.networkedEntity||NAF.utils.isMine(this.networkedEntity)){const e=this.networkedEntity||this.el,t=e.object3D.scale.x,n=Math.min(1,(t-this.initialScale)/(this.maxScale-this.initialScale))*this.data.maxForce;if(n>0){const t=Math.random()*Math.PI*2,r=Math.cos(t),a=Math.sin(t);e.setAttribute("body-helper",{gravity:{x:r,y:n,z:a}})}}}})},24842:function(){AFRAME.registerComponent("event-repeater",{schema:{eventSource:{type:"selector"},events:{type:"array"}},play:function(){this.data.eventListeners=[];const e=this.data.events;for(let t=0;t<e.length;t++){const n=e[t];this.data.eventListeners[n]=this._handleEvent.bind(this,n),this.data.eventSource.addEventListener(n,this.data.eventListeners[n])}},pause:function(){const e=this.data.events;for(let t=0;t<e.length;t++){const n=e[t];this.data.eventSource.removeEventListener(n,this.data.eventListeners[n])}this.data.eventListeners=[]},_handleEvent:function(e,t){this.el.emit(e,t.detail)}})},88667:function(e,t,n){var r=n(99477);AFRAME.registerComponent("frustrum",{schema:{culled:{type:"boolean",default:!0}},update:function(){this.updateDescendants(this.data.culled)},remove:function(){this.updateDescendants(!0)},updateDescendants:function(e){this.el.object3D.traverse((function(t){t instanceof r.Mesh&&(t.frustumCulled=e)}))}})},92179:function(){AFRAME.registerComponent("heightfield",{init(){this.el.addEventListener("componentinitialized",(e=>{"static-body"===e.detail.name&&this.generateAndAddHeightfield(this.el.components["static-body"])})),this.el.setAttribute("static-body",{shape:"none",mass:0})},generateAndAddHeightfield(e){const{offset:t,distance:n,data:r}=this.data,a=new CANNON.Quaternion;a.setFromAxisAngle(new CANNON.Vec3(1,0,0),-Math.PI/2);const i=new CANNON.Quaternion;i.setFromAxisAngle(new CANNON.Vec3(0,1,0),-Math.PI/2),i.mult(a,a);const o=new CANNON.Vec3(t.x,t.y,t.z),s=new CANNON.Heightfield(r,{elementSize:n});e.addShape(s,o,a)}})},57886:function(e,t,n){var r=n(99477);AFRAME.registerComponent("hemisphere-light",{schema:{skyColor:{type:"color"},groundColor:{type:"color"},intensity:{default:1}},init(){this.light=new r.HemisphereLight,this.light.position.set(0,0,0),this.light.matrixNeedsUpdate=!0,this.el.setObject3D("hemisphere-light",this.light)},update(e){this.data.skyColor!==e.skyColor&&this.light.color.set(this.data.skyColor),this.data.groundColor!==e.groundColor&&this.light.groundColor.set(this.data.groundColor),this.data.intensity!==e.intensity&&(this.light.intensity=this.data.intensity)},remove:function(){this.el.removeObject3D("hemisphere-light")}})},89684:function(){AFRAME.registerComponent("hide-when-quality",{schema:{type:"string",default:"low"},update(e){this.data!==e&&this.updateComponentState(window.APP.store.state.preferences.materialQualitySetting)},updateComponentState(e){this.el.setAttribute("visible",e!==this.data)}})},69318:function(){AFRAME.registerComponent("inject-main-camera-here",{init(){this.el.setObject3D("camera",this.el.sceneEl.camera)}})},28246:function(e,t,n){var r=n(99477);AFRAME.registerComponent("point-light",{schema:{color:{type:"color"},intensity:{default:1},range:{default:0},decay:{default:2},castShadow:{default:!0},shadowMapResolution:{default:[512,512]},shadowBias:{default:0},shadowRadius:{default:1}},init(){this.light=new r.PointLight,this.light.shadow.camera.matrixAutoUpdate=!0,this.el.setObject3D("point-light",this.light)},update(e){const t=this.light;if(this.data.color!==e.color){const e=new r.Color(this.data.color);e.convertSRGBToLinear(),t.color.copy(e)}this.data.intensity!==e.intensity&&(t.intensity=this.data.intensity),this.data.range!==e.range&&(t.distance=this.data.range),this.data.decay!==e.decay&&(t.decay=this.data.decay),this.data.castShadow!==e.castShadow&&(t.castShadow=this.data.castShadow),this.data.shadowBias!==e.shadowBias&&(t.shadow.bias=this.data.shadowBias),this.data.shadowRadius!==e.shadowRadius&&(t.shadow.radius=this.data.shadowRadius);const[n,a]=this.data.shadowMapResolution,[i,o]=e.shadowMapResolution?e.shadowMapResolution:[512,512];n===i&&a===o||(t.shadow.mapSize.set(n,a),t.shadow.map&&(t.shadow.map.dispose(),t.shadow.map=null))},remove:function(){this.el.removeObject3D("point-light")}})},66210:function(e,t,n){var r=n(99477);AFRAME.registerComponent("spot-light",{schema:{color:{type:"color"},intensity:{default:1},range:{default:0},decay:{default:2},innerConeAngle:{default:0},outerConeAngle:{default:Math.PI/4},castShadow:{default:!0},shadowMapResolution:{default:[512,512]},shadowBias:{default:0},shadowRadius:{default:1}},init(){this.light=new r.SpotLight,this.light.position.set(0,0,0),this.light.target.position.set(0,0,1),this.light.add(this.light.target),this.light.matrixNeedsUpdate=!0,this.light.target.matrixNeedsUpdate=!0,this.el.setObject3D("spot-light",this.light)},update(e){const t=this.light;this.data.color!==e.color&&t.color.set(this.data.color),this.data.intensity!==e.intensity&&(t.intensity=this.data.intensity),this.data.range!==e.range&&(t.distance=this.data.range),this.data.decay!==e.decay&&(t.decay=this.data.decay),this.data.innerConeAngle===e.innerConeAngle&&this.data.outerConeAngle===e.outerConeAngle||(t.angle=this.data.outerConeAngle,t.penumbra=1-this.data.innerConeAngle/this.data.outerConeAngle),this.data.castShadow!==e.castShadow&&(t.castShadow=this.data.castShadow),this.data.shadowBias!==e.shadowBias&&(t.shadow.bias=this.data.shadowBias),this.data.shadowRadius!==e.shadowRadius&&(t.shadow.radius=this.data.shadowRadius);const[n,r]=this.data.shadowMapResolution,[a,i]=e.shadowMapResolution?e.shadowMapResolution:[512,512];n===a&&r===i||(t.shadow.mapSize.set(n,r),t.shadow.map&&(t.shadow.map.dispose(),t.shadow.map=null))},remove:function(){this.el.removeObject3D("spot-light")}})},14208:function(e,t,n){var r=n(99477);const a=new r.Vector3,i=new r.Vector3,o=new r.Vector3;AFRAME.registerComponent("trigger-volume",{schema:{colliders:{type:"selectorAll"},size:{type:"vec3",default:{x:1,y:1,z:1}},target:{type:"selector"},enterComponent:{type:"string"},enterProperty:{type:"string"},enterValue:{default:"",parse:e=>"object"==typeof e?e:JSON.parse(e),stringify:JSON.stringify},leaveComponent:{type:"string"},leaveProperty:{type:"string"},leaveValue:{default:"",parse:e=>"object"==typeof e?e:JSON.parse(e),stringify:JSON.stringify}},init(){this.boundingBox=new r.Box3,this.collidingLastFrame={}},update(){this.el.object3D.getWorldPosition(i),a.copy(this.data.size),this.boundingBox.setFromCenterAndSize(i,a)},tick(){if(!this.data.target)return;const e=this.data.colliders;for(let t=0;t<e.length;t++){const n=e[t].object3D;n.getWorldPosition(o);const r=this.boundingBox.containsPoint(o),a=this.collidingLastFrame[n.id];r&&!a?this.data.target.setAttribute(this.data.enterComponent,this.data.enterProperty,this.data.enterValue):!r&&a&&this.data.target.setAttribute(this.data.leaveComponent,this.data.leaveProperty,this.data.leaveValue),this.collidingLastFrame[n.id]=r}}})},51337:function(){AFRAME.registerComponent("video-pause-state",{schema:{paused:{default:!1}},init(){this.onPauseStateChange=this.onPauseStateChange.bind(this),this.videoComponent=this.el.components["media-video"],this.videoComponent?this.onVideoLoaded():(this.onVideoLoaded=this.onVideoLoaded.bind(this),this.el.addEventListener("video-loaded",this.onVideoLoaded))},onVideoLoaded(){this.videoComponent=this.el.components["media-video"],this.video=this.videoComponent.video,this.video.addEventListener("pause",this.onPauseStateChange)},onPauseStateChange(){this.el.setAttribute("paused",this.video.paused)},update(){this.video&&this.data.paused!==this.video.paused&&this.videoComponent.togglePlaying()},remove(){this.video&&this.video.removeEventListener("pause",this.onPauseStateChange),this.el.removeEventListener("video-loaded",this.onVideoLoaded)}})},58061:function(e){let t=0;const n=()=>1<<t++,r={ALL:-1,NONE:0,INTERACTABLES:n(),ENVIRONMENT:n(),AVATAR:n(),HANDS:n(),MEDIA_FRAMES:n()};r.DEFAULT_INTERACTABLE=r.INTERACTABLES|r.ENVIRONMENT|r.AVATAR|r.HANDS|r.MEDIA_FRAMES,r.UNOWNED_INTERACTABLE=r.INTERACTABLES|r.HANDS|r.MEDIA_FRAMES,r.DEFAULT_SPAWNER=r.INTERACTABLES|r.HANDS,e.exports={COLLISION_LAYERS:r,PRIVACY:"https://www.mozilla.org/en-US/privacy/hubs/",TERMS:"https://www.mozilla.org/en-US/about/legal/terms/hubs/"}},89587:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{backIn:function(){return Ds},backInOut:function(){return Os},backOut:function(){return Ps},bounceIn:function(){return Rs},bounceInOut:function(){return Fs},bounceOut:function(){return Zs},circularIn:function(){return As},circularInOut:function(){return Es},circularOut:function(){return _s},cubicIn:function(){return cs},cubicInOut:function(){return hs},cubicOut:function(){return ds},elasticIn:function(){return Ms},elasticInOut:function(){return Ts},elasticOut:function(){return Cs},exponentialIn:function(){return Ls},exponentialInOut:function(){return Ss},exponentialOut:function(){return ks},linear:function(){return os},quadraticIn:function(){return ss},quadraticInOut:function(){return us},quadraticOut:function(){return ls},quarticIn:function(){return fs},quarticInOut:function(){return ms},quarticOut:function(){return ps},quinticIn:function(){return gs},quinticInOut:function(){return ys},quinticOut:function(){return vs},sinusoidalIn:function(){return bs},sinusoidalInOut:function(){return xs},sinusoidalOut:function(){return ws}});var a=n(67294),i=n(45697),o=n.n(i);n.p,n.p,n.p,n.p,n.p;const s={en:"English","zh-cn":"",pt:"Portugs (Brasil)",ja:"",es:"Espaol",ru:"P",fr:"Franais",ko:"",de:"Deutsch","zh-tw":""},l={jp:"ja"};function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={"app-name":"App","editor-name":"Scene Editor","contact-email":"app@company.com","company-name":"Company","share-hashtag":"#app","app-description":"Gather share and collaborate together in a virtual, private and safe space","app-tagline":"Private social VR in your web browser"},h="en",f=new Map,p=h,m=d;function g(e){var t=function(e){var t,n=navigator.languages?function(e){if(Array.isArray(e))return c(e)}(t=navigator.languages)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():navigator.language?[navigator.language]:navigator.userLanguage?[navigator.userLanguage]:void 0;e&&"browser"!==e&&n.unshift(e);for(var r=0;r<n.length;r++){var a=n[r];if(s.hasOwnProperty(a))return a;l.hasOwnProperty(a)&&l.hasOwnProperty(a);var i=a.split("-")[0].toLowerCase();if(s.hasOwnProperty(i))return i;if(l.hasOwnProperty(i))return l[i]}return h}(e);t===h?(p=t,m=d,window.dispatchEvent(new CustomEvent("locale-updated"))):f.has(t)?(p=t,window.dispatchEvent(new CustomEvent("locale-updated"))):n(37472)("./".concat(t,".json")).then((function(e){var n=e.default;p=t,m=n,window.dispatchEvent(new CustomEvent("locale-updated"))}))}var v=window.setInterval((function(){window.APP&&window.APP.store&&(window.clearInterval(v),g(window.APP.store.state.preferences.locale),window.APP.store.addEventListener("statechanged",(function(){g(window.APP.store.state.preferences.locale)})))}),100),y=function(){return p},b=function(){if(f.has(p))return f.get(p);if(P.APP_CONFIG&&P.APP_CONFIG.translations&&P.APP_CONFIG.translations[p]){var e=P.APP_CONFIG.translations[p];for(var t in e)e.hasOwnProperty(t)&&e[t]&&(m[t]=e[t])}var n=[];for(var r in m)m.hasOwnProperty(r)&&n.push([r,m[r]]);var a=n.map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(t,n)||u(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return[r[0],r[1].replace(/%([\w-.]+)%/i,(function(e,t){return m[t]}))]})).reduce((function(e,t){return e[t[0]]=t[1],e}),{});return f.set(p,a),a},w={},x=!1;["RETICULUM_SERVER","THUMBNAIL_SERVER","CORS_PROXY_SERVER","NON_CORS_PROXY_DOMAINS","SENTRY_DSN","GA_TRACKING_ID","SHORTLINK_DOMAIN","BASE_ASSETS_PATH","UPLOADS_HOST"].forEach((function(e){var t=document.querySelector("meta[name='env:".concat(e.toLowerCase(),"']"));w[e]=t?t.getAttribute("content"):{NODE_ENV:"production",SHORTLINK_DOMAIN:"nztv.link",RETICULUM_SERVER:"nztoverse.com",THUMBNAIL_SERVER:"nztoverse-1-nearspark.nztoverse.com",CORS_PROXY_SERVER:"nztoverse-1-cors-proxy.nztoverse.com",NON_CORS_PROXY_DOMAINS:"nztoverse.com,nztoverse.com,nztoverse-1-assets.nztoverse.com,nztoverse-1-076035253031-hubs-worker.com",BUILD_VERSION:"1.0.0.20230327124534",SENTRY_DSN:"",GA_TRACKING_ID:"",POSTGREST_SERVER:"",UPLOADS_HOST:"nztoverse-1-assets.nztoverse.com",BASE_ASSETS_PATH:"https://nztoverse-1-assets.nztoverse.com/hubs/"}[e];"BASE_ASSETS_PATH"===e&&w.BASE_ASSETS_PATH&&(w.BASE_ASSETS_PATH.startsWith("http")||(w.BASE_ASSETS_PATH=new URL(w.BASE_ASSETS_PATH,window.location).toString()),n.p=w.BASE_ASSETS_PATH)}));var L=!!document.querySelector("meta[name='env:thumbnail_server']");if(w.IS_LOCAL_OR_CUSTOM_CLIENT=!L,w.AVAILABLE_INTEGRATIONS=window.AVAILABLE_INTEGRATIONS||{},{NODE_ENV:"production",SHORTLINK_DOMAIN:"nztv.link",RETICULUM_SERVER:"nztoverse.com",THUMBNAIL_SERVER:"nztoverse-1-nearspark.nztoverse.com",CORS_PROXY_SERVER:"nztoverse-1-cors-proxy.nztoverse.com",NON_CORS_PROXY_DOMAINS:"nztoverse.com,nztoverse.com,nztoverse-1-assets.nztoverse.com,nztoverse-1-076035253031-hubs-worker.com",BUILD_VERSION:"1.0.0.20230327124534",SENTRY_DSN:"",GA_TRACKING_ID:"",POSTGREST_SERVER:"",UPLOADS_HOST:"nztoverse-1-assets.nztoverse.com",BASE_ASSETS_PATH:"https://nztoverse-1-assets.nztoverse.com/hubs/"}.APP_CONFIG&&(window.APP_CONFIG={NODE_ENV:"production",SHORTLINK_DOMAIN:"nztv.link",RETICULUM_SERVER:"nztoverse.com",THUMBNAIL_SERVER:"nztoverse-1-nearspark.nztoverse.com",CORS_PROXY_SERVER:"nztoverse-1-cors-proxy.nztoverse.com",NON_CORS_PROXY_DOMAINS:"nztoverse.com,nztoverse.com,nztoverse-1-assets.nztoverse.com,nztoverse-1-076035253031-hubs-worker.com",BUILD_VERSION:"1.0.0.20230327124534",SENTRY_DSN:"",GA_TRACKING_ID:"",POSTGREST_SERVER:"",UPLOADS_HOST:"nztoverse-1-assets.nztoverse.com",BASE_ASSETS_PATH:"https://nztoverse-1-assets.nztoverse.com/hubs/"}.APP_CONFIG),window.APP_CONFIG){w.APP_CONFIG=window.APP_CONFIG;var k=w.APP_CONFIG.theme;if(k){var S=[];for(var A in k)k.hasOwnProperty(A)&&S.push("--".concat(A,": ").concat(k[A],";"));var _=document.createElement("style");_.innerHTML=":root{".concat(S.join("\n"),"}"),document.head.insertBefore(_,document.head.firstChild)}w.APP_CONFIG.features||(w.APP_CONFIG.features={})}else w.APP_CONFIG={features:{}};w.feature=function(e){var t=w.APP_CONFIG&&w.APP_CONFIG.features&&w.APP_CONFIG.features[e];return("boolean"==typeof t||"enable_spoke"===e)&&"enable_spoke"===e&&x||t};var E={};w.image=function(e,t){var n=w.APP_CONFIG&&w.APP_CONFIG.images&&w.APP_CONFIG.images[e]||E[e];return n&&t?"url(".concat(n,")"):n},w.link=function(e,t){return w.APP_CONFIG&&w.APP_CONFIG.links&&w.APP_CONFIG.links[e]||t},w.setIsAdmin=function(e){x=e},w.isAdmin=function(){return x},w.integration=function(e){var t=w.AVAILABLE_INTEGRATIONS;return!t.hasOwnProperty(e)||t[e]},w.translation=function(e){var t=y(),n=w.APP_CONFIG&&w.APP_CONFIG.translations||{};return n[t]&&n[t][e]||n.en&&n.en[e]||function(e){return m[e]}(e)||""};var M,C,T,D,P=w;let O={NODE_ENV:"production",SHORTLINK_DOMAIN:"nztv.link",RETICULUM_SERVER:"nztoverse.com",THUMBNAIL_SERVER:"nztoverse-1-nearspark.nztoverse.com",CORS_PROXY_SERVER:"nztoverse-1-cors-proxy.nztoverse.com",NON_CORS_PROXY_DOMAINS:"nztoverse.com,nztoverse.com,nztoverse-1-assets.nztoverse.com,nztoverse-1-076035253031-hubs-worker.com",BUILD_VERSION:"1.0.0.20230327124534",SENTRY_DSN:"",GA_TRACKING_ID:"",POSTGREST_SERVER:"",UPLOADS_HOST:"nztoverse-1-assets.nztoverse.com",BASE_ASSETS_PATH:"https://nztoverse-1-assets.nztoverse.com/hubs/"}.APP_CONFIG;!O&&{NODE_ENV:"production",SHORTLINK_DOMAIN:"nztv.link",RETICULUM_SERVER:"nztoverse.com",THUMBNAIL_SERVER:"nztoverse-1-nearspark.nztoverse.com",CORS_PROXY_SERVER:"nztoverse-1-cors-proxy.nztoverse.com",NON_CORS_PROXY_DOMAINS:"nztoverse.com,nztoverse.com,nztoverse-1-assets.nztoverse.com,nztoverse-1-076035253031-hubs-worker.com",BUILD_VERSION:"1.0.0.20230327124534",SENTRY_DSN:"",GA_TRACKING_ID:"",POSTGREST_SERVER:"",UPLOADS_HOST:"nztoverse-1-assets.nztoverse.com",BASE_ASSETS_PATH:"https://nztoverse-1-assets.nztoverse.com/hubs/"}.STORYBOOK_APP_CONFIG&&(O=JSON.parse({NODE_ENV:"production",SHORTLINK_DOMAIN:"nztv.link",RETICULUM_SERVER:"nztoverse.com",THUMBNAIL_SERVER:"nztoverse-1-nearspark.nztoverse.com",CORS_PROXY_SERVER:"nztoverse-1-cors-proxy.nztoverse.com",NON_CORS_PROXY_DOMAINS:"nztoverse.com,nztoverse.com,nztoverse-1-assets.nztoverse.com,nztoverse-1-076035253031-hubs-worker.com",BUILD_VERSION:"1.0.0.20230327124534",SENTRY_DSN:"",GA_TRACKING_ID:"",POSTGREST_SERVER:"",UPLOADS_HOST:"nztoverse-1-assets.nztoverse.com",BASE_ASSETS_PATH:"https://nztoverse-1-assets.nztoverse.com/hubs/"}.STORYBOOK_APP_CONFIG)),O||(O=window.APP_CONFIG),null!==(M=O)&&void 0!==M&&null!==(C=M.theme)&&void 0!==C&&C.error&&console.error(`Custom themes failed to load.\n${O.theme.error}\nIf you are an admin, reconfigure your themes in the admin panel.`);const R=(null===(T=O)||void 0===T||null===(D=T.theme)||void 0===D?void 0:D.themes)||[];function Z(){const[e,t]=(0,a.useState)(!1),n=(0,a.useCallback)((e=>{t(e.matches)}),[t]);return(0,a.useEffect)((()=>{const e=window.matchMedia("(prefers-color-scheme: dark)");return t(e.matches),e.addEventListener?e.addEventListener("change",n):e.addListener(n),()=>{e.removeEventListener?e.removeEventListener("change",n):e.removeListener(n)}}),[n]),e}function F(){return function(e){const t=function(){var e,t,n,r;if(!Array.isArray(R))return;const a=null===(e=window.APP)||void 0===e||null===(t=e.store)||void 0===t||null===(n=t.state)||void 0===n||null===(r=n.preferences)||void 0===r?void 0:r.theme;return a?R.find((e=>e.id===a)):window.matchMedia("(prefers-color-scheme: dark)").matches&&R.find((e=>e.darkModeDefault))||R.find((e=>e.default))}();return(t?t.darkModeDefault:e)&&P.image("logo_dark")||P.image("logo")}(Z())}function I(e){let{store:t,children:n}=e;return function(e){var t,n;const[r,i]=(0,a.useState)(null==e||null===(t=e.state)||void 0===t||null===(n=t.preferences)||void 0===n?void 0:n.theme);(0,a.useEffect)((()=>{function t(){var t,n;const a=null===(t=e.state)||void 0===t||null===(n=t.preferences)||void 0===n?void 0:n.theme;r!==a&&i(a)}return e&&e.addEventListener("statechanged",t),()=>{e&&e.removeEventListener("statechanged",t)}})),function(e){const t=Z();(0,a.useEffect)((()=>{if(!Array.isArray(R))return;let n;if(e&&(n=R.find((t=>t.id===e))),!n&&t&&(n=R.find((e=>e.darkModeDefault))),n||(n=R.find((e=>e.default))),!n)return;const r=[];for(const e in n.variables)n.variables.hasOwnProperty(e)&&r.push(`--${e}: ${n.variables[e]};`);const a=document.createElement("style");return a.innerHTML=`:root {\n        ${r.join("\n")}\n      }`,document.head.appendChild(a),()=>{document.head.removeChild(a)}}),[e,t])}(r)}(t),n}I.propTypes={store:o().object,children:o().node};const U=function(e,t){return new Promise((n=>{t.addEventListener(e,n,{once:!0})}))},N=function(){return"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?Promise.resolve(null):U("DOMContentLoaded",window)},j="#FF3464",z="#FF74A4",B={"action-color":j,"action-label-color":j,"action-color-disabled":z,"action-color-highlight":z,"action-text-color":"#FFFFFF","action-subtitle-color":"#F0F0F0","notice-background-color":"#2F80ED","notice-text-color":"#FFFFFF","favorited-color":"#FFC000","nametag-color":"#000000","nametag-volume-color":"#7ED320","nametag-text-color":"#FFFFFF","nametag-border-color":"#7ED320","nametag-border-color-raised-hand":"#FFCD74"};function G(e){var t,n,r,a,i,o,s,l,u,c,d;const h=null===(t=window.APP)||void 0===t||null===(n=t.store)||void 0===n||null===(r=n.state)||void 0===r||null===(a=r.preferences)||void 0===a?void 0:a.theme,f=h&&(null===(i=P.APP_CONFIG)||void 0===i||null===(o=i.theme)||void 0===o||null===(s=o.themes)||void 0===s?void 0:s.find((e=>e.id===h)))||(null===(l=P.APP_CONFIG)||void 0===l||null===(u=l.theme)||void 0===u||null===(c=u.themes)||void 0===c?void 0:c.find((e=>!0===e.default)));return null!=f&&null!==(d=f.variables)&&void 0!==d&&d[e]?f.variables[e]:B[e]}function H(){const e=G("action-color"),t=G("action-color-highlight");document.querySelector("#rounded-text-button")&&(document.querySelector("#rounded-text-button").setAttribute("text-button",`textHoverColor: ${t}; textColor: ${e}; backgroundColor: #fff; backgroundHoverColor: #aaa;`),document.querySelector("#rounded-button").setAttribute("text-button",`textHoverColor: ${t}; textColor: ${e}; backgroundColor: #fff; backgroundHoverColor: #aaa;`),document.querySelector("#rounded-text-action-button").setAttribute("text-button",`textHoverColor: #fff; textColor: #fff; backgroundColor: ${e}; backgroundHoverColor: ${t}`),document.querySelector("#rounded-action-button").setAttribute("text-button",`textHoverColor: #fff; textColor: #fff; backgroundColor: ${e}; backgroundHoverColor: ${t}`)),window.dispatchEvent(new CustomEvent("update_theme"))}const V=function(){let e;return function(){var t,n,r,a;const i=null===(t=window.APP)||void 0===t||null===(n=t.store)||void 0===n||null===(r=n.state)||void 0===r||null===(a=r.preferences)||void 0===a?void 0:a.theme;e!==i&&(e=i,H())}}();N().then((()=>{var e,t;P.APP_CONFIG&&P.APP_CONFIG.theme&&P.APP_CONFIG.theme["dark-theme"]?document.body.classList.add("dark-theme"):document.body.classList.add("light-theme"),H(),null===(e=window.APP)||void 0===e||null===(t=e.store)||void 0===t||t.addEventListener("statechanged",V)})),n(3400);var q=n(11227),W=n.n(q);const $=new URLSearchParams(location.search);function K(e){const t=$.get(e);return""===t||/1|on|true|yes/i.test(t)}function Y(e){return $.get(e)}const X=new URLSearchParams(location.search),Q=K("debug"),J=X.get("log_filter")||Q&&"naf-janus-adapter:*,naf-dialog-adapter:*,mediasoup*";J&&W().enable(J);const ee=AFRAME.THREE;n(24649),n(798);var te=n(99477);const ne=[];class re{tick(e){for(let t=0;t<ne.length;t++){const n=ne[t];n.mixer&&n.mixer.update(e/1e3)}}}function ae(e,t){for(;e&&(!e.components||!e.components[t]);)e=e.parentNode;return e}AFRAME.registerComponent("animation-mixer",{initMixer(e){this.mixer=new te.AnimationMixer(this.el.object3D),this.el.object3D.animations=e,this.animations=e},play(){ne.push(this)},pause(){ne.splice(ne.indexOf(this),1)}}),function(){const e=.3/(2*Math.PI);Math.asin(1)}();const ie=Object.freeze({PERMISSIONS_STATUS_CHANGED:"permissions_status_changed",MIC_SHARE_STARTED:"mic_share_started",MIC_SHARE_ENDED:"mic_share_ended",VIDEO_SHARE_STARTED:"video_share_started",VIDEO_SHARE_ENDED:"video_share_ended",DEVICE_CHANGE:"devicechange"}),oe=(Object.freeze({GRANTED:"granted",DENIED:"denied",PROMPT:"prompt"}),Object.freeze({MICROPHONE:"microphone",SPEAKERS:"speakers",CAMERA:"camera",SCREEN:"screen"}),"none");var se=n(99477);function le(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){le(i,r,a,o,s,"next",e)}function s(e){le(i,r,a,o,s,"throw",e)}o(void 0)}))}}function ce(e){const t=((e,t)=>{e.getByteTimeDomainData(t);let n=0;for(let e=0;e<t.length;e++){const r=(t[e]-128)/128;n+=r*r}return Math.sqrt(n/t.length)})(e.analyser,e.levels),n=Math.log(se.MathUtils.mapLinear(t,0,1,1,Math.E));e.volume=n<.08?0:n;const r=e.volume>e.prevVolume?.35:.3;e.volume=r*e.volume+(1-r)*e.prevVolume,e.prevVolume=e.volume}function de(e){const t=ae(e,"ik-root");if(t&&"avatar-rig"===t.id)return e.sceneEl.systems["local-audio-analyser"];{const t=ae(e,"networked-audio-analyser");return t?t.components["networked-audio-analyser"]:null}}AFRAME.registerComponent("networked-audio-analyser",{init(){var e=this;return ue((function*(){var t,n;e.volume=0,e.prevVolume=0,e.disableUpdates=!0,e.avatarIsTalking=!1,e._updateAnalysis=e._updateAnalysis.bind(e),e._runScheduledWork=e._runScheduledWork.bind(e),e.el.sceneEl.systems["frame-scheduler"].schedule(e._runScheduledWork,"audio-analyser"),e.el.addEventListener("sound-source-set",(t=>{const n=se.AudioContext.getContext();e.analyser=n.createAnalyser(),e.analyser.fftSize=32,e.levels=new Uint8Array(e.analyser.fftSize),t.detail.soundSource.connect(e.analyser)}),{once:!0}),e.playerSessionId=ae(e.el,"player-info").components["player-info"].playerSessionId,t=e,n="networked-audio-analyser",window.APP.componentRegistry=window.APP.componentRegistry||{},window.APP.componentRegistry[n]=window.APP.componentRegistry[n]||[],window.APP.componentRegistry[n].push(t)}))()},remove:function(){var e;e="networked-audio-analyser",window.APP.componentRegistry&&window.APP.componentRegistry[e]&&window.APP.componentRegistry[e].splice(window.APP.componentRegistry[e].indexOf(this),1),this.el.sceneEl.systems["frame-scheduler"].unschedule(this._runScheduledWork,"audio-analyser")},tick:function(e){this.disableUpdates||this._updateAnalysis(e)},_runScheduledWork:function(){this.disableUpdates&&this._updateAnalysis()},_updateAnalysis:function(e){this.analyser&&(ce(this),this.volume<1e-5?(e&&this.lastSeenVolume&&this.lastSeenVolume<e-1e4&&(this.disableUpdates=!0),e&&this.lastSeenVolume&&this.lastSeenVolume<e-1e3&&(this.avatarIsTalking=!1)):(e&&(this.lastSeenVolume=e),this.disableUpdates=!1,this.avatarIsTalking=!0))}}),AFRAME.registerSystem("local-audio-analyser",{init(){this.volume=0,this.prevVolume=0,this.onMicEnabled=this.onMicEnabled.bind(this),this.el.addEventListener(ie.MIC_SHARE_STARTED,this.onMicEnabled)},remove(){this.el.removeEventListener(ie.MIC_SHARE_STARTED,this.onMicEnabled)},onMicEnabled(){const e=this.el.sceneEl.systems["hubs-systems"].audioSystem;this.analyser=e.outboundAnalyser,this.levels=e.analyserLevels},tick:function(){this.analyser&&(APP.dialog.isMicEnabled?ce(this):(this.prevVolume=this.volume,this.volume=0))}}),AFRAME.registerComponent("scale-audio-feedback",{schema:{minScale:{default:1},maxScale:{default:1.5}},init(){var e=this;return ue((function*(){yield N(),e.cameraEl=document.getElementById("viewing-camera")}))()},tick(){var e;this.cameraEl&&(this.analyser||(this.analyser=de(this.el)),this.el.object3D.scale.setScalar(se.MathUtils.mapLinear((null===(e=this.analyser)||void 0===e?void 0:e.volume)||0,0,1,this.data.minScale,this.data.maxScale)),this.el.object3D.matrixNeedsUpdate=!0)}}),AFRAME.registerComponent("morph-audio-feedback",{schema:{name:{default:""},minValue:{default:0},maxValue:{default:2}},init(){const e=[];this.el.object3DMap.skinnedmesh?e.push(this.el.object3DMap.skinnedmesh):this.el.object3DMap.group&&this.el.object3DMap.group.traverse((t=>t.isSkinnedMesh&&e.push(t))),e.length&&(this.morphs=e.map((e=>({mesh:e,morphNumber:e.morphTargetDictionary[this.data.name]}))).filter((e=>void 0!==e.morphNumber)))},tick(){if(!this.morphs||!this.morphs.length)return;this.analyser||(this.analyser=de(this.el));const{minValue:e,maxValue:t}=this.data,n=se.MathUtils.mapLinear((r=this.analyser?this.analyser.volume:0)*(2-r),0,1,e,t);var r;for(let e=0;e<this.morphs.length;e++)this.morphs[e].mesh.morphTargetInfluences[this.morphs[e].morphNumber]=n}});const he={MIC:["mic-0.png","mic-1.png","mic-2.png","mic-3.png","mic-4.png","mic-5.png","mic-6.png","mic-7.png"],MIC_HOVER:["mic-0_hover.png","mic-1_hover.png","mic-2_hover.png","mic-3_hover.png","mic-4_hover.png","mic-5_hover.png","mic-6_hover.png","mic-7_hover.png"],MIC_OFF:["mic-off-0.png","mic-off-1.png","mic-off-2.png","mic-off-3.png","mic-off-4.png","mic-off-5.png","mic-off-6.png","mic-off-7.png"],MIC_OFF_HOVER:["mic-off-0_hover.png","mic-off-1_hover.png","mic-off-2_hover.png","mic-off-3_hover.png","mic-off-4_hover.png","mic-off-5_hover.png","mic-off-6_hover.png","mic-off-7_hover.png"]};AFRAME.registerComponent("mic-button",{schema:{active:{type:"boolean"},tooltip:{type:"selector"},tooltipText:{type:"string"},activeTooltipText:{type:"string"}},init(){this.prevSpriteName="",this.el.object3D.matrixNeedsUpdate=!0,this.hovering=!1,this.onHover=()=>{this.hovering=!0,this.data.tooltip.setAttribute("visible",!0)},this.onHoverOut=()=>{this.hovering=!1,this.data.tooltip.setAttribute("visible",!1)}},play(){this.el.object3D.addEventListener("hovered",this.onHover),this.el.object3D.addEventListener("unhovered",this.onHoverOut)},pause(){this.el.object3D.removeEventListener("hovered",this.onHover),this.el.object3D.removeEventListener("unhovered",this.onHoverOut)},update(){this.data.tooltip&&(this.textEl=this.data.tooltip.querySelector("[text]"))},tick(){const e=this.el.sceneEl.systems["local-audio-analyser"],t=this.data.active,n=this.hovering;var r;const a=he[t?n?"MIC_HOVER":"MIC":n?"MIC_OFF_HOVER":"MIC_OFF"][(r=e.volume,se.MathUtils.clamp(Math.ceil(se.MathUtils.mapLinear(r-.05,0,1,0,7)),0,7))];a!==this.prevSpriteName&&(this.prevSpriteName=a,this.el.setAttribute("sprite","name",a)),this.data.tooltip&&n&&(this.textEl=this.textEl||this.data.tooltip.querySelector("[text]"),this.textEl.setAttribute("text","value",t?this.data.activeTooltipText:this.data.tooltipText))}}),n(31115);function fe(e,t,n,r,a){return 1===e?t:2===e?n:3===e?r:a}const pe={"image/":[0,8,16,24],"model/":[2,10,18,26],"application/x-zip-compressed":[2,10,18,26],"video/":[1,9,17,25],"application/vnd.apple.mpegurl":[1,9,17,25],"application/x-mpegurl":[1,9,17,25],"audio/":[4,12,20,28],"application/pdf":[3,11,19,27]},me={".m3u8":[1,9,17,25]};function ge(e,t,n){for(const n in pe)if(t.toLowerCase().startsWith(n))return fe(e,...pe[n]);if(n)for(const t in me)if(n.toLowerCase().endsWith(t))return fe(e,...me[t]);return 31}var ve=n(73887);const ye=["able","absolute","acceptable","acclaimed","accomplished","accurate","aching","acrobatic","adorable","adventurous","basic","belated","beloved","calm","candid","capital","carefree","caring","cautious","celebrated","charming","daring","darling","dearest","each","eager","early","earnest","easy","easygoing","ecstatic","edible","fabulous","fair","faithful","familiar","famous","fancy","fantastic","far","generous","gentle","genuine","giant","handmade","handsome","handy","happy","icy","ideal","identical","keen","lasting","lavish","magnificent","majestic","mammoth","marvelous","natural","obedient","palatable","parched","passionate","pastel","peaceful","perfect","perfumed","quaint","qualified","radiant","rapid","rare","safe","sandy","satisfied","scaly","scarce","scared","scary","scented","scientific","secret","sentimental","talkative","tangible","tart","tasty","tattered","teeming","ultimate","uncommon","unconscious","understated","warm","active","adept","admirable","admired","adorable","adored","advanced","affectionate","beneficial","best","better","big","cheerful","cheery","chief","chilly","classic","clean","clear","clever","decent","decisive","deep","defiant","definitive","delectable","delicious","elaborate","elastic","elated","elegant","elementary","elliptical","fast","favorable","favorite","fearless","gifted","glamorous","gleaming","glittering","harmonious","imaginative","immense","jealous","kind","leafy","legal","mature","mean","nautical","neat","necessary","needy","oddball","offbeat","periodic","perky","personal","pertinent","petty","quarterly","ready","real","realistic","reasonable","regal","serene","shabby","sharp","shiny","showy","shy","silky","tempting","tense","terrific","testy","thankful","uniform","unique","vast","weary","wee","welcome","agile","alarmed","alert","alive","bleak","blissful","blushing","coarse","colorful","colossal","comfortable","compassionate","complete","delightful","dense","dependable","dependent","descriptive","detailed","determined","devoted","different","eminent","emotional","enchanted","enchanting","energetic","enormous","fine","finished","firm","firsthand","fixed","flashy","flawless","glorious","glossy","golden","good","gorgeous","graceful","healthy","heartfelt","hearty","helpful","impartial","impressive","jolly","jovial","lighthearted","likable","lined","mellow","melodic","memorable","mild","new","opulent","playful","pleasant","pleasing","plump","plush","polished","polite","reliable","relieved","remarkable","remote","respectful","responsible","simple","simplistic","sizzling","sleepy","slight","slim","smart","smooth","snappy","snoopy","thirsty","this","thorough","those","thoughtful","united","vibrant","vicious","wellmade","whimsical","whirlwind","zesty","amazing","ambitious","ample","amused","amusing","ancient","angelic","antique","bold","bossy","both","bouncy","bountiful","complex","conscious","considerate","constant","content","conventional","cooked","cool","cooperative","diligent","dimwitted","direct","discrete","envious","essential","ethical","euphoric","flippant","fluffy","flustered","focused","fond","gracious","grand","grandiose","granular","grateful","grave","great","hidden","high","hilarious","homely","incomparable","incredible","infamous","joyful","lively","loathsome","lonely","long","mindless","miniature","minor","misty","next","nice","nifty","nimble","orderly","organic","ornate","popular","posh","positive","potable","powerful","powerless","precious","present","prestigious","quick","rewarding","rich","right","sociable","soft","solid","some","sophisticated","soulful","sparkling","spectacular","speedy","spicy","spiffy","spirited","spiteful","splendid","spotless","spry","thrifty","tidy","tight","timely","tinted","unruly","untimely","violet","wicked","wide","wild","willing","winding","windy","zigzag","apprehensive","appropriate","artistic","assured","astonishing","bright","brilliant","bronze","coordinated","courageous","courteous","crafty","crazy","creamy","creative","crisp","distant","distinct","downright","evergreen","everlasting","every","evil","excellent","excitable","exemplary","exhausted","forthright","fortunate","fragrant","frank","free","frequent","fresh","friendly","frightened","frigid","gripping","grounded","honest","honorable","honored","hopeful","hospitable","hot","huge","infatuated","infinite","informal","insistent","instructive","juicy","jumbo","knowing","knowledgeable","longterm","loud","lovable","loving","modern","modest","monumental","normal","notable","outgoing","precious","pretty","prickly","primary","pristine","private","prize","productive","profitable","quiet","quintessential","roasted","robust","square","squiggly","stable","staid","starry","steel","stimulating","striking","striped","strong","studious","stunning","tough","trained","treasured","tremendous","triangular","tricky","unused","unusual","upbeat","virtual","witty","wonderful","wooden","worldly","youthful","attached","attentive","attractive","austere","authentic","automatic","aware","awesome","bubbly","bustling","busy","buttery","cuddly","cultured","curly","curvy","cute","cylindrical","downright","dramatic","excited","exciting","exotic","experienced","expert","frosty","fruitful","full","fumbling","funny","fussy","growing","grown","gummy","humble","humongous","hungry","intelligent","interesting","known","kooky","loyal","lucky","luminous","lustrous","luxurious","multicolored","mysterious","noteworthy","numb","nutritious","outstanding","overjoyed","proper","proud","prudent","punctual","puny","pure","puzzled","puzzling","quirky","stupendous","sturdy","stylish","subdued","subtle","sunny","super","superb","supportive","surprised","sweet","swift","sympathetic","trivial","trusting","trustworthy","trusty","truthful","twin","usable","used","useful","utilized","vital","vivid","worried","worthwhile","worthy","writhing","wry","yummy","chocolate","crimson","cyan","fuchsia","gold","honeydew","lime","linen","magenta","olive","peru","salmon","seashell","sienna","snow","thistle","tomato","transparent","turquoise","violet"],be=["space","land","world","universe","plane","room","nation","plaza","gathering","meetup","get together","conclave","party","domain","dominion","realm","square","commons","park","cosmos","sphere","terrain","spot","zone","area","tract","turf","place","territory","volume","camp","picnic","outing","vacation","adventure","exploration","outing","walkabout","safari","venture","roundtable","barbecue","celebration","festivity","gala","shindig","social","convention","assembly","congregation","rendezvous","huddle","meet","soiree"];function we(){const e=e=>{const t=e[Math.floor(Math.random()*e.length)];return t.charAt(0).toUpperCase()+t.slice(1)};return`${e(ye)} ${e(ye)} ${e(be)}`}var xe=n(40660),Le=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===ke}(e)}(e)},ke="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Se(e,t){return!1!==t.clone&&t.isMergeableObject(e)?_e((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function Ae(e,t,n){return e.concat(t).map((function(e){return Se(e,n)}))}function _e(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||Ae,n.isMergeableObject=n.isMergeableObject||Le;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=Se(e[t],n)})),Object.keys(t).forEach((function(a){n.isMergeableObject(t[a])&&e[a]?r[a]=_e(e[a],t[a],n):r[a]=Se(t[a],n)})),r}(e,t,n):Se(t,n)}_e.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return _e(e,n,t)}),{})};var Ee=_e,Me=n(36808),Ce=n.n(Me),Te=n(46489),De=n.n(Te);let Pe=null;const Oe=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,Re=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i;function Ze(){return window.navigator.maxTouchPoints&&window.navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)}function Fe(){return/iPad|iPhone|iPod/.test(window.navigator.platform)||Ze()}function Ie(){return/(OculusBrowser)/i.test(window.navigator.userAgent)||/(Mobile VR)/i.test(window.navigator.userAgent)}var Ue=function(){let e=!1;var t;return t=window.navigator.userAgent||window.navigator.vendor||window.opera,(Oe.test(t)||Re.test(t.substr(0,4)))&&(e=!0),(Fe()||function(e){const t=window.navigator.userAgent;return Ze()||/ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(t)}()||/R7 Build/.test(window.navigator.userAgent))&&(e=!0),null===Pe&&(Pe=/\b(Macintosh|iPad|iPhone)\b/i.test(navigator.userAgent)&&function(){let e=!1;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)e=navigator.msMaxTouchPoints>0;else{const t=window.matchMedia&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{const t=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(t)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(t)}}return e}()),Pe&&(e=!0),Ie()&&(e=!1),function(){return e}}(),Ne=n(27185),je=n.p+"src/assets/models\\DefaultAvatar-c1f54532db88e7e88b3e..glb";function ze(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function Be(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){ze(i,r,a,o,s,"next",e)}function s(e){ze(i,r,a,o,s,"throw",e)}o(void 0)}))}}const Ge=["Baers-Pochard","Baikal-Teal","Barrows-Goldeneye","Blue-Billed","Blue-Duck","Blue-Winged","Brown-Teal","Bufflehead","Canvasback","Cape-Shoveler","Chestnut-Teal","Chiloe-Wigeon","Cinnamon-Teal","Comb-Duck","Common-Eider","Common-Goldeneye","Common-Merganser","Common-Pochard","Common-Scoter","Common-Shelduck","Cotton-Pygmy","Crested-Duck","Crested-Shelduck","Eatons-Pintail","Falcated","Ferruginous","Freckled-Duck","Gadwall","Garganey","Greater-Scaup","Green-Pygmy","Grey-Teal","Hardhead","Harlequin","Hartlaubs","Hooded-Merganser","Kelp-Goose","King-Eider","Lake-Duck","Laysan-Duck","Lesser-Scaup","Long-Tailed","Maccoa-Duck","Mallard","Mandarin","Marbled-Teal","Mellers-Duck","Merganser","Northern-Pintail","Orinoco-Goose","Paradise-Shelduck","Plumed-Whistler","Puna-Teal","Pygmy-Goose","Radjah-Shelduck","Red-Billed","Red-Crested","Red-Shoveler","Ring-Necked","Ringed-Teal","Rosy-Billed","Ruddy-Shelduck","Salvadoris-Teal","Scaly-Sided","Shelduck","Shoveler","Silver-Teal","Smew","Spectacled-Eider","Spot-Billed","Spotted-Whistler","Steamerduck","Stellers-Eider","Sunda-Teal","Surf-Scoter","Tufted-Duck","Velvet-Scoter","Wandering-Whistler","Whistling-duck","White-Backed","White-Cheeked","White-Winged","Wigeon","Wood-Duck","Yellow-Billed"];function He(e){return e[Math.floor(Math.random()*e.length)]}function Ve(){return qe.apply(this,arguments)}function qe(){return(qe=Be((function*(){const e=(yield St("/api/v1/media/search?filter=default&source=avatar_listings")).entries||[];return 0===e.length?new URL(je,location.href).href:He(e.map((e=>e.id)))}))).apply(this,arguments)}var We,$e;function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function Je(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Qe(i,r,a,o,s,"next",e)}function s(e){Qe(i,r,a,o,s,"throw",e)}o(void 0)}))}}const et="___hubs_store",tt=Symbol(),nt="ret-oauth-flow-account-credentials",rt=new xe.Validator,at=function(){const e=["low","medium","high"];if(window.AFRAME&&(AFRAME.utils.device.isMobile()||AFRAME.utils.device.isMobileVR())){const t=Y("default_mobile_material_quality");return t&&-1!==e.indexOf(t)?t:"low"}const t=Y("default_material_quality");return t&&-1!==e.indexOf(t)?t:"high"}(),it=(null===(We=window.AFRAME)||void 0===We?void 0:We.utils.device.isMobileVR())&&navigator.userAgent.match(/Firefox/),ot={id:"/HubsStore",definitions:{profile:{type:"object",additionalProperties:!1,properties:{displayName:{type:"string",pattern:"^[A-Za-z-0-9_~ -]{3,32}$"},avatarId:{type:"string"},personalAvatarId:{type:"string"}}},credentials:{type:"object",additionalProperties:!1,properties:{token:{type:["null","string"]},email:{type:["null","string"]}}},activity:{type:"object",additionalProperties:!1,properties:{hasFoundFreeze:{type:"boolean"},hasChangedName:{type:"boolean"},hasAcceptedProfile:{type:"boolean"},lastEnteredAt:{type:"string"},hasPinned:{type:"boolean"},hasRotated:{type:"boolean"},hasRecentered:{type:"boolean"},hasScaled:{type:"boolean"},hasHoveredInWorldHud:{type:"boolean"},hasOpenedShare:{type:"boolean"},entryCount:{type:"number"}}},settings:{type:"object",additionalProperties:!1,properties:{lastUsedMicDeviceId:{type:"string"},micMuted:{type:"bool"}}},preferences:{type:"object",additionalProperties:!1,properties:{shouldPromptForRefresh:{type:"bool",default:!1},preferredMic:{type:"string",default:oe},preferredSpeakers:{type:"string",default:oe},preferredCamera:{type:"string",default:oe},muteMicOnEntry:{type:"bool",default:!1},disableLeftRightPanning:{type:"bool",default:!1},audioNormalization:{type:"bool",default:0},invertTouchscreenCameraMove:{type:"bool",default:!0},enableOnScreenJoystickLeft:{type:"bool",default:Ue()},enableOnScreenJoystickRight:{type:"bool",default:Ue()},enableGyro:{type:"bool",default:!0},animateWaypointTransitions:{type:"bool",default:!0},showFPSCounter:{type:"bool",default:!1},allowMultipleHubsInstances:{type:"bool",default:!1},disableIdleDetection:{type:"bool",default:!1},fastRoomSwitching:{type:"bool",default:!1},lazyLoadSceneMedia:{type:"bool",default:!1},preferMobileObjectInfoPanel:{type:"bool",default:!1},maxResolutionWidth:{type:"number",default:void 0},maxResolutionHeight:{type:"number",default:void 0},globalVoiceVolume:{type:"number",default:100},globalMediaVolume:{type:"number",default:100},globalSFXVolume:{type:"number",default:100},snapRotationDegrees:{type:"number",default:45},materialQualitySetting:{type:"string",default:at},enableDynamicShadows:{type:"bool",default:!1},disableSoundEffects:{type:"bool",default:!1},disableMovement:{type:"bool",default:!1},disableBackwardsMovement:{type:"bool",default:!1},disableStrafing:{type:"bool",default:!1},disableTeleporter:{type:"bool",default:!1},disableAutoPixelRatio:{type:"bool",default:!1},movementSpeedModifier:{type:"number",default:1},disableEchoCancellation:{type:"bool",default:it},disableNoiseSuppression:{type:"bool",default:it},disableAutoGainControl:{type:"bool",default:it},locale:{type:"string",default:"browser"},showRtcDebugPanel:{type:"bool",default:!1},showAudioDebugPanel:{type:"bool",default:!1},enableAudioClipping:{type:"bool",default:!1},audioClippingThreshold:{type:"number",default:.015},audioPanningQuality:{type:"string",default:/Android/.test(window.navigator.userAgent)&&!Ie()?"Low":"High"},theme:{type:"string",default:null===($e=R.find((e=>e.default))||R[0])||void 0===$e?void 0:$e.name},cursorSize:{type:"number",default:1},nametagVisibility:{type:"string",default:"showAll"},nametagVisibilityDistance:{type:"number",default:5},avatarVoiceLevels:{type:"object"}}},confirmedDiscordRooms:{type:"array",items:{type:"string"}},confirmedBroadcastedRooms:{type:"array",items:{type:"string"}},uploadPromotionTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{fileId:{type:"string"},promotionToken:{type:"string"}}}},creatorAssignmentTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{hubId:{type:"string"},creatorAssignmentToken:{type:"string"}}}},embedTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{hubId:{type:"string"},embedToken:{type:"string"}}}},onLoadActions:{type:"array",items:{type:"object",additionalProperties:!1,properties:{action:{type:"string"},args:{type:"object"}}}}},type:"object",properties:{profile:{$ref:"#/definitions/profile"},credentials:{$ref:"#/definitions/credentials"},activity:{$ref:"#/definitions/activity"},settings:{$ref:"#/definitions/settings"},preferences:{$ref:"#/definitions/preferences"},confirmedDiscordRooms:{$ref:"#/definitions/confirmedDiscordRooms"},confirmedBroadcastedRooms:{$ref:"#/definitions/confirmedBroadcastedRooms"},uploadPromotionTokens:{$ref:"#/definitions/uploadPromotionTokens"},creatorAssignmentTokens:{$ref:"#/definitions/creatorAssignmentTokens"},embedTokens:{$ref:"#/definitions/embedTokens"},onLoadActions:{$ref:"#/definitions/onLoadActions"}},additionalProperties:!1};class st extends Ne.EventTarget{constructor(){var e;super(),e=this,this._signOutOnExpiredAuthToken=()=>{this.state.credentials.token&&1e3*De()(this.state.credentials.token).exp<=Date.now()&&this.update({credentials:{token:null,email:null}})},this.initProfile=Je((function*(){e._shouldResetAvatarOnInit?yield e.resetToRandomDefaultAvatar():e.update({profile:Ye({avatarId:yield Ve()},e.state.profile||{})}),e.state.activity.hasChangedName||e.update({profile:{displayName:`${He(Ge)}-${Math.floor(1e4+1e4*Math.random())}`}})})),this.resetToRandomDefaultAvatar=Je((function*(){e.update({profile:Ye(Ye({},e.state.profile||{}),{},{avatarId:yield Ve()})})})),this._preferences={},null===localStorage.getItem(et)&&localStorage.setItem(et,JSON.stringify({})),window.addEventListener("storage",(e=>{e.key===et&&(delete this[tt],this.dispatchEvent(new CustomEvent("statechanged")))})),this.update({activity:{},settings:{},credentials:{},profile:{},confirmedDiscordRooms:[],confirmedBroadcastedRooms:[],uploadPromotionTokens:[],creatorAssignmentTokens:[],embedTokens:[],onLoadActions:[],preferences:{}}),this._shouldResetAvatarOnInit=!1;const t=Ce().getJSON(nt);t&&(this.update({credentials:t}),this._shouldResetAvatarOnInit=!0,Ce().remove(nt)),this._signOutOnExpiredAuthToken();const n=(()=>{let e;return()=>{const t=this.state.preferences.theme;(e||t)&&e!==t&&this.dispatchEvent(new CustomEvent("themechanged",{detail:{current:t,previous:e}})),e=t}})();this.addEventListener("statechanged",n)}get state(){if(!this.hasOwnProperty(tt)){const e=this[tt]=JSON.parse(localStorage.getItem(et));e.preferences||(e.preferences={}),this._preferences=Ye({},e.preferences);for(const[t,n]of Object.entries(ot.definitions.preferences.properties))n.hasOwnProperty("default")&&(e.preferences.hasOwnProperty(t)?e.preferences[t]===n.default&&delete this._preferences[t]:e.preferences[t]=n.default)}return this[tt]}get credentialsAccountId(){return this.state.credentials.token?De()(this.state.credentials.token).sub:null}resetConfirmedBroadcastedRooms(){this.clearStoredArray("confirmedBroadcastedRooms")}resetTipActivityFlags(){this.update({activity:{hasRotated:!1,hasPinned:!1,hasRecentered:!1,hasScaled:!1,entryCount:0}})}bumpEntryCount(){const e=this.state.activity.entryCount||0;this.update({activity:{entryCount:e+1}})}enqueueOnLoadAction(e,t){this.update({onLoadActions:[{action:e,args:t}]})}executeOnLoadActions(e){for(let t=0;t<this.state.onLoadActions.length;t++){const{action:n,args:r}=this.state.onLoadActions[t];"emit_scene_event"===n&&e.emit(r.event,r.detail)}this.clearOnLoadActions()}clearOnLoadActions(){this.clearStoredArray("onLoadActions")}clearStoredArray(e){const t={};t[e]=[],this.update(t,{arrayMerge:(e,t)=>t})}update(e,t){const n=Ee(Ye(Ye({},this.state),{},{preferences:this._preferences}),e,t),{valid:r,errors:a}=rt.validate(n,ot);if(r||a.forEach((e=>{console.error(`Removing invalid preference from store: ${e.message}`),delete e.instance[e.argument]})),e.preferences){for(const[e,t]of Object.entries(n.preferences)){var i;null!==(i=ot.definitions.preferences.properties[e])&&void 0!==i&&i.hasOwnProperty("default")&&t===ot.definitions.preferences.properties[e].default&&delete n.preferences[e]}this._preferences=n.preferences}return localStorage.setItem(et,JSON.stringify(n)),delete this[tt],void 0!==e.profile&&this.dispatchEvent(new CustomEvent("profilechanged")),this.dispatchEvent(new CustomEvent("statechanged")),n}get schema(){return ot}}function lt(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function ut(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){lt(i,r,a,o,s,"next",e)}function s(e){lt(i,r,a,o,s,"throw",e)}o(void 0)}))}}function ct(){return!!P.RETICULUM_SERVER}function dt(){return ct()&&document.location.host!==P.RETICULUM_SERVER}const ht=document.createElement("a");let ft,pt=null,mt=!1;function gt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return n||ct()?`https://${n||P.RETICULUM_SERVER}${r?`:${r}`:""}${e}`:t?(ht.href=e,ht.href):e}function vt(){return yt.apply(this,arguments)}function yt(){return yt=ut((function*(){pt||(!mt&&document.querySelector("meta[name='ret:version']")?pt={version:document.querySelector("meta[name='ret:version']").getAttribute("value"),pool:document.querySelector("meta[name='ret:pool']").getAttribute("value"),phx_host:document.querySelector("meta[name='ret:phx_host']").getAttribute("value")}:yield fetch(gt("/api/v1/meta")).then(function(){var e=ut((function*(e){pt=yield e.json()}));return function(t){return e.apply(this,arguments)}}()));const e=new URLSearchParams(location.search).get("phx_host");return e&&(pt.phx_host=e),pt})),yt.apply(this,arguments)}function bt(){return wt.apply(this,arguments)}function wt(){return wt=ut((function*(){const e=new URLSearchParams(location.search);let t=e.get("phx_host");const n=yield vt();t=t||P.RETICULUM_SOCKET_SERVER||n.phx_host;const r=e.get("phx_port")||(ct()?new URL(`${document.location.protocol}//${P.RETICULUM_SERVER}`).port:"443");ft={host:t,port:r}})),wt.apply(this,arguments)}function xt(){return Lt.apply(this,arguments)}function Lt(){return(Lt=ut((function*(){mt=!0,pt=null}))).apply(this,arguments)}function kt(){return kt=ut((function*(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ve.sk;const r=new URLSearchParams(location.search),a=function(){var e=ut((function*(){yield bt();const{host:e,port:t}=ft;return`${r.get("phx_protocol")||P.RETICULUM_SOCKET_PROTOCOL||("https:"===document.location.protocol?"wss:":"ws:")}//${e}${t?`:${t}`:""}`}));return function(){return e.apply(this,arguments)}}(),i=yield a();console.log(`Phoenix Socket URL: ${i}`);const o={};e&&(o.logger=(e,t,n)=>{console.log(`${e}: ${t}`,n)}),t&&(o.params=t);const s=new n(`${i}/socket`,o);return s.connect(),s.onError(ut((function*(){xt();const e=new URL(s.endPoint).pathname,t=`${yield a()}${e}`;console.log(`Socket error, changed endpoint to ${t}`),s.endPoint=t}))),s})),kt.apply(this,arguments)}function St(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0;const{token:r}=window.APP.store.state.credentials,a=gt(e),i={headers:{"content-type":"application/json"},method:t};return r&&(i.headers.authorization=`bearer ${r}`),n&&(i.body=JSON.stringify(n)),fetch(a,i).then(function(){var e=ut((function*(e){const t=yield e.text();try{return JSON.parse(t)}catch(e){return t}}));return function(t){return e.apply(this,arguments)}}())}function At(){return(At=ut((function*(e,t,n){const r=gt("/api/v1/hubs"),a={hub:{name:e||we()}};t&&(a.hub.scene_id=t);const i={"content-type":"application/json"},o=new st;o.state&&o.state.credentials.token&&(i.authorization=`bearer ${o.state.credentials.token}`);let s=yield fetch(r,{body:JSON.stringify(a),headers:i,method:"POST"}).then((e=>e.json()));"invalid_token"===s.error&&(o.update({credentials:{token:null,email:null}}),delete i.authorization,s=yield fetch(r,{body:JSON.stringify(a),headers:i,method:"POST"}).then((e=>e.json())));const l=s;let u=l.url;const c=l.creator_assignment_token;if(c){o.update({creatorAssignmentTokens:[{hubId:l.hub_id,creatorAssignmentToken:c}]});const e=l.embed_token;e&&o.update({embedTokens:[{hubId:l.hub_id,embedToken:e}]})}dt()&&(u=`/hub.html?hub_id=${l.hub_id}`),n?document.location.replace(u):document.location=u}))).apply(this,arguments)}var _t=n(99477);const Et=["emissive","emissiveMap","emissiveIntensity"];function Mt(e,t){e.material&&(Array.isArray(e.material)?e.material=e.material.map(t):e.material=t(e.material))}class Ct extends _t.MeshBasicMaterial{static fromMeshStandardMaterial(e){const t=new Ct;return _t.Material.prototype.copy.call(t,e),t.color.copy(e.color),t.emissive.copy(e.emissive),t.emissiveIntensity=e.emissiveIntensity,t.emissiveMap=e.emissiveMap,t.map=e.map,t.lightMap=e.lightMap,t.lightMapIntensity=e.lightMapIntensity*Math.PI,t.aoMap=e.aoMap,t.aoMapIntensity=e.aoMapIntensity,t.alphaMap=e.alphaMap,t.wireframe=e.wireframe,t.wireframeLinewidth=e.wireframeLinewidth,t.wireframeLinecap=e.wireframeLinecap,t.wireframeLinejoin=e.wireframeLinejoin,t}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{emissive:t,emissiveMap:n,emissiveIntensity:r}=e;super(function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,Et)),this.onBeforeCompile=e=>{e.uniforms.emissive=this._emissive,e.uniforms.emissiveIntensity=this._emissiveIntensity,e.uniforms.emissiveMap=this._emissiveMap,e.fragmentShader=e.fragmentShader.replace("#include <lightmap_pars_fragment>","#include <lightmap_pars_fragment>\n      uniform vec3 emissive;\n      uniform sampler2D emissiveMap;\n      "),e.fragmentShader=e.fragmentShader.replace("#include <envmap_fragment>","#include <envmap_fragment>\n\n      vec3 totalEmissiveRadiance = emissive;\n      #include <emissivemap_fragment>\n      outgoingLight += totalEmissiveRadiance;\n\n      ")},this._emissive={value:t||new _t.Color},this._emissiveIntensity={value:void 0===r?1:r},this._emissiveMap={value:n}}get emissive(){return this._emissive.value}set emissive(e){this._emissive.value=e}get emissiveIntensity(){return this._emissiveIntensity.value}set emissiveIntensity(e){this._emissiveIntensity.value=e}get emissiveMap(){return this._emissiveMap.value}set emissiveMap(e){this._emissiveMap.value=e}copy(e){return super.copy(e),this.emissive.copy(e.emissive),this.emissiveIntensity=e.emissiveIntensity,this.emissiveMap=e.emissiveMap,this}}class Tt extends _t.MeshPhongMaterial{constructor(){super(...arguments),this.onBeforeCompile=e=>{e.vertexShader=e.vertexShader.replace("varying vec3 vNormal;","varying vec3 vNormal;\n      #ifdef USE_TANGENT\n        varying vec3 vTangent;\n        varying vec3 vBitangent;\n      #endif\n      "),e.vertexShader=e.vertexShader.replace("vNormal = normalize( transformedNormal );","vNormal = normalize( transformedNormal );\n      \n        #ifdef USE_TANGENT\n      \n          vTangent = normalize( transformedTangent );\n          vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n      \n        #endif\n      "),e.fragmentShader=e.fragmentShader.replace("#include <lights_phong_pars_fragment>","#include <lights_phong_pars_fragment>\n      #ifndef FLAT_SHADED\n\n        #ifdef USE_TANGENT\n          varying vec3 vTangent;\n          varying vec3 vBitangent;\n        #endif\n\n      #endif\n      ")}}static fromMeshStandardMaterial(e){const t=new Tt;return _t.Material.prototype.copy.call(t,e),t.color.copy(e.color),t.map=e.map,t.lightMap=e.lightMap,t.lightMapIntensity=e.lightMapIntensity,t.aoMap=e.aoMap,t.aoMapIntensity=e.aoMapIntensity,t.emissive.copy(e.emissive),t.emissiveMap=e.emissiveMap,t.emissiveIntensity=e.emissiveIntensity,t.normalMapType=e.normalMapType,t.normalMap=e.normalMap,t.normalScale.copy(e.normalScale),t.bumpMap=e.bumpMap,t.bumpScale=e.bumpScale,t.displacementMap=e.displacementMap,t.displacementScale=e.displacementScale,t.displacementBias=e.displacementBias,t.alphaMap=e.alphaMap,t.reflectivity=.5,t.refractionRatio=e.refractionRatio,t.wireframe=e.wireframe,t.wireframeLinewidth=e.wireframeLinewidth,t.wireframeLinecap=e.wireframeLinecap,t.wireframeLinejoin=e.wireframeLinejoin,t}}var Dt=n(99477);function Pt(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}const Ot=Fe(),Rt=void 0!==window.createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)&&!Ot;class Zt extends Dt.TextureLoader{constructor(e){super(e)}load(e,t,n,r){const a=e=>{!function(e){if(!Ot||"low"!==window.APP.store.state.preferences.materialQualitySetting)return e;const t=e.image;if(!t||void 0===t.width||void 0===t.height)return e;if(t.width<=2048&&t.height<=2048)return e;const n=Math.min(2048/t.width,2048/t.height),r=Math.round(t.width*n),a=Math.round(t.height*n),i=document.createElement("canvas");i.width=r,i.height=a,i.getContext("2d").drawImage(t,0,0,r,a),e.image=i,void 0!==t.close&&t.close(),e.format=Dt.RGBAFormat,e.type=Dt.UnsignedByteType}(e),t&&t(e)},i=Rt?this._loadImageBitmapTexture(e,a,n,r):super.load(e,a,n,r);return i.onUpdate=function(){i.image.close&&i.image.close(),i.image=null},i}loadAsync(e,t){var n,r=this;return(n=function*(){return new Promise(((n,a)=>{r.load(e,n,t,a)}))},function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(e){Pt(i,r,a,o,s,"next",e)}function s(e){Pt(i,r,a,o,s,"throw",e)}o(void 0)}))})()}_loadImageBitmapTexture(e,t,n,r){const a=new Dt.Texture,i=new Dt.ImageBitmapLoader(this.manager);return i.setCrossOrigin(this.crossOrigin),i.setPath(this.path),i.load(e,(n=>{a.image=n,a.needsUpdate=!0,Dt.Cache.remove(this.manager.resolveURL(e)),void 0!==t&&t(a)}),n,r),a.flipY=!1,a}}var Ft=n(24251);(0,Ft.setDefaultSize)(1e4),(0,Ft.setRemovedRecycleThreshold)(.2);const It=Symbol("isStringType"),Ut=(0,Ft.defineComponent)({id:Ft.Types.ui32,creator:Ft.Types.ui32,owner:Ft.Types.ui32,lastOwnerTime:Ft.Types.ui32});Ut.id[It]=!0,Ut.creator[It]=!0,Ut.owner[It]=!0;const Nt=(0,Ft.defineComponent)(),jt=(0,Ft.defineComponent)({capturedNid:Ft.Types.ui32,scale:[Ft.Types.f32,3]});jt.capturedNid[It]=!0;const zt=(0,Ft.defineComponent)({capturedNid:Ft.Types.ui32,scale:[Ft.Types.f32,3],mediaType:Ft.Types.ui8,bounds:[Ft.Types.f32,3],preview:Ft.Types.eid,previewingNid:Ft.Types.eid}),Bt=(0,Ft.defineComponent)(),Gt=(0,Ft.defineComponent)({insets:[Ft.Types.ui32,4],size:[Ft.Types.f32,2]}),Ht=(0,Ft.defineComponent)({position:[Ft.Types.f32,3],rotation:[Ft.Types.f32,4],scale:[Ft.Types.f32,3]}),Vt=(0,Ft.defineComponent)(),qt=(0,Ft.defineComponent)(),Wt=(0,Ft.defineComponent)(),$t=(0,Ft.defineComponent)(),Kt=(0,Ft.defineComponent)(),Yt=(0,Ft.defineComponent)(),Xt=(0,Ft.defineComponent)(),Qt=(0,Ft.defineComponent)(),Jt=((0,Ft.defineComponent)(),(0,Ft.defineComponent)()),en=(0,Ft.defineComponent)(),tn=(0,Ft.defineComponent)(),nn=(0,Ft.defineComponent)(),rn=((0,Ft.defineComponent)(),(0,Ft.defineComponent)(),(0,Ft.defineComponent)(),(0,Ft.defineComponent)(),(0,Ft.defineComponent)(),(0,Ft.defineComponent)(),(0,Ft.defineComponent)()),an=(0,Ft.defineComponent)(),on=(0,Ft.defineComponent)(),sn=(0,Ft.defineComponent)(),ln=(0,Ft.defineComponent)(),un=(0,Ft.defineComponent)(),cn=(0,Ft.defineComponent)(),dn=(0,Ft.defineComponent)({type:Ft.Types.ui8}),hn=(0,Ft.defineComponent)({labelRef:Ft.Types.eid}),fn=(0,Ft.defineComponent)(),pn=(0,Ft.defineComponent)(),mn=(0,Ft.defineComponent)(),gn=(0,Ft.defineComponent)(),vn=(0,Ft.defineComponent)(),yn=(0,Ft.defineComponent)(),bn=(0,Ft.defineComponent)(),wn=(0,Ft.defineComponent)(),xn=(0,Ft.defineComponent)({bodyId:Ft.Types.ui16,collisionGroup:Ft.Types.ui32,collisionMask:Ft.Types.ui32,flags:Ft.Types.ui8,gravity:Ft.Types.f32}),Ln=(0,Ft.defineComponent)({bodyId:Ft.Types.ui16,shapeId:Ft.Types.ui16,halfExtents:[Ft.Types.f32,3]}),kn=((0,Ft.defineComponent)(),(0,Ft.defineComponent)(),(0,Ft.defineComponent)()),Sn=(0,Ft.defineComponent)(),An=(0,Ft.defineComponent)({flags:Ft.Types.ui8,releaseGravity:Ft.Types.f32}),_n=(0,Ft.defineComponent)(),En=(0,Ft.defineComponent)({snapTime:Ft.Types.f32,state:Ft.Types.ui8,captureDurIdx:Ft.Types.ui8,trackTarget:Ft.Types.eid,snapMenuRef:Ft.Types.eid,button_next:Ft.Types.eid,button_prev:Ft.Types.eid,snapRef:Ft.Types.eid,cancelRef:Ft.Types.eid,recVideoRef:Ft.Types.eid,screenRef:Ft.Types.eid,selfieScreenRef:Ft.Types.eid,cameraRef:Ft.Types.eid,countdownLblRef:Ft.Types.eid,captureDurLblRef:Ft.Types.eid,sndToggleRef:Ft.Types.eid});(0,Ft.defineComponent)();const Mn=[],Cn=[],Tn=["MeshStandardMaterial","MeshBasicMaterial","MeshPhongMaterial"];AFRAME.registerComponent("hoverable-visuals",{schema:{enableSweepingEffect:{type:"boolean",default:!0}},init(){this.uniforms=null,this.geometryRadius=0,this.sweepParams=[0,0]},remove(){this.uniforms=null,this.boundingBox=null;const e=AFRAME.utils.device.isMobile(),t=AFRAME.utils.device.isMobileVR();this.isTouchscreen=e&&!t},tick(e){if(!this.uniforms||!this.uniforms.length)return;const t=this.el.sceneEl.is("frozen"),n=function(e){const t=e.sceneEl.is("frozen"),n=e.components.pinnable&&e.components.pinnable.data.pinned,r=!!e.components["super-spawner"],a=r&&"#interactable-emoji"===e.components["super-spawner"].data.template,i=(e.components.emoji||a?window.APP.hubChannel.can("spawn_emoji"):window.APP.hubChannel.can("spawn_and_move_media"))&&(!n||window.APP.hubChannel.can("pin_objects"));return(r||!n||t)&&i}(this.el),r=this.el.sceneEl.systems["hubs-systems"].cursorTogglingSystem;let a,i;const o=this.el.sceneEl.systems.interaction;if(o.ready){if(o.state.leftHand.hovered!==this.el||o.state.leftHand.held||(a=o.options.leftHand.entity.object3D),o.state.leftRemote.hovered!==this.el||o.state.leftRemote.held||r.leftToggledOff||(a=o.options.leftRemote.entity.object3D),o.state.rightRemote.hovered!==this.el||o.state.rightRemote.held||r.rightToggledOff||(i=o.options.rightRemote.entity.object3D),o.state.rightHand.hovered!==this.el||o.state.rightHand.held||(i=o.options.rightHand.entity.object3D),a&&a.matrixWorld.toArray(Mn),i&&i.matrixWorld.toArray(Cn),a||i||t){const e=this.el.object3D.matrixWorld.elements[13],t=this.el.object3D.matrixWorld.elements[4],n=this.el.object3D.matrixWorld.elements[5],r=this.el.object3D.matrixWorld.elements[6],a=Math.sqrt(t*t+n*n+r*r)*this.geometryRadius;this.sweepParams[0]=e-a,this.sweepParams[1]=e+a}for(let r=0,o=this.uniforms.length;r<o;r++){const o=this.uniforms[r];o.hubs_EnableSweepingEffect.value=this.data.enableSweepingEffect&&n,o.hubs_IsFrozen.value=t,o.hubs_SweepParams.value=this.sweepParams,o.hubs_HighlightInteractorOne.value=!!a&&n&&!this.isTouchscreen,o.hubs_InteractorOnePos.value[0]=Mn[12],o.hubs_InteractorOnePos.value[1]=Mn[13],o.hubs_InteractorOnePos.value[2]=Mn[14],o.hubs_HighlightInteractorTwo.value=!!i&&n&&!this.isTouchscreen,o.hubs_InteractorTwoPos.value[0]=Cn[12],o.hubs_InteractorTwoPos.value[1]=Cn[13],o.hubs_InteractorTwoPos.value[2]=Cn[14],(a||i||t)&&(o.hubs_Time.value=e)}}}});var Dn=n(39367),Pn=n(74937),On=n(34275),Rn=n(41157);function Zn(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function Fn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Zn(i,r,a,o,s,"next",e)}function s(e){Zn(i,r,a,o,s,"throw",e)}o(void 0)}))}}const In=(P.NON_CORS_PROXY_DOMAINS||"").split(",");P.CORS_PROXY_SERVER&&In.push(P.CORS_PROXY_SERVER.split(":")[0]),In.push(document.location.hostname);const Un={gltf:"model/gltf",glb:"model/gltf-binary",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",pdf:"application/pdf",mp4:"video/mp4",mp3:"audio/mpeg",basis:"image/basis",ktx2:"image/ktx2",m3u8:"application/vnd.apple.mpegurl",mpd:"application/dash+xml"},Nn=e=>In.find((t=>e.endsWith(t))),jn=e=>{if(!e.startsWith("http:")&&!e.startsWith("https:"))return e;try{const t=new URL(e);if(Nn(t.hostname))return e}catch(e){}return`https://${P.CORS_PROXY_SERVER}/${e}`},zn=e=>t=>{if("basis_transcoder.js"===t)return Dn.Z;if("basis_transcoder.wasm"===t)return On.Z;if("draco_wasm_wrapper.js"===t)return Pn.Z;if("draco_decoder.wasm"===t)return Rn.Z;if("string"!=typeof t||""===t)return"";if(/^(https?:)?\/\//i.test(t))return jn(t);if(/^data:.*,.*$/i.test(t))return t;if(/^blob:.*$/i.test(t))return t;if(P.CORS_PROXY_SERVER){const n=`https://${P.CORS_PROXY_SERVER}/`;if(e.startsWith(n)){const r=decodeURIComponent(e.substring(n.length)).split("/"),a=new URL(t).pathname;return n+(r.slice(0,r.length-1).join("/")+"/")+a}}return t},Bn=/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/,Gn=e=>{if(!e)return;if(e.startsWith("hubs://")&&e.endsWith("/video"))return"video/vnd.hubs-webrtc";if(e.startsWith("data:")){const t=Bn.exec(e);t.length>0&&t[1]}const t=new URL(e,window.location).pathname.split(".").pop();return Un[t]},Hn=new Map;function Vn(e){return qn.apply(this,arguments)}function qn(){return qn=Fn((function*(e){if(!e)return!1;e.startsWith("http")||(e="https://"+e);const{origin:t}=new URL(e);if(Hn.has(t))return Hn.get(t);let n;try{n=(yield fetch(jn(t),{method:"HEAD"})).headers.has("hub-name")}catch(e){n=!1}return Hn.set(t,n),n})),qn.apply(this,arguments)}const Wn=/https?:\/\/[^/]+\/scenes\/[a-zA-Z0-9]{7}(?:\/|$)/,$n=/https?:\/\/[^/]+\/avatars\/(?<id>[a-zA-Z0-9]{7})(?:\/|$)/,Kn=/(https?:\/\/)?[^/]+\/(?<id>[a-zA-Z0-9]{7})(?:\/|$)/,Yn=function(){var e=Fn((function*(e){return(yield Vn(e))&&new URL(e).origin===document.location.origin}));return function(t){return e.apply(this,arguments)}}(),Xn=function(){var e=Fn((function*(e){return(yield Vn(e))&&Wn.test(e)}));return function(t){return e.apply(this,arguments)}}(),Qn=function(){var e=Fn((function*(e){return(yield Xn(e))&&(yield Yn(e))}));return function(t){return e.apply(this,arguments)}}(),Jn=function(){var e=Fn((function*(e){return(yield Vn(e))&&$n.test(e)}));return function(t){return e.apply(this,arguments)}}(),er=function(){var e=Fn((function*(e){return(yield Jn(e))&&(yield Yn(e))}));return function(t){return e.apply(this,arguments)}}(),tr=function(){var e=Fn((function*(e){var t;return(yield Vn(e))&&!(yield Jn(e))&&!(yield Xn(e))&&(null===(t=e.match(Kn))||void 0===t?void 0:t.groups.id)}));return function(t){return e.apply(this,arguments)}}();var nr=n(68337),rr=n.n(nr),ar=JSON.parse('["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","etisalat","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kids","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","lancia","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lk","llc","llp","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","music","mutual","mv","mw","mx","my","mz","na","nab","nagoya","name","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","vermgensberater","vermgensberatung","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]'),ir=n(76030),or=n(99477);function sr(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function lr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){sr(i,r,a,o,s,"next",e)}function s(e){sr(i,r,a,o,s,"throw",e)}o(void 0)}))}}const ur={MODEL:1,IMAGE:2,VIDEO:4,PDF:8};ur.ALL=ur.MODEL|ur.IMAGE|ur.VIDEO|ur.PDF,ur.ALL_2D=ur.IMAGE|ur.VIDEO|ur.PDF;const cr=rr()();cr.tlds(ar);const dr=gt("/api/v1/media"),hr=AFRAME.utils.device.isMobile(),fr=AFRAME.utils.device.isMobile(),pr=new Map,mr=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=hr||fr;return e?t?"low_360":"high_360":t?"low":"high"},gr=function(){var e=lr((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;const a=`${e}_${n}`;if(!r&&pr.has(a))return pr.get(a);const i=fetch(dr,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({media:{url:e,quality:t||mr()},version:n})}).then(function(){var t=lr((function*(t){if(!t.ok){const n=`Error resolving url "${e}":`;try{const e=yield t.text();throw new Error(n+" "+e)}catch(e){throw new Error(n+" "+t.statusText)}}return t.json()}));return function(e){return t.apply(this,arguments)}}());return pr.set(a,i),i}));return function(t){return e.apply(this,arguments)}}(),vr=(e,t)=>{const n=new FormData;return n.append("media",e),n.append("promotion_mode","with_token"),t&&n.append("desired_content_type",t),fetch(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!ft)return console.warn("Cannot call getDirectReticulumFetchUrl before connectToReticulum. Returning non-direct url."),gt(e,t);const{host:n,port:r}=ft;return gt(e,t,n,r)}("/api/v1/media"),{method:"POST",body:n}).then((e=>e.json()))};function yr(e,t){const n=new FileReader;n.onload=function(e){const n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return t(-2);const r=n.byteLength;let a=2;for(;a<r;){if(n.getUint16(a+2,!1)<=8)return t(-1);const e=n.getUint16(a,!1);if(a+=2,65505==e){if(1165519206!=n.getUint32(a+=2,!1))return t(-1);const e=18761==n.getUint16(a+=6,!1);a+=n.getUint32(a+4,e);const r=n.getUint16(a,e);a+=2;for(let i=0;i<r;i++)if(274==n.getUint16(a+12*i,e))return t(n.getUint16(a+12*i+8,e))}else{if(65280!=(65280&e))break;a+=n.getUint16(a,!1)}}return t(-1)},n.readAsArrayBuffer(e)}function br(e){const t=document.querySelectorAll("[media-loader]");let n=1;for(const r of t){const t=r.components["media-loader"];t.data&&t.data.src===e&&(n=Math.max(n,t.data.version))}return n}function wr(e){return cr.test(e)?e.indexOf("://")>=0?e:`https://${e}`:e}new or.Vector3;const xr=(new Zt).setCrossOrigin("anonymous");Fe();var Lr=n.p+"src/assets/hud\\action_button.9-f0aef3dace9ffbe1320d..png",kr=n.p+"src/assets/hud\\button.9-fb5457e28aa46b0b041d..png",Sr=n.p+"src/assets/hud\\nametag.9-1089683afbd6258f15df..png",Ar=n.p+"src/assets/hud\\nametag-border.9-11ab40141a95edd37651..png",_r=n(99477);const Er={"action-button":{tex:xr.load(Lr),width:128,height:128},button:{tex:xr.load(kr),width:128,height:128},nametag:{tex:xr.load(Sr),width:128,height:128},"nametag-border":{tex:xr.load(Ar),width:128,height:128}};AFRAME.registerComponent("slice9",{schema:{alphaTest:{default:0},bottom:{default:0,min:0},color:{type:"color",default:"#fff"},debug:{default:!1},height:{default:1,min:0},left:{default:0,min:0},opacity:{default:1,min:0,max:1},padding:{default:.1,min:.01},right:{default:0,min:0},side:{default:"front",oneOf:["front","back","double"]},src:{oneOf:Object.keys(Er)},top:{default:0,min:0},transparent:{default:!0},width:{default:1,min:0},usingCustomMaterial:{default:!1},usingAtlas:{default:!1},uvAtlasMin:{type:"vec2"},uvAtlasMax:{type:"vec2"}},init:function(){const e=this.data;this.textureSrc=null;const t=this.geometry=new _r.PlaneBufferGeometry(e.width,e.height,3,3);if(e.usingCustomMaterial)this.plane=new _r.Mesh(t);else{const n=new _r.MeshBasicMaterial({alphaTest:e.alphaTest,color:e.color,opacity:e.opacity,transparent:e.transparent,wireframe:e.debug});this.plane=new _r.Mesh(t,n)}this.el.setObject3D("mesh",this.plane)},regenerateMesh:function(){const e=this.data;let t;const n=this.geometry.attributes.position.array,r=this.geometry.attributes.uv.array;let a;if(this.plane.material&&!this.plane.material.map)return;function i(e,t,r){n[3*e]=t,n[3*e+1]=r}function o(t,n,a){e.usingAtlas&&(n=e.uvAtlasMin.x+n*(e.uvAtlasMax.x-e.uvAtlasMin.x),a=e.uvAtlasMin.y+a*(e.uvAtlasMax.y-e.uvAtlasMin.y)),r[2*t]=n,r[2*t+1]=a}e.usingCustomMaterial?(t=1,a=1):(t=Er[e.src].height,a=Er[e.src].width);const s={left:e.left/a,right:e.right/a,top:e.top/t,bottom:e.bottom/t};o(1,s.left,1),o(2,s.right,1),o(4,0,s.bottom),o(5,s.left,s.bottom),o(6,s.right,s.bottom),o(7,1,s.bottom),o(8,0,s.top),o(9,s.left,s.top),o(10,s.right,s.top),o(11,1,s.top),o(13,s.left,0),o(14,s.right,0),e.usingAtlas&&(o(0,0,1),o(3,1,1),o(12,0,0),o(15,1,0));const l=e.width/2,u=e.height/2,c=-l+e.padding,d=l-e.padding,h=u-e.padding,f=-u+e.padding;i(0,-l,u),i(1,c,u),i(2,d,u),i(3,l,u),i(4,-l,h),i(5,c,h),i(6,d,h),i(7,l,h),i(8,-l,f),i(9,c,f),i(10,d,f),i(11,l,f),i(13,c,-u),i(14,d,-u),i(12,-l,-u),i(15,l,-u),this.geometry.attributes.position.needsUpdate=!0,this.geometry.attributes.uv.needsUpdate=!0},update:function(e){const t=this.data,n=AFRAME.utils.diff(t,e);t.usingCustomMaterial||(this.plane.material.alphaTest=t.alphaTest,this.plane.material.color.setStyle(t.color),this.plane.material.opacity=t.opacity,this.plane.material.transparent=t.transparent,this.plane.material.wireframe=t.debug,this.plane.material.side=function(e){switch(e){case"back":return _r.BackSide;case"double":return _r.DoubleSide;default:return _r.FrontSide}}(t.side),this.plane.material.needsUpdate=!0,"src"in n&&this.updateMap()),("width"in n||"height"in n||"padding"in n||"left"in n||"top"in n||"bottom"in n||"right"in n)&&this.regenerateMesh()},setMap(e){this.plane.material.map=e,this.plane.material.needsUpdate=!0,this.regenerateMesh()},updateMap:function(){const e=this.data.src;if(e){if(e===this.textureSrc)return;return this.textureSrc=e,void this.setMap(Er[e].tex)}this.plane.material.map&&this.setMap(null)},remove(){var e;null===(e=this.geometry)||void 0===e||e.dispose()}}),n(90903),n(19304),n(71087);var Mr=n(20477),Cr=n.n(Mr),Tr=n(99477);class Dr{constructor(){}}function Pr(e,t){return t.min.x=e[0],t.min.y=e[1],t.min.z=e[2],t.max.x=e[3],t.max.y=e[4],t.max.z=e[5],t}function Or(e){let t=-1,n=-1/0;for(let r=0;r<3;r++){const a=e[r+3]-e[r];a>n&&(n=a,t=r)}return t}const Rr=Math.pow(2,-24),Zr=["x","y","z"],Fr=new Tr.Box3;function Ir(e,t,n,r,a=null){let i=1/0,o=1/0,s=1/0,l=-1/0,u=-1/0,c=-1/0,d=1/0,h=1/0,f=1/0,p=-1/0,m=-1/0,g=-1/0;const v=null!==a;for(let r=6*t,a=6*(t+n);r<a;r+=6){const t=e[r+0],n=e[r+1],a=t-n,y=t+n;a<i&&(i=a),y>l&&(l=y),v&&t<d&&(d=t),v&&t>p&&(p=t);const b=e[r+2],w=e[r+3],x=b-w,L=b+w;x<o&&(o=x),L>u&&(u=L),v&&b<h&&(h=b),v&&b>m&&(m=b);const k=e[r+4],S=e[r+5],A=k-S,_=k+S;A<s&&(s=A),_>c&&(c=_),v&&k<f&&(f=k),v&&k>g&&(g=k)}r[0]=i,r[1]=o,r[2]=s,r[3]=l,r[4]=u,r[5]=c,v&&(a[0]=d,a[1]=h,a[2]=f,a[3]=p,a[4]=m,a[5]=g)}function Ur(e,t,n,r){let a=1/0,i=1/0,o=1/0,s=-1/0,l=-1/0,u=-1/0;for(let r=6*t,c=6*(t+n);r<c;r+=6){const t=e[r+0];t<a&&(a=t),t>s&&(s=t);const n=e[r+2];n<i&&(i=n),n>l&&(l=n);const c=e[r+4];c<o&&(o=c),c>u&&(u=c)}r[0]=a,r[1]=i,r[2]=o,r[3]=s,r[4]=l,r[5]=u}class Nr{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let n=1/0,r=-1/0;for(let a=0,i=e.length;a<i;a++){const i=e[a][t];n=Math.min(i,n),r=Math.max(i,r)}this.min=n,this.max=r}setFromPoints(e,t){let n=1/0,r=-1/0;for(let a=0,i=t.length;a<i;a++){const i=t[a],o=e.dot(i);n=Math.min(o,n),r=Math.max(o,r)}this.min=n,this.max=r}isSeparated(e){return this.min>e.max||e.min>this.max}}Nr.prototype.setFromBox=function(){const e=new Tr.Vector3;return function(t,n){const r=n.min,a=n.max;let i=1/0,o=-1/0;for(let n=0;n<=1;n++)for(let s=0;s<=1;s++)for(let l=0;l<=1;l++){e.x=r.x*n+a.x*(1-n),e.y=r.y*s+a.y*(1-s),e.z=r.z*l+a.z*(1-l);const u=t.dot(e);i=Math.min(u,i),o=Math.max(u,o)}this.min=i,this.max=o}}(),new Nr;const jr=function(){const e=new Tr.Vector3,t=new Tr.Vector3,n=new Tr.Vector3;return function(r,a,i){const o=r.start,s=e,l=a.start,u=t;n.subVectors(o,l),e.subVectors(r.end,a.start),t.subVectors(a.end,a.start);const c=n.dot(u),d=u.dot(s),h=u.dot(u),f=n.dot(s),p=s.dot(s)*h-d*d;let m,g;m=0!==p?(c*d-f*h)/p:0,g=(c+m*d)/h,i.x=m,i.y=g}}(),zr=function(){const e=new Tr.Vector2,t=new Tr.Vector3,n=new Tr.Vector3;return function(r,a,i,o){jr(r,a,e);let s=e.x,l=e.y;if(s>=0&&s<=1&&l>=0&&l<=1)return r.at(s,i),void a.at(l,o);if(s>=0&&s<=1)return l<0?a.at(0,o):a.at(1,o),void r.closestPointToPoint(o,!0,i);if(l>=0&&l<=1)return s<0?r.at(0,i):r.at(1,i),void a.closestPointToPoint(i,!0,o);{let e,u;e=s<0?r.start:r.end,u=l<0?a.start:a.end;const c=t,d=n;return r.closestPointToPoint(u,!0,t),a.closestPointToPoint(e,!0,n),c.distanceToSquared(u)<=d.distanceToSquared(e)?(i.copy(c),void o.copy(u)):(i.copy(e),void o.copy(d))}}}(),Br=function(){const e=new Tr.Vector3,t=new Tr.Vector3,n=new Tr.Plane,r=new Tr.Line3;return function(a,i){const{radius:o,center:s}=a,{a:l,b:u,c:c}=i;if(r.start=l,r.end=u,r.closestPointToPoint(s,!0,e).distanceTo(s)<=o)return!0;if(r.start=l,r.end=c,r.closestPointToPoint(s,!0,e).distanceTo(s)<=o)return!0;if(r.start=u,r.end=c,r.closestPointToPoint(s,!0,e).distanceTo(s)<=o)return!0;const d=i.getPlane(n);if(Math.abs(d.distanceToPoint(s))<=o){const e=d.projectPoint(s,t);if(i.containsPoint(e))return!0}return!1}}();class Gr extends Tr.Triangle{constructor(...e){super(...e),this.isSeparatingAxisTriangle=!0,this.satAxes=new Array(4).fill().map((()=>new Tr.Vector3)),this.satBounds=new Array(4).fill().map((()=>new Nr)),this.points=[this.a,this.b,this.c],this.sphere=new Tr.Sphere,this.needsUpdate=!1}intersectsSphere(e){return Br(e,this)}}Gr.prototype.update=function(){const e=new Array(3);return function(){const t=this.a,n=this.b,r=this.c;e[0]=this.a,e[1]=this.b,e[2]=this.c;const a=this.satAxes,i=this.satBounds,o=a[0],s=i[0];this.getNormal(o),s.setFromPoints(o,e);const l=a[1],u=i[1];l.subVectors(t,n),u.setFromPoints(l,e);const c=a[2],d=i[2];c.subVectors(n,r),d.setFromPoints(c,e);const h=a[3],f=i[3];h.subVectors(r,t),f.setFromPoints(h,e),this.sphere.setFromPoints(this.points),this.needsUpdate=!1}}(),Gr.prototype.closestPointToSegment=function(){const e=new Tr.Vector3,t=new Tr.Vector3,n=new Tr.Line3;return function(r,a=null,i=null){this.needsUpdate&&this.update();const{start:o,end:s}=r,l=this.points;let u,c=1/0;for(let o=0;o<3;o++){const s=(o+1)%3;n.start.copy(l[o]),n.end.copy(l[s]),zr(n,r,e,t),u=e.distanceToSquared(t),u<c&&(c=u,a&&a.copy(e),i&&i.copy(t))}return this.closestPointToPoint(o,e),u=o.distanceToSquared(e),u<c&&(c=u,a&&a.copy(e),i&&i.copy(o)),this.closestPointToPoint(s,e),u=s.distanceToSquared(e),u<c&&(c=u,a&&a.copy(e),i&&i.copy(s)),Math.sqrt(c)}}(),Gr.prototype.intersectsTriangle=function(){const e=new Gr,t=new Array(3),n=new Array(3),r=new Nr,a=new Nr,i=new Tr.Vector3;return function(o){this.needsUpdate&&this.update(),o.isSeparatingAxisTriangle||(e.copy(o),e.update(),o=e);const s=this.satBounds,l=this.satAxes;n[0]=o.a,n[1]=o.b,n[2]=o.c;for(let e=0;e<4;e++){const t=s[e],a=l[e];if(r.setFromPoints(a,n),t.isSeparated(r))return!1}const u=o.satBounds,c=o.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let e=0;e<4;e++){const n=u[e],a=c[e];if(r.setFromPoints(a,t),n.isSeparated(r))return!1}for(let e=0;e<4;e++){const o=l[e];for(let e=0;e<4;e++){const s=c[e];if(i.crossVectors(o,s),r.setFromPoints(i,t),a.setFromPoints(i,n),r.isSeparated(a))return!1}}return!0}}(),Gr.prototype.distanceToPoint=function(){const e=new Tr.Vector3;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),Gr.prototype.distanceToTriangle=function(){const e=new Tr.Vector3,t=new Tr.Vector3,n=["a","b","c"],r=new Tr.Line3,a=new Tr.Line3;return function(i,o=null,s=null){if(i.needsUpdate&&i.update(),this.needsUpdate&&this.update(),this.intersectsTriangle(i))return(o||s)&&(this.getMidpoint(e),i.closestPointToPoint(e,t),this.closestPointToPoint(t,e),o&&o.copy(e),s&&s.copy(t)),0;let l=1/0;for(let t=0;t<3;t++){let r;const a=n[t],u=i[a];this.closestPointToPoint(u,e),r=u.distanceToSquared(e),r<l&&(l=r,o&&o.copy(e),s&&s.copy(u));const c=this[a];i.closestPointToPoint(c,e),r=c.distanceToSquared(e),r<l&&(l=r,o&&o.copy(c),s&&s.copy(e))}for(let u=0;u<3;u++){const c=n[u],d=n[(u+1)%3];r.set(this[c],this[d]);for(let u=0;u<3;u++){const c=n[u],d=n[(u+1)%3];a.set(i[c],i[d]),zr(r,a,e,t);const h=e.distanceToSquared(t);h<l&&(l=h,o&&o.copy(e),s&&s.copy(t))}}return Math.sqrt(l)}}();class Hr extends Tr.Box3{constructor(...e){super(...e),this.isOrientedBox=!0,this.matrix=new Tr.Matrix4,this.invMatrix=new Tr.Matrix4,this.points=new Array(8).fill().map((()=>new Tr.Vector3)),this.satAxes=new Array(3).fill().map((()=>new Tr.Vector3)),this.satBounds=new Array(3).fill().map((()=>new Nr)),this.alignedSatBounds=new Array(3).fill().map((()=>new Nr)),this.sphere=new Tr.Sphere}set(e,t,n){super.set(e,t),this.matrix=n}copy(e){super.copy(e),this.matrix.copy(e.matrix)}}function Vr(e,t,n,r){const a=e.a,i=e.b,o=e.c;let s=n.getX(t);a.x=r.getX(s),a.y=r.getY(s),a.z=r.getZ(s),s=n.getX(t+1),i.x=r.getX(s),i.y=r.getY(s),i.z=r.getZ(s),s=n.getX(t+2),o.x=r.getX(s),o.y=r.getY(s),o.z=r.getZ(s)}Hr.prototype.update=function(){const e=this.matrix,t=this.min,n=this.max,r=this.points;for(let a=0;a<=1;a++)for(let i=0;i<=1;i++)for(let o=0;o<=1;o++){const s=r[1*a|2*i|4*o];s.x=a?n.x:t.x,s.y=i?n.y:t.y,s.z=o?n.z:t.z,s.applyMatrix4(e)}this.sphere.setFromPoints(this.points);const a=this.satBounds,i=this.satAxes,o=r[0];for(let e=0;e<3;e++){const t=i[e],n=a[e],s=r[1<<e];t.subVectors(o,s),n.setFromPoints(t,r)}const s=this.alignedSatBounds;s[0].setFromPointsField(r,"x"),s[1].setFromPointsField(r,"y"),s[2].setFromPointsField(r,"z"),this.invMatrix.copy(this.matrix).invert()},Hr.prototype.intersectsBox=function(){const e=new Nr;return function(t){if(!t.intersectsSphere(this.sphere))return!1;const n=t.min,r=t.max,a=this.satBounds,i=this.satAxes,o=this.alignedSatBounds;if(e.min=n.x,e.max=r.x,o[0].isSeparated(e))return!1;if(e.min=n.y,e.max=r.y,o[1].isSeparated(e))return!1;if(e.min=n.z,e.max=r.z,o[2].isSeparated(e))return!1;for(let n=0;n<3;n++){const r=i[n],o=a[n];if(e.setFromBox(r,t),o.isSeparated(e))return!1}return!0}}(),Hr.prototype.intersectsTriangle=function(){const e=new Gr,t=new Array(3),n=new Nr,r=new Nr,a=new Tr.Vector3;return function(i){i.isSeparatingAxisTriangle?i.needsUpdate&&i.update():(e.copy(i),e.update(),i=e);const o=this.satBounds,s=this.satAxes;t[0]=i.a,t[1]=i.b,t[2]=i.c;for(let e=0;e<3;e++){const r=o[e],a=s[e];if(n.setFromPoints(a,t),r.isSeparated(n))return!1}const l=i.satBounds,u=i.satAxes,c=this.points;for(let e=0;e<3;e++){const t=l[e],r=u[e];if(n.setFromPoints(r,c),t.isSeparated(n))return!1}for(let e=0;e<3;e++){const i=s[e];for(let e=0;e<4;e++){const o=u[e];if(a.crossVectors(i,o),n.setFromPoints(a,t),r.setFromPoints(a,c),n.isSeparated(r))return!1}}return!0}}(),Hr.prototype.closestPointToPoint=function(e,t){return t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t},Hr.prototype.distanceToPoint=function(){const e=new Tr.Vector3;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),Hr.prototype.distanceToBox=function(){const e=["x","y","z"],t=new Array(12).fill().map((()=>new Tr.Line3)),n=new Array(12).fill().map((()=>new Tr.Line3)),r=new Tr.Vector3,a=new Tr.Vector3;return function(i,o=0,s=null,l=null){if(this.intersectsBox(i))return(s||l)&&(i.getCenter(a),this.closestPointToPoint(a,r),i.closestPointToPoint(r,a),s&&s.copy(r),l&&l.copy(a)),0;const u=o*o,c=i.min,d=i.max,h=this.points;let f=1/0;for(let e=0;e<8;e++){const t=h[e];a.copy(t).clamp(c,d);const n=t.distanceToSquared(a);if(n<f&&(f=n,s&&s.copy(t),l&&l.copy(a),n<u))return Math.sqrt(n)}let p=0;for(let r=0;r<3;r++)for(let a=0;a<=1;a++)for(let i=0;i<=1;i++){const o=(r+1)%3,s=(r+2)%3,l=1<<r|a<<o|i<<s,u=h[a<<o|i<<s],f=h[l];t[p].set(u,f);const m=e[r],g=e[o],v=e[s],y=n[p],b=y.start,w=y.end;b[m]=c[m],b[g]=a?c[g]:d[g],b[v]=i?c[v]:d[g],w[m]=d[m],w[g]=a?c[g]:d[g],w[v]=i?c[v]:d[g],p++}for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)for(let n=0;n<=1;n++){a.x=e?d.x:c.x,a.y=t?d.y:c.y,a.z=n?d.z:c.z,this.closestPointToPoint(a,r);const i=a.distanceToSquared(r);if(i<f&&(f=i,s&&s.copy(r),l&&l.copy(a),i<u))return Math.sqrt(i)}for(let e=0;e<12;e++){const i=t[e];for(let e=0;e<12;e++){const t=n[e];zr(i,t,r,a);const o=r.distanceToSquared(a);if(o<f&&(f=o,s&&s.copy(r),l&&l.copy(a),o<u))return Math.sqrt(o)}}return Math.sqrt(f)}}();var qr=new Tr.Vector3,Wr=new Tr.Vector3,$r=new Tr.Vector3,Kr=new Tr.Vector2,Yr=new Tr.Vector2,Xr=new Tr.Vector2,Qr=new Tr.Vector3,Jr=new Tr.Vector3;function ea(e,t,n,r,a,i){const o=3*a,s=t.index.getX(o),l=t.index.getX(o+1),u=t.index.getX(o+2),c=function(e,t,n,r,a,i,o,s){qr.fromBufferAttribute(r,i),Wr.fromBufferAttribute(r,o),$r.fromBufferAttribute(r,s);var l=function(e,t,n,r,a,i,o,s){if(null===(t.side===Tr.BackSide?r.intersectTriangle(o,i,a,!0,s):r.intersectTriangle(a,i,o,t.side!==Tr.DoubleSide,s)))return null;Jr.copy(s),Jr.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(Jr);return l<n.near||l>n.far?null:{distance:l,point:Jr.clone(),object:e}}(e,e.material,t,n,qr,Wr,$r,Qr);if(l){a&&(Kr.fromBufferAttribute(a,i),Yr.fromBufferAttribute(a,o),Xr.fromBufferAttribute(a,s),l.uv=Tr.Triangle.getUV(Qr,qr,Wr,$r,Kr,Yr,Xr,new Tr.Vector2));const e={a:i,b:o,c:s,normal:new Tr.Vector3,materialIndex:0};Tr.Triangle.getNormal(qr,Wr,$r,e.normal),l.face=e,l.faceIndex=i}return l}(e,n,r,t.attributes.position,t.attributes.uv,s,l,u);return c?(c.faceIndex=a,i&&i.push(c),c):null}function ta(e,t,n,r,a,i,o){for(let s=a,l=a+i;s<l;s++)ea(e,t,n,r,s,o)}function na(e,t,n,r,a,i){let o=1/0,s=null;for(let l=a,u=a+i;l<u;l++){const a=ea(e,t,n,r,l);a&&a.distance<o&&(s=a,o=a.distance)}return s}const ra=new Tr.Box3,aa=new Tr.Vector3,ia=["x","y","z"];function oa(e,t,n){return Pr(e.boundingData,ra),t.intersectBox(ra,n)}function sa(e,t,n,r,a){e.continueGeneration&&e.continueGeneration(),e.count?ta(t,t.geometry,n,r,e.offset,e.count,a):(oa(e.left,r,aa)&&sa(e.left,t,n,r,a),oa(e.right,r,aa)&&sa(e.right,t,n,r,a))}function la(e,t,n,r){if(e.continueGeneration&&e.continueGeneration(),e.count)return na(t,t.geometry,n,r,e.offset,e.count);{const a=e.splitAxis,i=ia[a],o=r.direction[i]>=0;let s,l;o?(s=e.left,l=e.right):(s=e.right,l=e.left);const u=oa(s,r,aa)?la(s,t,n,r):null;if(u){const e=u.point[i];if(o?e<=l.boundingData[a]:e>=l.boundingData[a+3])return u}const c=oa(l,r,aa)?la(l,t,n,r):null;return u&&c?u.distance<=c.distance?u:c:u||c||null}}const ua=function(){const e=new Gr,t=new Tr.Box3,n=new Tr.Box3;function r(e,t,n,r,a,i,o){const s=n.index,l=n.attributes.position;for(let n=3*e,u=3*(t+e);n<u;n+=3)if(Vr(o,n,s,l),o.needsUpdate=!0,r(o,n,n+1,n+2,a,i))return!0;return!1}return function a(i,o,s,l=null,u=null,c=0,d=e,h=t,f=n){function p(e){for(e.continueGeneration&&e.continueGeneration();!e.count;)(e=e.left).continueGeneration&&e.continueGeneration();return e.offset}function m(e){for(e.continueGeneration&&e.continueGeneration();!e.count;)(e=e.right).continueGeneration&&e.continueGeneration();return e.offset+e.count}if(i.continueGeneration&&i.continueGeneration(),i.count&&l){const e=o.geometry;return r(i.offset,i.count,e,l,!1,c,d)}{const e=i.left,t=i.right;let n,g,v,y,b=e,w=t;if(u&&(v=h,y=f,Pr(b.boundingData,v),Pr(w.boundingData,y),n=u(v),g=u(y),g<n)){b=t,w=e;const r=n;n=g,g=r,v=y}v||(v=h,Pr(b.boundingData,v));const x=s(v,!!b.count,n,c+1);let L;if(2===x){const e=o.geometry,t=p(b);L=r(t,m(b)-t,e,l,!0,c+1,d)}else L=x&&a(b,o,s,l,u,c+1,d,h,f);if(L)return!0;y=f,Pr(w.boundingData,y);const k=s(y,!!w.count,g,c+1);let S;if(2===k){const e=o.geometry,t=p(w);S=r(t,m(w)-t,e,l,!0,c+1,d)}else S=k&&a(w,o,s,l,u,c+1,d,h,f);return!!S}}}(),ca=function(){const e=new Gr,t=new Gr,n=new Tr.Mesh,r=new Tr.Matrix4,a=new Hr,i=new Hr;return function o(s,l,u,c,d=null){if(s.continueGeneration&&s.continueGeneration(),null===d&&(u.boundingBox||u.computeBoundingBox(),a.set(u.boundingBox.min,u.boundingBox.max,c),a.update(),d=a),!s.count){const e=s.left,t=s.right;return Pr(e.boundingData,ra),d.intersectsBox(ra)&&o(e,l,u,c,d)?!0:(Pr(t.boundingData,ra),!(!d.intersectsBox(ra)||!o(t,l,u,c,d)))}{const a=l.geometry,o=a.index,d=a.attributes.position,h=u.index,f=u.attributes.position,p=s.offset,m=s.count;if(r.copy(c).invert(),u.boundsTree){Pr(s.boundingData,i),i.matrix.copy(r),i.update(),n.geometry=u;const e=u.boundsTree.shapecast(n,(e=>i.intersectsBox(e)),(function(e){e.a.applyMatrix4(c),e.b.applyMatrix4(c),e.c.applyMatrix4(c),e.update();for(let n=3*p,r=3*(m+p);n<r;n+=3)if(Vr(t,n,o,d),t.update(),e.intersectsTriangle(t))return!0;return!1}));return n.geometry=null,e}for(let n=3*p,a=m+3*p;n<a;n+=3){Vr(e,n,o,d),e.a.applyMatrix4(r),e.b.applyMatrix4(r),e.c.applyMatrix4(r),e.update();for(let n=0,r=h.count;n<r;n+=3)if(Vr(t,n,h,f),t.update(),e.intersectsTriangle(t))return!0}}}}(),da=new Tr.Box3,ha=new Tr.Vector3,fa=["x","y","z"];function pa(e,t,n,r,a){let i=2*e,o=xa,s=La,l=ka;65535===s[i+15]?ta(t,t.geometry,n,r,l[e+6],s[i+14],a):(ya(e+8,o,r,ha)&&pa(e+8,t,n,r,a),ya(l[e+6],o,r,ha)&&pa(l[e+6],t,n,r,a))}function ma(e,t,n,r){let a=2*e,i=xa,o=La,s=ka;if(65535===o[a+15])return na(t,t.geometry,n,r,s[e+6],o[a+14]);{const a=s[e+7],o=fa[a],l=r.direction[o]>=0;let u,c;l?(u=e+8,c=s[e+6]):(u=s[e+6],c=e+8);const d=ya(u,i,r,ha)?ma(u,t,n,r):null;if(d){const e=d.point[o];if(l?e<=i[c+a]:e>=i[c+a+3])return d}const h=ya(c,i,r,ha)?ma(c,t,n,r):null;return d&&h?d.distance<=h.distance?d:h:d||h||null}}const ga=function(){const e=new Gr,t=new Tr.Box3,n=new Tr.Box3;function r(e,t,n,r,a,i,o){const s=n.index,l=n.attributes.position;for(let n=3*e,u=3*(t+e);n<u;n+=3)if(Vr(o,n,s,l),o.needsUpdate=!0,r(o,n,n+1,n+2,a,i))return!0;return!1}return function a(i,o,s,l=null,u=null,c=0,d=e,h=t,f=n){function p(e){let t=2*e,n=La,r=ka;for(;65535!==n[t+15];)t=2*(e+=8);return r[e+6]}function m(e){let t=2*e,n=La,r=ka;for(;65535!==n[t+15];)t=2*(e=r[e+6]);return r[e+6]+n[t+14]}let g=2*i,v=xa,y=La,b=ka;if(65535===y[g+15]&&l){const e=o.geometry;return r(b[i+6],y[g+14],e,l,!1,c,d)}{const e=i+8,t=b[i+6];let n,g,w,x,L=e,k=t;if(u&&(w=h,x=f,_a(L,v,w),_a(k,v,x),n=u(w),g=u(x),g<n)){L=t,k=e;const r=n;n=g,g=r,w=x}w||(w=h,_a(L,v,w));const S=s(w,!(65535!==y[L+15]),n,c+1);let A;if(2===S){const e=o.geometry,t=p(L);A=r(t,m(L)-t,e,l,!0,c+1,d)}else A=S&&a(L,o,s,l,u,c+1,d,h,f);if(A)return!0;x=f,_a(k,v,x);const _=s(x,!(65535!==y[k+15]),g,c+1);let E;if(2===_){const e=o.geometry,t=p(k);E=r(t,m(k)-t,e,l,!0,c+1,d)}else E=_&&a(k,o,s,l,u,c+1,d,h,f);return!!E}}}(),va=function(){const e=new Gr,t=new Gr,n=new Tr.Mesh,r=new Tr.Matrix4,a=new Hr,i=new Hr;return function o(s,l,u,c,d=null){let h=2*s,f=xa,p=La,m=ka;if(null===d&&(u.boundingBox||u.computeBoundingBox(),a.set(u.boundingBox.min,u.boundingBox.max,c),a.update(),d=a),65535!==p[h+15]){const e=s+8,t=m[s+6];return _a(e,f,da),d.intersectsBox(da)&&o(e,l,u,c,d)?!0:(_a(t,f,da),!(!d.intersectsBox(da)||!o(t,l,u,c,d)))}{const a=l.geometry,o=a.index,d=a.attributes.position,g=u.index,v=u.attributes.position,y=m[s+6],b=p[h+14];if(r.copy(c).invert(),u.boundsTree){_a(s,f,i),i.matrix.copy(r),i.update(),n.geometry=u;const e=u.boundsTree.shapecast(n,(e=>i.intersectsBox(e)),(function(e){e.a.applyMatrix4(c),e.b.applyMatrix4(c),e.c.applyMatrix4(c),e.update();for(let n=3*y,r=3*(b+y);n<r;n+=3)if(Vr(t,n,o,d),t.update(),e.intersectsTriangle(t))return!0;return!1}));return n.geometry=null,e}for(let n=3*y,a=b+3*y;n<a;n+=3){Vr(e,n,o,d),e.a.applyMatrix4(r),e.b.applyMatrix4(r),e.c.applyMatrix4(r),e.update();for(let n=0,r=g.count;n<r;n+=3)if(Vr(t,n,g,v),t.update(),e.intersectsTriangle(t))return!0}}}}();function ya(e,t,n,r){return _a(e,t,da),n.intersectBox(da,r)}const ba=[];let wa,xa,La,ka;function Sa(e){wa&&ba.push(wa),wa=e,xa=new Float32Array(e),La=new Uint16Array(e),ka=new Uint32Array(e)}function Aa(){wa=null,xa=null,La=null,ka=null,ba.length&&Sa(ba.pop())}function _a(e,t,n){n.min.x=t[e],n.min.y=t[e+1],n.min.z=t[e+2],n.max.x=t[e+3],n.max.y=t[e+4],n.max.z=t[e+5]}const Ea=Symbol("skip tree generation"),Ma=new Hr,Ca=new Tr.Vector3,Ta=new Gr,Da=new Tr.Vector3,Pa=new Tr.Vector3;class Oa{static serialize(e,t,n=!0){function r(e){e.continueGeneration&&e.continueGeneration(),e.count||(r(e.left),r(e.right))}function a(e){return e.count?1:1+a(e.left)+a(e.right)}function i(e,t){const n=e/4,r=e/2,a=!!t.count,u=t.boundingData;for(let e=0;e<6;e++)o[n+e]=u[e];if(a){const a=t.offset,i=t.count;return s[n+6]=a,l[r+14]=i,l[r+15]=65535,e+32}{const r=t.left,a=t.right,o=t.splitAxis;let l;return l=i(e+32,r),s[n+6]=l/4,l=i(l,a),s[n+7]=o,l}}let o,s,l;const u=e._roots;let c;if(e._isPacked)c=u;else{c=[];for(let e=0;e<u.length;e++){const t=u[e];r(t);let n=a(t);const d=new ArrayBuffer(32*n);o=new Float32Array(d),s=new Uint32Array(d),l=new Uint16Array(d),i(0,t),c.push(d)}}const d=t.getIndex();return{roots:c,index:n?d.array.slice():d.array}}static deserialize(e,t,n=!0){const{index:r,roots:a}=e,i=new Oa(t,{[Ea]:!0});if(i._roots=a,i._isPacked=!0,n){const n=t.getIndex();if(null===n){const n=new Tr.BufferAttribute(e.index,1,!1);t.setIndex(n)}else n.array!==r&&(n.array.set(r),n.needsUpdate=!0)}return i}constructor(e,t={}){if(!e.isBufferGeometry)throw new Error("MeshBVH: Only BufferGeometries are supported.");if(e.attributes.position.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the position attribute.");if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.");(t=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,lazyGeneration:!0,packData:!0,[Ea]:!1},t)).strategy=Math.max(0,Math.min(2,t.strategy)),this._isPacked=!1,this._roots=null,t[Ea]||(this._roots=function(e,t){function n(t,f,p,m=null,g=0){if(!h&&g>=s&&(h=!0,l&&(console.warn(`MeshBVH: Max depth of ${s} reached when generating BVH. Consider increasing maxDepth.`),console.warn(this,e))),p<=u||g>=s)return t.offset=f,t.count=p,t;const v=function(e,t,n,r,a,i,o){let s=-1,l=0;if(0===o)s=Or(t),-1!==s&&(l=(t[s]+t[s+3])/2);else if(1===o)s=Or(e),-1!==s&&(l=function(e,t,n,r){let a=0;for(let i=t,o=t+n;i<o;i++)a+=e[6*i+2*r];return a/n}(n,a,i,s));else if(2===o){const t=3,n=1,o=Pr(e,Fr),u=[o.max.x-o.min.x,o.max.y-o.min.y,o.max.z-o.min.z],c=2*(u[0]*u[1]+u[0]*u[2]+u[1]*u[2]),d=[[],[],[]];for(let e=a,t=a+i;e<t;e++)for(let t=0;t<3;t++)d[t].push(r[t][e]);d.forEach((e=>e.sort(((e,t)=>e.p-t.p))));const h=(e,r,a,i,o)=>t+n*(r/e*a+i/e*o);s=-1;let f=n*i;for(let e=0;e<3;e++){const t=(e+1)%3,n=(e+2)%3,r=o.min[Zr[e]],a=o.max[Zr[e]],p=d[e];let m=0,g=i;for(let i=0;i<p.length;i++){const o=p[i];m++,g--;const d=o.p-r,v=a-o.p;let y=u[t],b=u[t],w=u[n],x=u[n];const L=h(c,2*(y*w+y*d+w*d),m,2*(b*x+b*v+x*v),g);L<f&&(s=e,l=o.p,f=L)}}}return{axis:s,pos:l}}(t.boundingData,m,a,i,f,p,c);if(-1===v.axis)return t.offset=f,t.count=p,t;const y=function(e,t,n,r,a,i){let o=r,s=r+a-1;const l=i.pos,u=2*i.axis;for(;;){for(;o<=s&&t[6*o+u]<l;)o++;for(;o<=s&&t[6*s+u]>=l;)s--;if(!(o<s))return o;for(let n=0;n<3;n++){let r=e[3*o+n];e[3*o+n]=e[3*s+n],e[3*s+n]=r;let a=t[6*o+2*n+0];t[6*o+2*n+0]=t[6*s+2*n+0],t[6*s+2*n+0]=a;let i=t[6*o+2*n+1];t[6*o+2*n+1]=t[6*s+2*n+1],t[6*s+2*n+1]=i}if(n)for(let e=0;e<3;e++){let t=n[e][o];n[e][o]=n[e][s],n[e][s]=t}o++,s--}}(o,a,i,f,p,v);if(y===f||y===f+p)t.offset=f,t.count=p;else{t.splitAxis=v.axis;const e=new Dr,i=f,o=y-f;t.left=e,e.boundingData=new Float32Array(6),d?(Ir(a,i,o,e.boundingData),e.continueGeneration=function(){delete this.continueGeneration,Ur(a,i,o,r),n(e,i,o,r,g+1)}):(Ir(a,i,o,e.boundingData,r),n(e,i,o,r,g+1));const s=new Dr,l=y,u=p-o;t.right=s,s.boundingData=new Float32Array(6),d?(Ir(a,l,u,s.boundingData),s.continueGeneration=function(){delete this.continueGeneration,Ur(a,l,u,r),n(s,l,u,r,g+1)}):(Ir(a,l,u,s.boundingData,r),n(s,l,u,r,g+1))}return t}!function(e){if(!e.index){const t=e.attributes.position.count,n=new(t>65535?Uint32Array:Uint16Array)(t);e.setIndex(new Tr.BufferAttribute(n,1));for(let e=0;e<t;e++)n[e]=e}}(e);const r=new Float32Array(6),a=function(e){const t=e.attributes.position.array,n=e.index.array,r=n.length/3,a=new Float32Array(6*r);for(let e=0;e<r;e++){const r=3*e,i=6*e,o=3*n[r+0],s=3*n[r+1],l=3*n[r+2];for(let e=0;e<3;e++){const n=t[o+e],r=t[s+e],u=t[l+e];let c=n;r<c&&(c=r),u<c&&(c=u);let d=n;r>d&&(d=r),u>d&&(d=u);const h=(d-c)/2,f=2*e;a[i+f+0]=c+h,a[i+f+1]=h+(Math.abs(c)+h)*Rr}}return a}(e),i=2===t.strategy?function(e){const t=e.length/6,n=[new Array(t),new Array(t),new Array(t)];for(let r=0;r<t;r++)for(let t=0;t<3;t++)n[t][r]={p:e[6*r+2*t],tri:r};return n}(a):null,o=e.index.array,s=t.maxDepth,l=t.verbose,u=t.maxLeafTris,c=t.strategy,d=t.lazyGeneration;let h=!1;const f=[],p=function(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];const t=[],n=new Set;for(const t of e.groups)n.add(t.start),n.add(t.start+t.count);const r=Array.from(n.values()).sort(((e,t)=>e-t));for(let e=0;e<r.length-1;e++){const n=r[e],a=r[e+1];t.push({offset:n/3,count:(a-n)/3})}return t}(e);if(1===p.length){const t=new Dr,i=p[0];null!=e.boundingBox?(t.boundingData=function(e){const t=new Float32Array(6);return t[0]=e.min.x,t[1]=e.min.y,t[2]=e.min.z,t[3]=e.max.x,t[4]=e.max.y,t[5]=e.max.z,t}(e.boundingBox),Ur(a,i.offset,i.count,r)):(t.boundingData=new Float32Array(6),Ir(a,i.offset,i.count,t.boundingData,r)),n(t,i.offset,i.count,r),f.push(t)}else for(let e of p){const t=new Dr;t.boundingData=new Float32Array(6),Ir(a,e.offset,e.count,t.boundingData,r),n(t,e.offset,e.count,r),f.push(t)}if(null==e.boundingBox){const t=new Tr.Box3;e.boundingBox=new Tr.Box3;for(let n of f)e.boundingBox.union(Pr(n.boundingData,t))}return f}(e,t),!t.lazyGeneration&&t.packData&&(this._roots=Oa.serialize(this,e,!1).roots,this._isPacked=!0))}traverse(e,t=0){if(this._isPacked){const n=this._roots[t],r=new Uint32Array(n),a=new Uint16Array(n);function i(t,o=0){const s=2*t,l=a[s+15];if(l){const i=r[t+6],u=a[s+14];e(o,l,new Float32Array(n,4*t,6),i,u)}else{const a=t+8,s=r[t+6],u=r[t+7];e(o,l,new Float32Array(n,4*t,6),u,!1)||(i(a,o+1),i(s,o+1))}}i(0)}else{function o(t,n=0){const r=!!t.count;r?e(n,r,t.boundingData,t.offset,t.count):e(n,r,t.boundingData,t.splitAxis,!!t.continueGeneration)||(t.left&&o(t.left,n+1),t.right&&o(t.right,n+1))}o(this._roots[t])}}raycast(e,t,n,r){const a=this._isPacked;for(const i of this._roots)a?(Sa(i),pa(0,e,t,n,r)):sa(i,e,t,n,r);a&&Aa()}raycastFirst(e,t,n){const r=this._isPacked;let a=null;for(const i of this._roots){let o;r?(Sa(i),o=ma(0,e,t,n)):o=la(i,e,t,n),null!=o&&(null==a||o.distance<a.distance)&&(a=o)}return r&&Aa(),a}intersectsGeometry(e,t,n){const r=this._isPacked;let a=!1;for(const i of this._roots)if(r?(Sa(i),a=va(0,e,t,n)):a=ca(i,e,t,n),a)break;return r&&Aa(),a}shapecast(e,t,n=null,r=null){const a=this._isPacked;let i=!1;for(const o of this._roots)if(a?(Sa(o),i=ga(0,e,t,n,r)):i=ua(o,e,t,n,r),i)break;return a&&Aa(),i}intersectsBox(e,t,n){return Ma.set(t.min,t.max,n),Ma.update(),this.shapecast(e,(e=>Ma.intersectsBox(e)),(e=>Ma.intersectsTriangle(e)))}intersectsSphere(e,t){return this.shapecast(e,(e=>t.intersectsBox(e)),(e=>e.intersectsSphere(t)))}closestPointToGeometry(e,t,n,r=null,a=null,i=0,o=1/0){t.boundingBox||t.computeBoundingBox(),Ma.set(t.boundingBox.min,t.boundingBox.max,n),Ma.update();const s=t.attributes.position,l=t.index;let u=null,c=null;r&&(u=Da),a&&(c=Pa);let d=1/0;return this.shapecast(e,((e,t,n)=>n<d&&n<o),(e=>{e.needsUpdate&&e.update();const t=e.sphere;for(let o=0,h=l.count;o<h;o+=3){Vr(Ta,o,l,s),Ta.a.applyMatrix4(n),Ta.b.applyMatrix4(n),Ta.c.applyMatrix4(n),Ta.sphere.setFromPoints(Ta.points);const h=Ta.sphere;if(h.center.distanceTo(t.center)-h.radius-t.radius>d)continue;Ta.update();const f=e.distanceToTriangle(Ta,u,c);if(f<d&&(r&&r.copy(u),a&&a.copy(c),d=f),f<i)return!0}return!1}),(e=>Ma.distanceToBox(e,Math.min(d,o)))),d}distanceToGeometry(e,t,n,r,a){return this.closestPointToGeometry(e,t,n,null,null,r,a)}closestPointToPoint(e,t,n,r=0,a=1/0){let i=1/0;return this.shapecast(e,((e,t,n)=>n<i&&n<a),(e=>{e.closestPointToPoint(t,Ca);const a=t.distanceTo(Ca);return a<i&&(n&&n.copy(Ca),i=a),a<r}),(e=>e.distanceToPoint(t))),i}distanceToPoint(e,t,n,r){return this.closestPointToPoint(e,t,null,n,r)}}new Tr.LineBasicMaterial({color:65416,transparent:!0,opacity:.3}),(new Tr.Box3Helper).geometry,new Tr.Box3,new Tr.Box3,new Tr.Box3,new Tr.Vector3;const Ra=new Tr.Ray,Za=new Tr.Matrix4,Fa=Tr.Mesh.prototype.raycast;AFRAME.registerComponent("layers",{schema:{mask:{default:0},recursive:{default:!1}},init(){this.update=this.update.bind(this),this.el.addEventListener("object3dset",this.update)},update(){const e=this.el.object3D;this.data.recursive?e.traverse((e=>e.layers.mask=this.data.mask)):e.layers.mask=this.data.mask},remove(){this.el.removeEventListener("object3dset",this.update)}});var Ia=n(99477);function Ua(e){e.map&&e.map.dispose(),e.lightMap&&e.lightMap.dispose(),e.bumpMap&&e.bumpMap.dispose(),e.normalMap&&e.normalMap.dispose(),e.specularMap&&e.specularMap.dispose(),e.envMap&&e.envMap.dispose(),e.aoMap&&e.aoMap.dispose(),e.metalnessMap&&e.metalnessMap.dispose(),e.roughnessMap&&e.roughnessMap.dispose(),e.emissiveMap&&e.emissiveMap.dispose(),e.dispose()}function Na(e){e instanceof Ia.Mesh&&(e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach(Ua):Ua(e.material)))}new Ia.Vector3,new Ia.Quaternion;const ja=(new Ia.Matrix4).identity(),za=new Ia.Matrix4;function Ba(e,t){e.matrixIsModified||e.applyMatrix4(ja),za.copy(e.matrixWorld),e.matrixWorld.copy(t),e.parent?(e.parent.updateMatrices(),e.matrix.copy(e.parent.matrixWorld).invert().multiply(t)):e.matrix.copy(t),e.matrix.decompose(e.position,e.quaternion,e.scale),za.near(e.matrixWorld,1e-11)?e.matrixWorld.copy(za):e.childrenNeedMatrixWorldUpdate=!0}function Ga(e,t,n){n(e,t);for(let r=0;r<e.children.length;r++)Ga(e.children[r],t.children[r],n)}function Ha(e,t){const n=new Map,r=new Map,a=e.clone();return Ga(e,a,((e,t)=>{n.set(e,t)})),e.traverse((e=>{const a=n.get(e);t&&(a.uuid=e.uuid),r.set(e.uuid,a.uuid)})),e.traverse((e=>{const t=n.get(e);if(!t)return;if(e.animations&&(t.animations=e.animations.map((e=>function(e,t){const n=e.tracks.map((e=>function(e,t){const{nodeName:n,objectName:r,objectIndex:a,propertyName:i,propertyIndex:o}=Ia.PropertyBinding.parseTrackName(e.name);let s="";if(void 0!==n){const e=t.get(n);void 0===e&&console.warn(`Could not find KeyframeTrack target with uuid: "${n}"`),s+=e}void 0!==r&&(s+="."+r),void 0!==a&&(s+="["+a+"]"),void 0!==i&&(s+="."+i),void 0!==o&&(s+="["+o+"]");const l=e.clone();return l.name=s,l}(e,t)));return new Ia.AnimationClip(e.name,e.duration,n)}(e,r)))),e.isMesh&&e.geometry.boundsTree&&(t.geometry.boundsTree=e.geometry.boundsTree),(t.isDirectionalLight||t.isSpotLight)&&e.target&&(t.target=n.get(e.target)),!e.isSkinnedMesh)return;const a=e.skeleton.bones;t.skeleton=e.skeleton.clone(),t.skeleton.bones=a.map((e=>{if(!n.has(e))throw new Error("Required bones are not descendants of the given object.");return n.get(e)})),t.bind(t.skeleton,e.bindMatrix)})),a}new Ia.Matrix4,new Ia.Vector3,new Ia.Quaternion,new Ia.Vector3,new Ia.Vector3,new Ia.Quaternion,new Ia.Vector3,new Ia.Vector3,new Ia.Quaternion,new Ia.Vector3,new Ia.Vector3,new Ia.Vector3;(function(){const e=new Ia.Matrix4,t=new Ia.Vector3,n=new Ia.Vector3,r=new Ia.Vector3,a=new Ia.Vector3,i=new Ia.Vector3,o=new Ia.Matrix4})(),new Ia.Matrix4,new Ia.Matrix4,new Ia.Matrix4,new Ia.Matrix4,new Ia.Matrix4,new Ia.Matrix4,new Ia.Vector3,function(){const e=new Ia.Matrix4,t=new Ia.Matrix4,n=new Ia.Matrix4,r=new Ia.Matrix4}();new Ia.Vector3,new Ia.Vector3,new Ia.Vector3;var Va=n(26499),qa=n(92666),Wa=n(60727),$a=n(82854),Ka=n(1217),Ya=n(99477);function Xa(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function Qa(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Xa(i,r,a,o,s,"next",e)}function s(e){Xa(i,r,a,o,s,"throw",e)}o(void 0)}))}}Ya.Mesh.prototype.raycast=function(e,t){if(this.geometry.boundsTree){if(void 0===this.material)return;if(Za.copy(this.matrixWorld).invert(),Ra.copy(e.ray).applyMatrix4(Za),!0===e.firstHitOnly){const n=this.geometry.boundsTree.raycastFirst(this,e,Ra);n&&t.push(n)}else this.geometry.boundsTree.raycast(this,e,Ra,t)}else Fa.call(this,e,t)};const Ja=new class{constructor(){this.cache=new Map}set(e,t){return this.cache.set(e,{gltf:t,count:0}),this.retain(e)}has(e){return this.cache.has(e)}get(e){return this.cache.get(e)}retain(e){const t=this.cache.get(e);return t.count++,t}release(e){const t=this.cache.get(e);t?(t.count--,t.count<=0&&(t.gltf.scene.traverse(Na),this.cache.delete(e))):console.error(`Releasing uncached gltf ${e}`)}},ei=new Map,ti=function(e){let t=0;const n={};return e.onmessage=t=>{const{id:r,result:a,err:i}=t.data,o=n[r];null==o?console.error(`Unknown message with ID ${r} received from ${e}.`):(delete n[r],null!=i?o.reject(new Error(i)):o.resolve(a))},function(r,a){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=t++,s=new Promise(((e,t)=>{n[o]={resolve:e,reject:t}}));return e.postMessage(Object.assign(i,{id:o,payload:r}),a),s}}(new function(){return Cr()('!function(){"use strict";var e,t,i=(e=function(e,t){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var a in i)n(i,a)&&(e[a]=i[a])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,i,n,a){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),a);else for(var r=0;r<n;r++)e[a+r]=t[i+r]},flattenChunks:function(e){var t,i,n,a,r,o;for(n=0,t=0,i=e.length;t<i;t++)n+=e[t].length;for(o=new Uint8Array(n),a=0,t=0,i=e.length;t<i;t++)r=e[t],o.set(r,a),a+=r.length;return o}},r={arraySet:function(e,t,i,n,a){for(var r=0;r<n;r++)e[a+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(i)},e(t={exports:{}},t.exports),t.exports);i.assign,i.shrinkBuf,i.setTyped,i.Buf8,i.Buf16,i.Buf32;var n=function(e,t,i,n){for(var a=65535&e|0,r=e>>>16&65535|0,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{r=r+(a=a+t[n++]|0)|0}while(--o);a%=65521,r%=65521}return a|r<<16|0},a=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}(),r=function(e,t,i,n){var r=a,o=n+i;e^=-1;for(var s=n;s<o;s++)e=e>>>8^r[255&(e^t[s])];return-1^e},o=function(e,t){var i,n,a,r,o,s,f,l,d,c,h,u,w,b,p,m,k,v,g,y,x,_,B,A,U;i=e.state,n=e.next_in,A=e.input,a=n+(e.avail_in-5),r=e.next_out,U=e.output,o=r-(t-e.avail_out),s=r+(e.avail_out-257),f=i.dmax,l=i.wsize,d=i.whave,c=i.wnext,h=i.window,u=i.hold,w=i.bits,b=i.lencode,p=i.distcode,m=(1<<i.lenbits)-1,k=(1<<i.distbits)-1;e:do{w<15&&(u+=A[n++]<<w,w+=8,u+=A[n++]<<w,w+=8),v=b[u&m];t:for(;;){if(u>>>=g=v>>>24,w-=g,0==(g=v>>>16&255))U[r++]=65535&v;else{if(!(16&g)){if(0==(64&g)){v=b[(65535&v)+(u&(1<<g)-1)];continue t}if(32&g){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}y=65535&v,(g&=15)&&(w<g&&(u+=A[n++]<<w,w+=8),y+=u&(1<<g)-1,u>>>=g,w-=g),w<15&&(u+=A[n++]<<w,w+=8,u+=A[n++]<<w,w+=8),v=p[u&k];i:for(;;){if(u>>>=g=v>>>24,w-=g,!(16&(g=v>>>16&255))){if(0==(64&g)){v=p[(65535&v)+(u&(1<<g)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(x=65535&v,w<(g&=15)&&(u+=A[n++]<<w,(w+=8)<g&&(u+=A[n++]<<w,w+=8)),(x+=u&(1<<g)-1)>f){e.msg="invalid distance too far back",i.mode=30;break e}if(u>>>=g,w-=g,x>(g=r-o)){if((g=x-g)>d&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(_=0,B=h,0===c){if(_+=l-g,g<y){y-=g;do{U[r++]=h[_++]}while(--g);_=r-x,B=U}}else if(c<g){if(_+=l+c-g,(g-=c)<y){y-=g;do{U[r++]=h[_++]}while(--g);if(_=0,c<y){y-=g=c;do{U[r++]=h[_++]}while(--g);_=r-x,B=U}}}else if(_+=c-g,g<y){y-=g;do{U[r++]=h[_++]}while(--g);_=r-x,B=U}for(;y>2;)U[r++]=B[_++],U[r++]=B[_++],U[r++]=B[_++],y-=3;y&&(U[r++]=B[_++],y>1&&(U[r++]=B[_++]))}else{_=r-x;do{U[r++]=U[_++],U[r++]=U[_++],U[r++]=U[_++],y-=3}while(y>2);y&&(U[r++]=U[_++],y>1&&(U[r++]=U[_++]))}break}}break}}while(n<a&&r<s);n-=y=w>>3,u&=(1<<(w-=y<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<a?a-n+5:5-(n-a),e.avail_out=r<s?s-r+257:257-(r-s),i.hold=u,i.bits=w},s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],c=function(e,t,n,a,r,o,c,h){var u,w,b,p,m,k,v,g,y,x=h.bits,_=0,B=0,A=0,U=0,C=0,S=0,T=0,R=0,z=0,E=0,L=null,j=0,O=new i.Buf16(16),D=new i.Buf16(16),H=null,I=0;for(_=0;_<=15;_++)O[_]=0;for(B=0;B<a;B++)O[t[n+B]]++;for(C=x,U=15;U>=1&&0===O[U];U--);if(C>U&&(C=U),0===U)return r[o++]=20971520,r[o++]=20971520,h.bits=1,0;for(A=1;A<U&&0===O[A];A++);for(C<A&&(C=A),R=1,_=1;_<=15;_++)if(R<<=1,(R-=O[_])<0)return-1;if(R>0&&(0===e||1!==U))return-1;for(D[1]=0,_=1;_<15;_++)D[_+1]=D[_]+O[_];for(B=0;B<a;B++)0!==t[n+B]&&(c[D[t[n+B]]++]=B);if(0===e?(L=H=c,k=19):1===e?(L=s,j-=257,H=f,I-=257,k=256):(L=l,H=d,k=-1),E=0,B=0,_=A,m=o,S=C,T=0,b=-1,p=(z=1<<C)-1,1===e&&z>852||2===e&&z>592)return 1;for(;;){v=_-T,c[B]<k?(g=0,y=c[B]):c[B]>k?(g=H[I+c[B]],y=L[j+c[B]]):(g=96,y=0),u=1<<_-T,A=w=1<<S;do{r[m+(E>>T)+(w-=u)]=v<<24|g<<16|y|0}while(0!==w);for(u=1<<_-1;E&u;)u>>=1;if(0!==u?(E&=u-1,E+=u):E=0,B++,0==--O[_]){if(_===U)break;_=t[n+c[B]]}if(_>C&&(E&p)!==b){for(0===T&&(T=C),m+=A,R=1<<(S=_-T);S+T<U&&!((R-=O[S+T])<=0);)S++,R<<=1;if(z+=1<<S,1===e&&z>852||2===e&&z>592)return 1;r[b=E&p]=C<<24|S<<16|m-o|0}}return 0!==E&&(r[m+E]=_-T<<24|64<<16|0),h.bits=C,0},h=-2,u=12,w=30;function b(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):h}function k(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,m(e)):h}function v(e,t){var i,n;return e&&e.state?(n=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?h:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,k(e))):h}function g(e,t){var i,n;return e?(n=new p,e.state=n,n.window=null,0!==(i=v(e,t))&&(e.state=null),i):h}var y,x,_=!0;function B(e){if(_){var t;for(y=new i.Buf32(512),x=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(c(1,e.lens,0,288,y,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;c(2,e.lens,0,32,x,0,e.work,{bits:5}),_=!1}e.lencode=y,e.lenbits=9,e.distcode=x,e.distbits=5}function A(e,t,n,a){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),a>=o.wsize?(i.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>a&&(r=a),i.arraySet(o.window,t,n-a,r,o.wnext),(a-=r)?(i.arraySet(o.window,t,n-a,a,0),o.wnext=a,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}var U={inflateReset:k,inflateReset2:v,inflateResetKeep:m,inflateInit:function(e){return g(e,15)},inflateInit2:g,inflate:function(e,t){var a,s,f,l,d,p,m,k,v,g,y,x,_,U,C,S,T,R,z,E,L,j,O,D,H=0,I=new i.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return h;(a=e.state).mode===u&&(a.mode=13),d=e.next_out,f=e.output,m=e.avail_out,l=e.next_in,s=e.input,p=e.avail_in,k=a.hold,v=a.bits,g=p,y=m,j=0;e:for(;;)switch(a.mode){case 1:if(0===a.wrap){a.mode=13;break}for(;v<16;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}if(2&a.wrap&&35615===k){a.check=0,I[0]=255&k,I[1]=k>>>8&255,a.check=r(a.check,I,2,0),k=0,v=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&k)<<8)+(k>>8))%31){e.msg="incorrect header check",a.mode=w;break}if(8!=(15&k)){e.msg="unknown compression method",a.mode=w;break}if(v-=4,L=8+(15&(k>>>=4)),0===a.wbits)a.wbits=L;else if(L>a.wbits){e.msg="invalid window size",a.mode=w;break}a.dmax=1<<L,e.adler=a.check=1,a.mode=512&k?10:u,k=0,v=0;break;case 2:for(;v<16;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}if(a.flags=k,8!=(255&a.flags)){e.msg="unknown compression method",a.mode=w;break}if(57344&a.flags){e.msg="unknown header flags set",a.mode=w;break}a.head&&(a.head.text=k>>8&1),512&a.flags&&(I[0]=255&k,I[1]=k>>>8&255,a.check=r(a.check,I,2,0)),k=0,v=0,a.mode=3;case 3:for(;v<32;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}a.head&&(a.head.time=k),512&a.flags&&(I[0]=255&k,I[1]=k>>>8&255,I[2]=k>>>16&255,I[3]=k>>>24&255,a.check=r(a.check,I,4,0)),k=0,v=0,a.mode=4;case 4:for(;v<16;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}a.head&&(a.head.xflags=255&k,a.head.os=k>>8),512&a.flags&&(I[0]=255&k,I[1]=k>>>8&255,a.check=r(a.check,I,2,0)),k=0,v=0,a.mode=5;case 5:if(1024&a.flags){for(;v<16;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}a.length=k,a.head&&(a.head.extra_len=k),512&a.flags&&(I[0]=255&k,I[1]=k>>>8&255,a.check=r(a.check,I,2,0)),k=0,v=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&((x=a.length)>p&&(x=p),x&&(a.head&&(L=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),i.arraySet(a.head.extra,s,l,x,L)),512&a.flags&&(a.check=r(a.check,s,x,l)),p-=x,l+=x,a.length-=x),a.length))break e;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(0===p)break e;x=0;do{L=s[l+x++],a.head&&L&&a.length<65536&&(a.head.name+=String.fromCharCode(L))}while(L&&x<p);if(512&a.flags&&(a.check=r(a.check,s,x,l)),p-=x,l+=x,L)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(0===p)break e;x=0;do{L=s[l+x++],a.head&&L&&a.length<65536&&(a.head.comment+=String.fromCharCode(L))}while(L&&x<p);if(512&a.flags&&(a.check=r(a.check,s,x,l)),p-=x,l+=x,L)break e}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;v<16;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}if(k!==(65535&a.check)){e.msg="header crc mismatch",a.mode=w;break}k=0,v=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=u;break;case 10:for(;v<32;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}e.adler=a.check=b(k),k=0,v=0,a.mode=11;case 11:if(0===a.havedict)return e.next_out=d,e.avail_out=m,e.next_in=l,e.avail_in=p,a.hold=k,a.bits=v,2;e.adler=a.check=1,a.mode=u;case u:if(5===t||6===t)break e;case 13:if(a.last){k>>>=7&v,v-=7&v,a.mode=27;break}for(;v<3;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}switch(a.last=1&k,v-=1,3&(k>>>=1)){case 0:a.mode=14;break;case 1:if(B(a),a.mode=20,6===t){k>>>=2,v-=2;break e}break;case 2:a.mode=17;break;case 3:e.msg="invalid block type",a.mode=w}k>>>=2,v-=2;break;case 14:for(k>>>=7&v,v-=7&v;v<32;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}if((65535&k)!=(k>>>16^65535)){e.msg="invalid stored block lengths",a.mode=w;break}if(a.length=65535&k,k=0,v=0,a.mode=15,6===t)break e;case 15:a.mode=16;case 16:if(x=a.length){if(x>p&&(x=p),x>m&&(x=m),0===x)break e;i.arraySet(f,s,l,x,d),p-=x,l+=x,m-=x,d+=x,a.length-=x;break}a.mode=u;break;case 17:for(;v<14;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}if(a.nlen=257+(31&k),k>>>=5,v-=5,a.ndist=1+(31&k),k>>>=5,v-=5,a.ncode=4+(15&k),k>>>=4,v-=4,a.nlen>286||a.ndist>30){e.msg="too many length or distance symbols",a.mode=w;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;v<3;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}a.lens[N[a.have++]]=7&k,k>>>=3,v-=3}for(;a.have<19;)a.lens[N[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,O={bits:a.lenbits},j=c(0,a.lens,0,19,a.lencode,0,a.work,O),a.lenbits=O.bits,j){e.msg="invalid code lengths set",a.mode=w;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;S=(H=a.lencode[k&(1<<a.lenbits)-1])>>>16&255,T=65535&H,!((C=H>>>24)<=v);){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}if(T<16)k>>>=C,v-=C,a.lens[a.have++]=T;else{if(16===T){for(D=C+2;v<D;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}if(k>>>=C,v-=C,0===a.have){e.msg="invalid bit length repeat",a.mode=w;break}L=a.lens[a.have-1],x=3+(3&k),k>>>=2,v-=2}else if(17===T){for(D=C+3;v<D;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}v-=C,L=0,x=3+(7&(k>>>=C)),k>>>=3,v-=3}else{for(D=C+7;v<D;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}v-=C,L=0,x=11+(127&(k>>>=C)),k>>>=7,v-=7}if(a.have+x>a.nlen+a.ndist){e.msg="invalid bit length repeat",a.mode=w;break}for(;x--;)a.lens[a.have++]=L}}if(a.mode===w)break;if(0===a.lens[256]){e.msg="invalid code -- missing end-of-block",a.mode=w;break}if(a.lenbits=9,O={bits:a.lenbits},j=c(1,a.lens,0,a.nlen,a.lencode,0,a.work,O),a.lenbits=O.bits,j){e.msg="invalid literal/lengths set",a.mode=w;break}if(a.distbits=6,a.distcode=a.distdyn,O={bits:a.distbits},j=c(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,O),a.distbits=O.bits,j){e.msg="invalid distances set",a.mode=w;break}if(a.mode=20,6===t)break e;case 20:a.mode=21;case 21:if(p>=6&&m>=258){e.next_out=d,e.avail_out=m,e.next_in=l,e.avail_in=p,a.hold=k,a.bits=v,o(e,y),d=e.next_out,f=e.output,m=e.avail_out,l=e.next_in,s=e.input,p=e.avail_in,k=a.hold,v=a.bits,a.mode===u&&(a.back=-1);break}for(a.back=0;S=(H=a.lencode[k&(1<<a.lenbits)-1])>>>16&255,T=65535&H,!((C=H>>>24)<=v);){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}if(S&&0==(240&S)){for(R=C,z=S,E=T;S=(H=a.lencode[E+((k&(1<<R+z)-1)>>R)])>>>16&255,T=65535&H,!(R+(C=H>>>24)<=v);){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}k>>>=R,v-=R,a.back+=R}if(k>>>=C,v-=C,a.back+=C,a.length=T,0===S){a.mode=26;break}if(32&S){a.back=-1,a.mode=u;break}if(64&S){e.msg="invalid literal/length code",a.mode=w;break}a.extra=15&S,a.mode=22;case 22:if(a.extra){for(D=a.extra;v<D;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}a.length+=k&(1<<a.extra)-1,k>>>=a.extra,v-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;S=(H=a.distcode[k&(1<<a.distbits)-1])>>>16&255,T=65535&H,!((C=H>>>24)<=v);){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}if(0==(240&S)){for(R=C,z=S,E=T;S=(H=a.distcode[E+((k&(1<<R+z)-1)>>R)])>>>16&255,T=65535&H,!(R+(C=H>>>24)<=v);){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}k>>>=R,v-=R,a.back+=R}if(k>>>=C,v-=C,a.back+=C,64&S){e.msg="invalid distance code",a.mode=w;break}a.offset=T,a.extra=15&S,a.mode=24;case 24:if(a.extra){for(D=a.extra;v<D;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}a.offset+=k&(1<<a.extra)-1,k>>>=a.extra,v-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg="invalid distance too far back",a.mode=w;break}a.mode=25;case 25:if(0===m)break e;if(x=y-m,a.offset>x){if((x=a.offset-x)>a.whave&&a.sane){e.msg="invalid distance too far back",a.mode=w;break}x>a.wnext?(x-=a.wnext,_=a.wsize-x):_=a.wnext-x,x>a.length&&(x=a.length),U=a.window}else U=f,_=d-a.offset,x=a.length;x>m&&(x=m),m-=x,a.length-=x;do{f[d++]=U[_++]}while(--x);0===a.length&&(a.mode=21);break;case 26:if(0===m)break e;f[d++]=a.length,m--,a.mode=21;break;case 27:if(a.wrap){for(;v<32;){if(0===p)break e;p--,k|=s[l++]<<v,v+=8}if(y-=m,e.total_out+=y,a.total+=y,y&&(e.adler=a.check=a.flags?r(a.check,f,y,d-y):n(a.check,f,y,d-y)),y=m,(a.flags?k:b(k))!==a.check){e.msg="incorrect data check",a.mode=w;break}k=0,v=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;v<32;){if(0===p)break e;p--,k+=s[l++]<<v,v+=8}if(k!==(4294967295&a.total)){e.msg="incorrect length check",a.mode=w;break}k=0,v=0}a.mode=29;case 29:j=1;break e;case w:j=-3;break e;case 31:return-4;default:return h}return e.next_out=d,e.avail_out=m,e.next_in=l,e.avail_in=p,a.hold=k,a.bits=v,(a.wsize||y!==e.avail_out&&a.mode<w&&(a.mode<27||4!==t))&&A(e,e.output,e.next_out,y-e.avail_out)?(a.mode=31,-4):(g-=e.avail_in,y-=e.avail_out,e.total_in+=g,e.total_out+=y,a.total+=y,a.wrap&&y&&(e.adler=a.check=a.flags?r(a.check,f,y,e.next_out-y):n(a.check,f,y,e.next_out-y)),e.data_type=a.bits+(a.last?64:0)+(a.mode===u?128:0)+(20===a.mode||15===a.mode?256:0),(0===g&&0===y||4===t)&&0===j&&(j=-5),j)},inflateEnd:function(e){if(!e||!e.state)return h;var t=e.state;return t.window&&(t.window=null),e.state=null,0},inflateGetHeader:function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?h:(i.head=t,t.done=!1,0):h},inflateSetDictionary:function(e,t){var i,a=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?h:11===i.mode&&n(1,t,a,0)!==i.check?-3:A(e,t,a,a)?(i.mode=31,-4):(i.havedict=1,0):h},inflateInfo:"pako inflate (from Nodeca project)"},C=!0,S=!0;try{String.fromCharCode.apply(null,[0])}catch(e){C=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){S=!1}for(var T=new i.Buf8(256),R=0;R<256;R++)T[R]=R>=252?6:R>=248?5:R>=240?4:R>=224?3:R>=192?2:1;T[254]=T[254]=1;var z=function(e){var t,n,a,r,o,s=e.length,f=0;for(r=0;r<s;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<s&&56320==(64512&(a=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(a-56320),r++),f+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(f),o=0,r=0;o<f;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<s&&56320==(64512&(a=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(a-56320),r++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},E=function(e,t){var n,a,r,o,s=t||e.length,f=new Array(2*s);for(a=0,n=0;n<s;)if((r=e[n++])<128)f[a++]=r;else if((o=T[r])>4)f[a++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<s;)r=r<<6|63&e[n++],o--;o>1?f[a++]=65533:r<65536?f[a++]=r:(r-=65536,f[a++]=55296|r>>10&1023,f[a++]=56320|1023&r)}return function(e,t){if(t<65537&&(e.subarray&&S||!e.subarray&&C))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}(f,a)},L=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+T[e[i]]>t?i:t},j={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},O=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},D=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},H=Object.prototype.toString;function I(e){if(!(this instanceof I))return new I(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O,this.strm.avail_out=0;var n=U.inflateInit2(this.strm,t.windowBits);if(0!==n)throw new Error(j[n]);this.header=new D,U.inflateGetHeader(this.strm,this.header)}function N(e,t){var i=new I(t);if(i.push(e,!0),i.err)throw i.msg||j[i.err];return i.result}I.prototype.push=function(e,t){var n,a,r,o,s,f,l=this.strm,d=this.options.chunkSize,c=this.options.dictionary,h=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?l.input=function(e){for(var t=new i.Buf8(e.length),n=0,a=t.length;n<a;n++)t[n]=e.charCodeAt(n);return t}(e):"[object ArrayBuffer]"===H.call(e)?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new i.Buf8(d),l.next_out=0,l.avail_out=d),2===(n=U.inflate(l,0))&&c&&(f="string"==typeof c?z(c):"[object ArrayBuffer]"===H.call(c)?new Uint8Array(c):c,n=U.inflateSetDictionary(this.strm,f)),-5===n&&!0===h&&(n=0,h=!1),1!==n&&0!==n)return this.onEnd(n),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&1!==n&&(0!==l.avail_in||4!==a&&2!==a)||("string"===this.options.to?(r=L(l.output,l.next_out),o=l.next_out-r,s=E(l.output,r),l.next_out=o,l.avail_out=d-o,o&&i.arraySet(l.output,l.output,r,o,0),this.onData(s)):this.onData(i.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(h=!0)}while((l.avail_in>0||0===l.avail_out)&&1!==n);return 1===n&&(a=4),4===a?(n=U.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),l.avail_out=0,!0)},I.prototype.onData=function(e){this.chunks.push(e)},I.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var J={Inflate:I,inflate:N,inflateRaw:function(e,t){return(t=t||{}).raw=!0,N(e,t)},ungzip:N},P=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataView=new DataView(t),this.position=0}return e.prototype.skip=function(e){this.position+=e},e.prototype.readBytes=function(e){var t=4===e?"getUint32":2===e?"getUint16":"getUint8",i=this.position;return this.position+=e,this.dataView[t](i,!0)},e}(),$=function(e){for(var t=new P(e),i={};;){var n=t.readBytes(4);if(67324752!==n){if(33639248!==n)break;M(t)}else{var a=G(t);i[a.name]={buffer:a.buffer}}}return i},G=function(e){var t=0,i=void 0;e.skip(4);var n=e.readBytes(2);e.skip(8);var a=e.readBytes(4);e.skip(4);var r=e.readBytes(2),o=e.readBytes(2),s=[],f=new Uint8Array(a);for(t=0;t<r;t++)s.push(String.fromCharCode(e.readBytes(1)));for(e.skip(o),t=0;t<a;t++)f[t]=e.readBytes(1);switch(n){case 0:i=f;break;case 8:i=new Uint8Array(J.inflate(f,{raw:!0}));break;default:console.log(s.join("")+": unsupported compression type"),i=f}return{name:s.join(""),buffer:i}},M=function(e){e.skip(24);var t=e.readBytes(2),i=e.readBytes(2),n=e.readBytes(2);e.skip(12),e.skip(t),e.skip(i),e.skip(n)},V="function"==typeof Promise?Promise:function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(){};return t((function(){i()})),{then:function(e){i=e}}},q=0,F=void 0,K=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=q,this._listeners={},this.url=t,this.files=null,q++}return e.unzip=function(t){return new V((function(i){var n=new e,a=new FileReader;a.onload=function(e){var t=e.target.result;n.files=$(t),i(n)},t instanceof Blob&&a.readAsArrayBuffer(t)}))},e.prototype.load=function(){var e=this;return new V((function(t){var i=Date.now(),n=new XMLHttpRequest;n.open("GET",e.url,!0),n.responseType="arraybuffer",n.onprogress=function(t){e.dispatch({type:"progress",loaded:t.loaded,total:t.total,elapsedTime:Date.now()-i})},n.onload=function(){e.files=$(n.response),e.dispatch({type:"load",elapsedTime:Date.now()-i}),t()},n.send()}))},e.prototype.extractAsBlobUrl=function(e,t){if(this.files[e].url)return this.files[e].url;var i=new Blob([this.files[e].buffer],{type:t});return this.files[e].url=URL.createObjectURL(i),this.files[e].url},e.prototype.extractAsText=function(e){var t=this.files[e].buffer;if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var i="",n=0,a=t.length;n<a;n++)i+=String.fromCharCode(t[n]);return decodeURIComponent(escape(i))},e.prototype.extractAsJSON=function(e){return JSON.parse(this.extractAsText(e))},e.prototype.loadThreeJSON=function(e){var t=this,i=this.extractAsJSON(e),n=e.replace(/\\/.+\\.json$/,"/"),a="__ziploader_"+this._id+"__",r=new RegExp(a);return-1!==!F.Loader.Handlers.handlers.indexOf(r)&&F.Loader.Handlers.add(r,{load:function(e){return t.loadThreeTexture(e.replace(r,""))}}),F.JSONLoader.prototype.parse(i,a+n)},e.prototype.loadThreeTexture=function(e){var t=new F.Texture,i=/\\.jpg$/.test(e)?"image/jpeg":/\\.png$/.test(e)?"image/png":/\\.gif$/.test(e)?"image/gif":void 0,n=new Blob([this.files[e].buffer],{type:i});return t.image=new Image,t.image.addEventListener("load",(function e(){t.needsUpdate=!0,t.image.removeEventListener("load",e),URL.revokeObjectURL(t.image.src)})),t.image.src=URL.createObjectURL(n),t},e.prototype.on=function(e,t){this._listeners[e]||(this._listeners[e]=[]),-1===this._listeners[e].indexOf(t)&&this._listeners[e].push(t)},e.prototype.off=function(e,t){var i=this._listeners[e];if(i){var n=i.indexOf(t);-1!==n&&i.splice(n,1)}},e.prototype.dispatch=function(e){var t=this._listeners[e.type];if(t){e.target=this;for(var i=t.length,n=0;n<i;n++)t[n].call(this,e)}},e.prototype.clear=function(e){if(e)return URL.revokeObjectURL(this.files[e].url),void delete this.files[e];for(var t in this.files)URL.revokeObjectURL(this.files[t].url);if(delete this.files,F){var i="__ziploader_"+this._id+"__";F.Loader.Handlers.handlers.some((function(e,t){if(e instanceof RegExp&&e.source===i)return F.Loader.Handlers.handlers.splice(t,2),!0}))}},e.install=function(e){e.THREE&&(F=e.THREE)},e}();function X(e,t,i,n,a,r,o){try{var s=e[r](o),f=s.value}catch(e){return void i(e)}s.done?t(f):Promise.resolve(f).then(n,a)}function Q(e){return function(){var t=this,i=arguments;return new Promise((function(n,a){var r=e.apply(t,i);function o(e){X(r,n,a,o,s,"next",e)}function s(e){X(r,n,a,o,s,"throw",e)}o(void 0)}))}}function W(){return(W=Q((function*(e){const t=new K(e);return t.load().then((()=>{const e={},i=i=>(e[i]=e[i]||t.extractAsBlobUrl(i),e[i]),n=JSON.parse(t.extractAsText("scene.gltf"));return n.buffers&&n.buffers.forEach((e=>e.uri=i(e.uri))),n.images&&n.images.forEach((e=>e.uri=i(e.uri))),e["scene.gtlf"]=URL.createObjectURL(new Blob([JSON.stringify(n,null,2)],{type:"text/plain"})),e}))}))).apply(this,arguments)}self.onmessage=function(){var e=Q((function*(e){try{const t=yield function(e){return W.apply(this,arguments)}(e.data.payload);self.postMessage({id:e.data.id,result:t})}catch(t){self.postMessage({id:e.data.id,err:t.message})}}));return function(t){return e.apply(this,arguments)}}()}();\n',"Worker",void 0,void 0)});function ni(e,t,n){if(AFRAME.components[t])if(AFRAME.components[t].multiple&&Array.isArray(n))for(let r=0;r<n.length;r++)e.setAttribute(t+"__"+r,n[r]);else e.setAttribute(t,n);else console.warn(`Inflator failed. "${t}" component does not exist.`)}function ri(e){return{animations:e.scene.animations,scene:Ha(e.scene)}}function ai(e){const t=e.userData.gltfExtensions&&(e.userData.gltfExtensions.MOZ_hubs_components||e.userData.gltfExtensions.HUBS_components),n=e.userData.components;return t||n}function ii(e){const t=e.material;return t?ai(t):null}AFRAME.GLTFModelPlus={components:{},registerComponent(e,t,n){n=n||ni,AFRAME.GLTFModelPlus.components[e]={inflator:n,componentName:t}}};const oi=function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;"Chest"===t.name?t.name="Spine":"Root Scene"===t.name?t.name="AvatarRoot":"Bot_Skinned"===t.name&&(t.name="AvatarMesh");const i=[],o=t.children.slice(0);for(const t of o){const r=oi(e,t,n);r&&i.push(r)}const s=ai(t),l=ii(t),u=!!s||!!l||t.name in n;if(!u&&!i.length&&!r)return null;const c=document.createElement("a-entity");c.append.apply(c,i);const d=(t.name||t.uuid).replace(/[^\w-]/g,"");c.classList.add(d),"YXZ"!==t.rotation.order&&t.rotation.setFromQuaternion(t.quaternion,"YXZ"),c.object3D.position.copy(t.position),c.object3D.rotation.copy(t.rotation),c.object3D.scale.copy(t.scale).multiplyScalar(a),c.object3D.matrixNeedsUpdate=!0,t.matrixAutoUpdate=!1,t.matrix.identity(),t.matrix.decompose(t.position,t.rotation,t.scale),c.setObject3D(t.type.toLowerCase(),t),s&&"nav-mesh"in s&&c.setObject3D("mesh",t),c.object3D.name=t.name,c.object3D.uuid=t.uuid,t.uuid=Ya.MathUtils.generateUUID(),t.animations&&(t.parent.animations=t.animations),t.morphTargetInfluences&&(t.parent.morphTargetInfluences=t.morphTargetInfluences);const h=t.userData.gltfIndex;return void 0!==h&&(e[h]=c),c};function si(){return si=Qa((function*(e,t){let n=!0;const r=[];e.object3D.traverse(function(){var e=Qa((function*(e){const a={};a.promise=new Promise((e=>a.resolve=e)),r.push(a),n||(yield r.shift().promise),n=!1;const i=ai(e),o=e.el;function s(e){for(const n in e){const r=e[n];"node"===(null==r?void 0:r.__mhc_link_type)&&void 0!==r.index&&(t[r.index]?e[n]=t[r.index].object3D:(console.warn("inflateComponents: invalid node reference",n),e[n]=null))}return e}if(i&&o)for(const e in i)if(i.hasOwnProperty(e)&&AFRAME.GLTFModelPlus.components.hasOwnProperty(e)){const{componentName:n,inflator:r}=AFRAME.GLTFModelPlus.components[e];yield r(o,n,s(i[e]),i,t)}const l=ii(e);if(l&&o)for(const e in l)if(l.hasOwnProperty(e)&&AFRAME.GLTFModelPlus.components.hasOwnProperty(e)){const{componentName:n,inflator:r}=AFRAME.GLTFModelPlus.components[e];yield r(o,n,s(l[e]),l,t)}a.resolve()}));return function(t){return e.apply(this,arguments)}}()),yield r.shift().promise})),si.apply(this,arguments)}function li(e,t,n){const r=e.querySelectorAll("."+t);for(const e of r){const t=n.cloneNode(!0);for(const{name:n,value:r}of t.attributes)e.setAttribute(n,r);for(;t.children.length>0;)e.appendChild(t.children[0])}}function ui(e){return e.extensions&&e.extensions.MOZ_hubs_components?e.extensions.MOZ_hubs_components:e.extensions&&e.extensions.HUBS_components?e.extensions.HUBS_components:e.extras&&e.extras.gltfExtensions&&e.extras.gltfExtensions.MOZ_hubs_components?e.extras.gltfExtensions.MOZ_hubs_components:void 0}let ci,di;class hi{constructor(e,t){this.parser=e,this.jsonPreprocessor=t,e.textureLoader=new Zt(e.options.manager)}beforeRoot(){const e=this.parser,t=this.jsonPreprocessor;t&&(e.json=t(e.json));let n=0;e.json.extensions&&e.json.extensions.MOZ_hubs_components&&e.json.extensions.MOZ_hubs_components.hasOwnProperty("version")&&(n=e.json.extensions.MOZ_hubs_components.version),function(e,t){if(e<2){const e=t.nodes.find((e=>{const t=ui(e);return t&&t.heightfield&&t["nav-mesh"]}));e&&(e.extensions&&e.extensions.MOZ_hubs_components?delete e.extensions.MOZ_hubs_components.heightfield:e.extensions&&e.extensions.HUBS_components?delete e.extensions.HUBS_components.heightfield:e.extras&&e.extras.gltfExtensions&&e.extras.gltfExtensions.MOZ_hubs_components&&delete e.extras.gltfExtensions.MOZ_hubs_components)}if(e<4&&t.nodes)for(const e of t.nodes){const t=ui(e);if(!t)continue;const n=t["spot-light"]||t["point-light"];n&&0===n.range&&(n.decay=0)}}(n,e.json);const r=e.json.nodes;if(r)for(let e=0;e<r.length;e++){const t=r[e];t.extras||(t.extras={}),t.extras.gltfIndex=e}}afterRoot(e){if(e.scene.traverse((e=>{e.matrixAutoUpdate=Ya.Object3D.DefaultMatrixAutoUpdate;const t=window.APP.store.state.preferences.materialQualitySetting;Mt(e,(e=>{return r=t,(n=e).isMeshStandardMaterial?"medium"===r?Tt.fromMeshStandardMaterial(n):"low"===r?Ct.fromMeshStandardMaterial(n):n:n;var n,r}))})),e.animations)for(const t of e.animations)for(const n of t.tracks){const t=Ya.PropertyBinding.parseTrackName(n.name);for(const r of e.scenes){const e=Ya.PropertyBinding.findNode(r,t.nodeName);if(e){n.name=n.name.replace(/^[^.]*\./,e.uuid+".");break}}}e.scene.animations=e.animations}}class fi{constructor(e){this.parser=e,this.name="MOZ_hubs_components"}afterRoot(e){let{scenes:t,parser:n}=e;const r=[],a=(e,t)=>{var a,i;const o=null===(a=n.associations.get(t))||void 0===a?void 0:a[e];if(void 0===o)return;const s=null===(i=n.json[e][o].extensions)||void 0===i?void 0:i[this.name];if(s){t.userData.gltfExtensions=Object.assign(t.userData.gltfExtensions||{},{MOZ_hubs_components:s});for(const e in s){const t=s[e];for(const e in t){const a=t[e],i=null==a?void 0:a.__mhc_link_type;i&&void 0!==a.index&&r.push(n.getDependency(i,a.index).then((r=>{var o;if("node"!==i)return"texture"!==i||null!==(o=n.json.textures[a.index].extensions)&&void 0!==o&&o.MOZ_texture_rgbe||(r.encoding=Ya.sRGBEncoding),t[e]=r,r})))}}}};for(let e=0;e<t.length;e++)n.associations.set(t[e],{scenes:e}),t[e].traverse((e=>{var t,n;a("scenes",e),a("nodes",e),t=e,n=a.bind(this,"materials"),!t.material||(Array.isArray(t.material)?t.material.map(n):n(t.material))}));return Promise.all(r)}}class pi{constructor(e){this.parser=e,this.name="MOZ_lightmap"}loadMaterial(e){const t=this.parser,n=t.json.materials[e];if(!n.extensions||!n.extensions[this.name])return null;const r=n.extensions[this.name],a=[];return a.push(t.loadMaterial(e)),a.push(t.getDependency("texture",r.index)),Promise.all(a).then((e=>{const t=e[0],n=e[1];return t.lightMap=n,t.lightMapIntensity=void 0!==r.intensity?r.intensity:1,t.isMeshBasicMaterial&&(t.lightMapIntensity*=Math.PI),t}))}}class mi{constructor(e){this.parser=e,this.name="MOZ_HUBS_texture_basis",this.basisLoader=null}loadTexture(e){const t=this.parser,n=t.json.textures[e];if(!n.extensions||!n.extensions[this.name])return null;if(null===this.basisLoader&&(this.basisLoader=new Wa.g(t.options.manager).detectSupport(AFRAME.scenes[0].renderer)),!this.basisLoader)return null;console.warn(`The ${this.name} extension is deprecated, you should use KHR_texture_basisu instead.`);const r=n.extensions[this.name].source;return t.loadTextureImage(e,r,this.basisLoader)}}class gi{constructor(e,t){this.parser=e,this.loader=t,this.name="MOZ_texture_rgbe"}loadTexture(e){const t=this.parser,n=t.json.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const r=n.extensions[this.name].source;return t.loadTextureImage(e,r,this.loader).then((e=>(e.minFilter==Ya.NearestMipmapNearestFilter||e.minFilter==Ya.NearestMipmapLinearFilter?e.minFilter=Ya.NearestFilter:e.minFilter!=Ya.LinearMipmapNearestFilter&&e.minFilter!=Ya.LinearMipmapLinearFilter||(e.minFilter=Ya.LinearFilter),e)))}}function vi(e,t,n,r){return yi.apply(this,arguments)}function yi(){return(yi=Qa((function*(e,t,n,r){let a,i=e;t&&(t.includes("model/gltf+zip")||t.includes("application/x-zip-compressed"))&&(a=yield ti(i),i=a["scene.gtlf"]);const o=new Ya.LoadingManager;o.setURLModifier(zn(i));const s=new Ka.E(o);return s.register((e=>new fi(e))).register((e=>new hi(e,r))).register((e=>new pi(e))).register((e=>new mi(e))).register((e=>new gi(e,(new qa.x).setDataType(Ya.HalfFloatType)))),!ci&&AFRAME&&AFRAME.scenes&&AFRAME.scenes[0]&&(ci=new Va.a(o).detectSupport(AFRAME.scenes[0].renderer)),!di&&AFRAME&&AFRAME.scenes&&AFRAME.scenes[0]&&(di=new $a._(o)),ci&&s.setKTX2Loader(ci),di&&s.setDRACOLoader(di),new Promise(((e,t)=>{s.load(i,e,n,t)})).finally((()=>{a&&Object.keys(a).forEach(URL.revokeObjectURL)}))}))).apply(this,arguments)}function bi(e){return wi.apply(this,arguments)}function wi(){return wi=Qa((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(console.log(`Loading model ${e}`),n){if(Ja.has(e))return Ja.retain(e),ri(Ja.get(e).gltf);if(ei.has(e)){const t=yield ei.get(e);return Ja.retain(e),ri(t)}{const n=vi(e,t,null,r);ei.set(e,n);const a=yield n;return ei.delete(e),Ja.set(e,a),ri(a)}}return vi(e,t,null,r)})),wi.apply(this,arguments)}function xi(e){if(e&&"#"===e.charAt(0)){const t=document.getElementById(e.substring(1));if(t)return t.getAttribute("src")}return e}AFRAME.registerComponent("gltf-model-plus",{schema:{src:{type:"string"},contentType:{type:"string"},useCache:{default:!0},inflate:{default:!1},modelToWorldScale:{type:"number",default:1}},init(){this.jsonPreprocessor=null,this.loadTemplates()},play(){this.el.components["listed-media"]&&this.el.sceneEl.emit("listed_media_changed")},update(){this.applySrc(xi(this.data.src),this.data.contentType)},remove(){if(this.data.useCache){const e=xi(this.data.src);e&&Ja.release(e)}},loadTemplates(){this.templates={},this.el.querySelectorAll(":scope > template").forEach((e=>{const t=document.importNode(e.firstElementChild||e.content.firstElementChild,!0);this.templates[e.getAttribute("data-name")]=t}))},applySrc(e,t){var n=this;return Qa((function*(){try{if(e===n.lastSrc)return;const r=n.lastSrc;if(n.lastSrc=e,!e)return void(n.inflatedEl&&(console.warn("gltf-model-plus set to an empty source, unloading inflated model."),n.disposeLastInflatedEl()));n.el.emit("model-loading");const a=yield bi(e,t,n.data.useCache,n.jsonPreprocessor);if(e!=n.lastSrc)return;n.disposeLastInflatedEl(),n.model=a.scene,a.animations.length>0?(n.el.setAttribute("animation-mixer",{}),n.el.components["animation-mixer"].initMixer(n.model.animations)):n.model.traverse((e=>{const t=e.isMesh&&e.geometry.isBufferGeometry,n=t&&e.geometry.boundsTree;if(t&&!n&&e.geometry.attributes.position){const t=e.geometry;if(t.attributes.position.isInterleavedBufferAttribute||t.index&&t.index.isInterleavedBufferAttribute)return void console.warn("Skipping generaton of MeshBVH for interleaved geoemtry as it is not supported");const n=t.index?t.index.count/3:t.attributes.position.count/3;n>1e3&&n<1e6&&(t.boundsTree=new Oa(e.geometry,{strategy:0,maxDepth:30}))}}));const i={};let o=n.model;if(n.data.inflate&&(n.inflatedEl=oi(i,n.model,n.templates,!0,n.data.modelToWorldScale))){if(n.el.appendChild(n.inflatedEl),o=n.inflatedEl.object3D,o.visible=!1,yield new Promise((e=>{setTimeout(e,0)})),e!=n.lastSrc)return;yield function(e,t){return si.apply(this,arguments)}(n.inflatedEl,i);for(const e in n.templates)li(n.el,e,n.templates[e])}const s=[];o.traverse((e=>{const t=e.el;t&&s.push((()=>e.el=t))})),r&&n.data.useCache&&Ja.release(r),n.el.setObject3D("mesh",o),s.forEach((e=>e())),o.visible=!0,n.el.emit("model-loaded",{format:"gltf",model:o})}catch(t){Ja.release(e),console.error("Failed to load glTF model",t,n),n.el.emit("model-error",{format:"gltf",src:e})}}))()},disposeLastInflatedEl(){this.inflatedEl&&(this.inflatedEl.parentNode.removeChild(this.inflatedEl),this.inflatedEl.object3D.traverse((e=>{e.material&&e.material.dispose&&e.material.dispose(),e.geometry&&(e.geometry.dispose&&e.geometry.dispose(),e.geometry.boundsTree=null)})),delete this.inflatedEl,this.el.removeAttribute("animation-mixer"))}}),n(92179),n(57886),n(89684);var Li=n(99477);AFRAME.registerComponent("loop-animation",{schema:{paused:{type:"boolean",default:!1},clip:{type:"string",default:""},activeClipIndex:{type:"int",default:0},activeClipIndices:{type:"array"}},init(){this.mixerEl=ae(this.el,"animation-mixer"),this.currentActions=[],this.mixerEl||console.warn("loop-animation component could not find an animation-mixer in its ancestors.")},update(e){if(this.mixerEl&&(e.clip===this.data.clip&&e.activeClipIndex===this.data.activeClipIndex||this.updateClip(),e.paused!==this.data.paused))for(let e=0;e<this.currentActions.length;e++)this.currentActions[e].paused=this.data.paused},updateClip(){const{mixer:e,animations:t}=this.mixerEl.components["animation-mixer"],{clip:n,activeClipIndex:r}=this.data,{activeClipIndices:a}=this.data;if(0===t.length)return;let i=[];if(a&&a.length>0)i=a.map((e=>t[e]));else if(""!==n){const e=n.split(",");for(let n=0;n<e.length;n++){const r=e[n],a=t.find((e=>{let{name:t}=e;return t===r}));a?i.push(a):console.warn(`Could not find animation named '${r}' in ${this.el.className}`)}}else i=[t[r]];if(i&&i.length){this.currentActions.length=0;for(let t=0;t<i.length;t++){const n=e.clipAction(i[t],this.el.object3D);n.enabled=!0,n.setLoop(Li.LoopRepeat,1/0).play(),this.currentActions.push(n)}}},destroy(){for(let e=0;e<this.currentActions.length;e++)this.currentActions[e].enabled=!1,this.currentActions[e].stop();this.currentActions.length=0}});var ki=n(99477);const Si=new Map,Ai=[];AFRAME.registerComponent("uv-scroll",{schema:{speed:{type:"vec2",default:{x:0,y:0}},increment:{type:"vec2",default:{x:0,y:0}}},play(){const e=this.el.getObject3D("mesh")||this.el.getObject3D("skinnedmesh"),t=e&&e.material;if(t){const n={component:this,mesh:e};this.instance=n,this.map=t.map||t.emissiveMap,this.map&&!Si.has(this.map)?(Si.set(this.map,{offset:new ki.Vector2,instances:[n]}),Ai.push(this.map)):this.map?(console.warn("Multiple uv-scroll instances added to objects sharing a texture, only the speed/increment from the first one will have any effect"),Si.get(this.map).instances.push(n)):console.warn("Ignoring uv-scroll added to mesh with no scrollable texture.")}},pause(){if(this.map){const e=Si.get(this.map).instances;e.splice(e.indexOf(this.instance),1),e.length||(Si.delete(this.map),Ai.splice(Ai.indexOf(this.map),1))}}});var _i=n(99477);new _i.Box3(new _i.Vector3(-.001,-.001,-.001),new _i.Vector3(.001,.001,.001));const Ei=(new _i.Vector3,new _i.Matrix4,new _i.Matrix4,function(){const e=new _i.Box3;return function(t,n,r){return n.makeEmpty(),t.updateMatrices(),t.traverse((a=>{if(r&&!function(e,t){let n=e;for(;n;){if(n===t)return!0;if(!n.visible)return!1;n=n.parent}return console.error(`Root ${t} is not an ancestor of node ${e}`),!1}(a,t))return;a.updateMatrices();const i=a.geometry;null!=i&&(null==i.boundingBox&&i.computeBoundingBox(),n.union(e.copy(i.boundingBox).applyMatrix4(a.matrixWorld)))})),n}}()),Mi=new _i.Euler;function Ci(e,t,n){const r=new _i.Box3;return Mi.copy(e.object3D.rotation),e.object3D.rotation.set(0,0,0),e.object3D.updateMatrices(!0,!0),t.updateMatrices(!0,!0),t.updateMatrixWorld(!0),Ei(t,r,!1),r.isEmpty()||(n||(e.object3D.worldToLocal(r.min),e.object3D.worldToLocal(r.max)),e.object3D.rotation.copy(Mi),e.object3D.matrixNeedsUpdate=!0),t.matrixWorldNeedsUpdate=!0,t.updateMatrices(),r}function Ti(e,t){if(t.isEmpty())return 1;const{max:n,min:r}=t,a=Math.abs(n.x-r.x),i=Math.abs(n.y-r.y),o=Math.abs(n.z-r.z);return e/Math.max(a,i,o)}var Di=n.p+"src/assets/models\\LoadingObject_Atom-be9548cf39e6a9f498ea..glb";n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p;const Pi=Object.freeze({MEDIA_VIDEO:0,AVATAR_AUDIO_SOURCE:1,SFX:2,AUDIO_TARGET:3,AUDIO_ZONE:4}),Oi="stereo",Ri="pannernode",Zi="linear",Fi="inverse",Ii=Object.freeze({HRTF:"HRTF",EqualPower:"equalpower"}),Ui=Object.freeze({audioType:Ri,distanceModel:Fi,panningModel:Ii.HRTF,rolloffFactor:5,refDistance:5,maxDistance:1e4,coneInnerAngle:180,coneOuterAngle:360,coneOuterGain:.9,gain:1}),Ni=Object.freeze({audioType:Ri,distanceModel:Fi,panningModel:Ii.HRTF,rolloffFactor:5,refDistance:5,maxDistance:1e4,coneInnerAngle:360,coneOuterAngle:0,coneOuterGain:.9,gain:.5}),ji=Object.freeze({audioType:Ri,distanceModel:Fi,panningModel:Ii.HRTF,rolloffFactor:5,refDistance:8,maxDistance:1e4,coneInnerAngle:170,coneOuterAngle:300,coneOuterGain:.3,gain:1}),zi=Object.freeze(new Map([[Pi.MEDIA_VIDEO,Ni],[Pi.AVATAR_AUDIO_SOURCE,Ui],[Pi.AUDIO_TARGET,ji]]));function Bi(e,t){const n=function(e){const t=APP.sourceType.get(e),n=zi.get(t),r=APP.sceneAudioDefaults.get(t),a=APP.audioOverrides.get(e),i=APP.audioDebugPanelOverrides.get(t),o=APP.zoneOverrides.get(e),s={},l=function(){switch(APP.store.state.preferences.audioPanningQuality){case"High":return Ii.HRTF;case"Low":return Ii.EqualPower;default:return null}}();null!==l&&(s.panningModel=l),APP.store.state.preferences.disableLeftRightPanning&&(s.audioType=Oi);const u=Object.assign({},n,r,a,i,o,s);return APP.clippingState.has(e)||APP.mutedState.has(e)?u.gain=0:APP.gainMultipliers.has(e)&&(u.gain=u.gain*APP.gainMultipliers.get(e)),APP.supplementaryAttenuation.has(e)&&(u.gain=u.gain*APP.supplementaryAttenuation.get(e)),u}(e);(void 0===t.panner&&n.audioType===Ri||void 0!==t.panner&&n.audioType===Oi)&&e.emit("audio_type_changed"),function(e,t){e.panner&&(e.setDistanceModel(t.distanceModel),e.setRolloffFactor(t.rolloffFactor),e.setRefDistance(t.refDistance),e.setMaxDistance(t.maxDistance),e.panner.panningModel=t.panningModel,e.panner.coneInnerAngle=t.coneInnerAngle,e.panner.coneOuterAngle=t.coneOuterAngle,e.panner.coneOuterGain=t.coneOuterGain),e.gain.gain.setTargetAtTime(t.gain,e.context.currentTime,.1)}(t,n)}n(99477);let Gi=0;Gi++,Gi++,Gi++,Gi++,Gi++,Gi++,Gi++,Gi++,Gi++,Gi++,Gi++,Gi++,Gi++,Gi++,Gi++;const Hi=Gi++,Vi=Gi++,qi=(Gi++,Gi++,Gi++,Gi++),Wi=Gi++;Gi++,Gi++,Gi++,Gi++;var $i=n(97807),Ki=n(99477);function Yi(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function Xi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Yi(i,r,a,o,s,"next",e)}function s(e){Yi(i,r,a,o,s,"throw",e)}o(void 0)}))}}let Qi;function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){to(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}N().then((()=>{bi(Di).then((e=>{Qi=e}))})),AFRAME.registerComponent("media-loader",{schema:{playSoundEffect:{default:!0},fileId:{type:"string"},fileIsOwned:{type:"boolean"},src:{type:"string"},version:{type:"number",default:1},fitToBox:{default:!1},moveTheParentNotTheMesh:{default:!1},resolve:{default:!1},contentType:{default:null},contentSubtype:{default:null},animate:{default:!0},linkedEl:{default:null},mediaOptions:{default:{},parse:e=>"object"==typeof e?e:JSON.parse(e),stringify:JSON.stringify}},init(){this.onError=this.onError.bind(this),this.showLoader=this.showLoader.bind(this),this.clearLoadingTimeout=this.clearLoadingTimeout.bind(this),this.onMediaLoaded=this.onMediaLoaded.bind(this),this.handleLinkedElRemoved=this.handleLinkedElRemoved.bind(this),this.refresh=this.refresh.bind(this),this.animating=!1;try{NAF.utils.getNetworkedEntity(this.el).then((e=>{this.networkedEl=e})).catch((()=>{}))}catch(e){}},updateScale:function(){const e=new Ki.Vector3,t=new Ki.Matrix4,n=new Ki.Matrix4,r=new Ki.Vector3,a=new Ki.Quaternion,i=new Ki.Vector3,o=new Ki.Box3;return function(s,l){this.el.object3D.updateMatrices();const u=this.el.getObject3D("mesh");if(u.updateMatrices(),l)s&&console.warn("Unexpected combination of inputs. Can fit the mesh to a box OR move the parent to the mesh, but did not expect to do both.",this.el),t.copy(u.matrixWorld),Ei(u,o),e.addVectors(o.min,o.max).multiplyScalar(.5),this.el.object3D.matrixWorld.decompose(r,a,i),n.compose(e,a,i),Ba(this.el.object3D,n),u.updateMatrices(),Ba(u,t);else{const t=Ci(this.el,u),n=s?Ti(.5,t):1,{min:r,max:a}=t;e.addVectors(r,a).multiplyScalar(.5*n),u.scale.multiplyScalar(n),u.position.sub(e),u.matrixNeedsUpdate=!0}}}(),removeShape(e){this.el.getAttribute("shape-helper__"+e)&&this.el.removeAttribute("shape-helper__"+e)},tick(e,t){this.loaderMixer&&this.loaderMixer.update(t/1e3)},handleLinkedElRemoved(e){"media-loader"===e.detail.name&&(this.data.linkedEl.removeEventListener("componentremoved",this.handleLinkedElRemoved),function(){const e=document.querySelector("#media-mirror-target");e.firstChild&&(e.firstChild.setAttribute("animation__remove",{property:"scale",dur:200,to:{x:.01,y:.01,z:.01},easing:"easeInQuad"}),new Promise((t=>{e.firstChild.addEventListener("animationcomplete",(()=>{e.removeChild(e.firstChild),e.parentEl.object3D.visible=!1,t()}))})))}())},remove(){this.data.linkedEl&&this.data.linkedEl.removeEventListener("componentremoved",this.handleLinkedElRemoved);const e=this.el.sceneEl.systems["hubs-systems"].soundEffectsSystem;this.loadingSoundEffect&&(e.stopPositionalAudio(this.loadingSoundEffect),this.loadingSoundEffect=null),this.loadedSoundEffect&&(e.stopPositionalAudio(this.loadedSoundEffect),this.loadedSoundEffect=null)},onError(){this.el.removeAttribute("gltf-model-plus"),this.el.removeAttribute("media-pager"),this.el.removeAttribute("media-video"),this.el.removeAttribute("audio-zone-source"),this.el.removeAttribute("media-pdf"),this.el.setAttribute("media-image",{src:"error"}),this.clearLoadingTimeout()},showLoader(){if(this.el.object3DMap.mesh)return void this.clearLoadingTimeout();const e=!!Qi,t=e?Ha(Qi.scene):new Ki.Mesh(new Ki.BoxGeometry,new Ki.MeshBasicMaterial);this.el.setObject3D("mesh",t),this.updateScale(!0,!1),e&&(this.loaderMixer=new Ki.AnimationMixer(t),this.loadingClip=this.loaderMixer.clipAction(t.animations[0]),this.loadingScaleClip=this.loaderMixer.clipAction(new Ki.AnimationClip(null,1e3,[new Ki.VectorKeyframeTrack(".scale",[0,.2],[0,0,0,t.scale.x,t.scale.y,t.scale.z])])),setTimeout((()=>{this.loaderMixer&&this.el.setAttribute("shape-helper__loader",{type:$i.SHAPE.BOX})}),200),this.loadingClip.play(),this.loadingScaleClip.play()),this.el.sceneEl.is("entered")&&(!this.networkedEl||NAF.utils.isMine(this.networkedEl))&&this.data.playSoundEffect&&(this.loadingSoundEffect=this.el.sceneEl.systems["hubs-systems"].soundEffectsSystem.playPositionalSoundFollowing(qi,this.el.object3D,!0)),delete this.showLoaderTimeout},clearLoadingTimeout(){clearTimeout(this.showLoaderTimeout),this.loadingSoundEffect&&(this.el.sceneEl.systems["hubs-systems"].soundEffectsSystem.stopPositionalAudio(this.loadingSoundEffect),this.loadingSoundEffect=null),this.loaderMixer&&(this.loadingClip.stop(),this.loadingScaleClip.stop(),delete this.loaderMixer,delete this.loadingScaleClip,delete this.loadingClip),delete this.showLoaderTimeout,this.removeShape("loader")},updateHoverableVisuals:function(){const e=new Ki.Box3,t=new Ki.Sphere;return function(){const n=this.el.components["hoverable-visuals"];n&&(this.injectedCustomShaderChunks||(this.injectedCustomShaderChunks=!0,n.uniforms=function(e){const t=[];return e.traverse((e=>{e.material&&!e.isTroikaText&&(e.reflectionProbeMode="dynamic",Mt(e,(n=>{if(n.hubs_InjectedCustomShaderChunks)return n;if(!Tn.includes(n.type))return n;if(e.el&&(e.el.classList.contains("ui")||e.el.classList.contains("hud")||e.el.getAttribute("text-button")))return n;const r=n.clone();return r.onBeforeCompile=(e,r)=>{-1!=e.vertexShader.indexOf("#include <skinning_vertex>")&&(n.onBeforeCompile&&n.onBeforeCompile(e,r),e.uniforms.hubs_IsFrozen={value:!1},e.uniforms.hubs_EnableSweepingEffect={value:!1},e.uniforms.hubs_SweepParams={value:[0,0]},e.uniforms.hubs_InteractorOnePos={value:[0,0,0]},e.uniforms.hubs_InteractorTwoPos={value:[0,0,0]},e.uniforms.hubs_HighlightInteractorOne={value:!1},e.uniforms.hubs_HighlightInteractorTwo={value:!1},e.uniforms.hubs_Time={value:0},e.vertexShader=["varying vec3 hubs_WorldPosition;","uniform bool hubs_IsFrozen;","uniform bool hubs_HighlightInteractorOne;","uniform bool hubs_HighlightInteractorTwo;\n"].join("\n")+e.vertexShader.replace("#include <skinning_vertex>","#include <skinning_vertex>\n             if (hubs_HighlightInteractorOne || hubs_HighlightInteractorTwo || hubs_IsFrozen) {\n              vec4 wt = modelMatrix * vec4(transformed, 1);\n\n              // Used in the fragment shader below.\n              hubs_WorldPosition = wt.xyz;\n            }"),e.fragmentShader=["varying vec3 hubs_WorldPosition;","uniform bool hubs_IsFrozen;","uniform bool hubs_EnableSweepingEffect;","uniform vec2 hubs_SweepParams;","uniform bool hubs_HighlightInteractorOne;","uniform vec3 hubs_InteractorOnePos;","uniform bool hubs_HighlightInteractorTwo;","uniform vec3 hubs_InteractorTwoPos;","uniform float hubs_Time;\n"].join("\n")+e.fragmentShader.replace("#include <output_fragment>","#include <output_fragment>\nif (hubs_HighlightInteractorOne || hubs_HighlightInteractorTwo || hubs_IsFrozen) {\n  float ratio = 0.0;\n  float size = hubs_SweepParams.t - hubs_SweepParams.s;\n\n  if (hubs_EnableSweepingEffect) {\n    float line = mod(hubs_Time / 500.0 * size, size * 3.0) + hubs_SweepParams.s - size / 3.0;\n\n    if (hubs_WorldPosition.y < line) {\n      // Highlight with a sweeping gradient.\n      ratio = max(0.0, 1.0 - (line - hubs_WorldPosition.y) / (size * 1.5));\n    }\n  }\n\n  // Highlight with a gradient falling off with distance.\n  float pulse = 1.0 / (size + 0.2) * 8.0 + 1.0 / (size + 0.3) * 3.0 * (sin(hubs_Time / 1000.0) + 1.0);\n\n  if (hubs_HighlightInteractorOne) {\n    float dist1 = distance(hubs_WorldPosition, hubs_InteractorOnePos);\n    ratio += -min(1.0, pow(dist1 * pulse, 3.0)) + 1.0;\n  } \n\n  if (hubs_HighlightInteractorTwo) {\n    float dist2 = distance(hubs_WorldPosition, hubs_InteractorTwoPos);\n    ratio += -min(1.0, pow(dist2 * pulse, 3.0)) + 1.0;\n  }\n\n  ratio = min(1.0, ratio);\n\n  // Gamma corrected highlight color\n  vec3 highlightColor = vec3(0.184, 0.499, 0.933);\n\n  gl_FragColor.rgb = (gl_FragColor.rgb * (1.0 - ratio)) + (highlightColor * ratio);\n}\n"),t.push(e.uniforms))},r.needsUpdate=!0,r.hubs_InjectedCustomShaderChunks=!0,r})))})),t}(this.el.object3D)),e.setFromObject(this.el.object3DMap.mesh),e.getBoundingSphere(t),n.geometryRadius=t.radius/this.el.object3D.scale.y)}}(),onMediaLoaded(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;const n=this.el;this.clearLoadingTimeout(),this.el.sceneEl.is("entered")&&this.data.playSoundEffect&&(this.loadedSoundEffect=this.el.sceneEl.systems["hubs-systems"].soundEffectsSystem.playPositionalSoundFollowing(Wi,this.el.object3D,!1));const r=()=>{this.animating=!1,e&&n.setAttribute("shape-helper",{type:e,minHalfExtent:.04}),this.updateHoverableVisuals(),this.data.linkedEl&&(this.el.sceneEl.systems["linked-media"].registerLinkage(this.data.linkedEl,this.el),this.data.linkedEl.addEventListener("componentremoved",this.handleLinkedElRemoved)),this.contentBounds=Ci(this.el,this.el.getObject3D("mesh")).getSize(new Ki.Vector3),n.emit("media-loaded"),n.eid&&(0,Ft.entityExists)(APP.world,n.eid)&&(0,Ft.removeComponent)(APP.world,Sn,n.eid)};if(this.data.animate){if(!this.animating){this.animating=!0,t&&this.updateScale(this.data.fitToBox,this.data.moveTheParentNotTheMesh);const e=this.el.getObject3D("mesh"),n={x:.001,y:.001,z:.001};n.x=e.scale.x<n.x?.001*e.scale.x:n.x,n.y=e.scale.y<n.y?.001*e.scale.x:n.y,n.z=e.scale.z<n.z?.001*e.scale.x:n.z,function(e,t,n){const r=function(){const t={};return function(n){const r=n.animatables[0].target;r.x=Math.max(Number.MIN_VALUE,r.x),r.y=Math.max(Number.MIN_VALUE,r.y),r.z=Math.max(Number.MIN_VALUE,r.z),r.x===t.x&&r.y===t.y&&r.z===t.z||(t.x=r.x,t.y=r.y,t.z=r.z,e.scale.set(r.x,r.y,r.z),e.matrixNeedsUpdate=!0)}}(),a={duration:400,easing:"easeOutElastic",elasticity:400,loop:0,round:!1,x:e.scale.x,y:e.scale.y,z:e.scale.z,targets:[t],update:e=>r(e),complete:e=>{r(e),n&&n()}};e.scale.copy(t),e.matrixNeedsUpdate=!0,(0,ir.Z)(a)}(e,n,r)}}else t&&this.updateScale(this.data.fitToBox,this.data.moveTheParentNotTheMesh),r()},refresh(){(!this.networkedEl||NAF.utils.isMine(this.networkedEl)||NAF.utils.takeOwnership(this.networkedEl))&&this.el.setAttribute("media-loader",{version:Math.floor(Date.now()/1e3)})},update(e,t){var n=this;return Xi((function*(){const{version:r,contentSubtype:a}=n.data;let i=n.data.src;if(!i)return;const o=e.src!==i;!(!e.version||e.version===r)&&(n.el.emit("media_refreshing"),n.data.animate=!1,n.data.playSoundEffect=NAF.utils.isMine(n.networkedEl)),t&&(n.el.removeAttribute("gltf-model-plus"),n.el.removeAttribute("media-pager"),n.el.removeAttribute("media-video"),n.el.removeAttribute("audio-zone-source"),n.el.removeAttribute("media-pdf"),n.el.removeAttribute("media-image"));try{!t&&!o||n.showLoaderTimeout||(n.showLoaderTimeout=setTimeout(n.showLoader,100),(0,Ft.addComponent)(APP.world,Sn,n.el.eid)),"#"===i.charAt(0)&&(i=n.data.src=`${window.location.origin}${window.location.pathname}${window.location.search}${i}`);let e,l=i,u=null,c=i,d=n.data.contentType;const h=new URL(i),f=Nn(h.hostname)&&(Gn(i)||"").startsWith("model/gltf");if(n.data.resolve&&!i.startsWith("data:")&&!i.startsWith("hubs:")&&!f){const a=!(!n.data.mediaOptions.projection||!n.data.mediaOptions.projection.startsWith("360")),o=mr(a),s=yield gr(i,o,r,t);l=s.origin,l.startsWith("//")&&(l=location.protocol+l),u=s.origin_audio,u&&u.startsWith("//")&&(u=location.protocol+u),d=s.meta&&s.meta.expected_content_type||d,e=s.meta&&s.meta.thumbnail&&jn(s.meta.thumbnail)}if(c=jn(l),d=d||Gn(l)||(yield(s=c,fetch(s,{method:"HEAD"}).then((e=>e.headers.get("content-type"))))),"application/octet-stream"===d&&(d=Gn(l)||d),"audio/x-mpegurl"!==d&&"audio/mpegurl"!==d||(d="application/vnd.apple.mpegurl"),t||o?n.el.emit("media_resolved",{src:i,raw:c,contentType:d}):n.el.emit("media_refreshed",{src:i,raw:c,contentType:d}),d.startsWith("video/")||d.startsWith("audio/")||d.startsWith("application/dash")||AFRAME.utils.material.isHLS(l,d)){let e,t,r;if(n.data.linkedEl){const a=n.data.linkedEl.components["media-video"];e=a.videoTexture,t=a.audioSource,r=a.mediaElementAudioSource}const a=parseInt(h.searchParams.get("t")),i=parseInt(new URLSearchParams(h.hash.substring(1)).get("t"))||a||0;n.el.removeAttribute("gltf-model-plus"),n.el.removeAttribute("media-image"),n.el.removeAttribute("media-pdf"),n.el.setAttribute("floaty-object",{reduceAngularFloat:!0,releaseGravity:-1}),n.el.addEventListener("video-loaded",(e=>{n.onMediaLoaded("flat"===e.detail.projection?$i.SHAPE.BOX:null)}),{once:!0}),n.el.setAttribute("media-video",Object.assign({},n.data.mediaOptions,{src:c,audioSrc:u?jn(u):null,time:i,contentType:d,linkedVideoTexture:e,linkedAudioSource:t,linkedMediaElementAudioSource:r})),n.el.setAttribute("audio-zone-source",{}),n.el.components["position-at-border__freeze"]&&n.el.setAttribute("position-at-border__freeze",{isFlat:!0}),n.el.components["position-at-border__freeze-unprivileged"]&&n.el.setAttribute("position-at-border__freeze-unprivileged",{isFlat:!0})}else if(d.startsWith("image/"))n.el.removeAttribute("gltf-model-plus"),n.el.removeAttribute("media-video"),n.el.removeAttribute("audio-zone-source"),n.el.removeAttribute("media-pdf"),n.el.removeAttribute("media-pager"),n.el.addEventListener("image-loaded",(e=>{n.onMediaLoaded("flat"===e.detail.projection?$i.SHAPE.BOX:null),"photo-camera"===a?n.el.setAttribute("hover-menu__photo",{template:"#photo-hover-menu",isFlat:!0}):n.data.mediaOptions.href&&n.el.setAttribute("hover-menu__link",{template:"#link-hover-menu",isFlat:!0})}),{once:!0}),n.el.setAttribute("floaty-object",{reduceAngularFloat:!0,releaseGravity:-1}),n.el.setAttribute("media-image",Object.assign({},n.data.mediaOptions,{src:c,version:r,contentType:d})),n.el.components["position-at-border__freeze"]&&n.el.setAttribute("position-at-border__freeze",{isFlat:!0}),n.el.components["position-at-border__freeze-unprivileged"]&&n.el.setAttribute("position-at-border__freeze-unprivileged",{isFlat:!0});else if(d.startsWith("application/pdf"))n.el.removeAttribute("gltf-model-plus"),n.el.removeAttribute("media-video"),n.el.removeAttribute("audio-zone-source"),n.el.removeAttribute("media-image"),n.el.setAttribute("media-pdf",Object.assign({},n.data.mediaOptions,{src:c,contentType:d})),n.el.setAttribute("media-pager",{}),n.el.setAttribute("floaty-object",{reduceAngularFloat:!0,releaseGravity:-1}),n.el.addEventListener("pdf-loaded",(()=>{n.clearLoadingTimeout(),n.onMediaLoaded($i.SHAPE.BOX)}),{once:!0}),n.el.components["position-at-border__freeze"]&&n.el.setAttribute("position-at-border__freeze",{isFlat:!0}),n.el.components["position-at-border__freeze-unprivileged"]&&n.el.setAttribute("position-at-border__freeze-unprivileged",{isFlat:!0});else if(d.includes("application/octet-stream")||d.includes("x-zip-compressed")||d.startsWith("model/gltf"))n.el.removeAttribute("media-image"),n.el.removeAttribute("media-video"),n.el.removeAttribute("audio-zone-source"),n.el.removeAttribute("media-pdf"),n.el.removeAttribute("media-pager"),n.el.addEventListener("model-loaded",(()=>{var e;n.onMediaLoaded($i.SHAPE.HULL,!0),(e=n.el).components["animation-mixer"]&&(e.querySelector("[loop-animation]")||e.setAttribute("loop-animation",""))}),{once:!0}),n.el.addEventListener("model-error",n.onError,{once:!0}),n.data.mediaOptions.hasOwnProperty("applyGravity")&&n.el.setAttribute("floaty-object",{modifyGravityOnRelease:!n.data.mediaOptions.applyGravity}),n.el.setAttribute("gltf-model-plus",Object.assign({},n.data.mediaOptions,{src:c,contentType:d,inflate:!0,modelToWorldScale:n.data.fitToBox?1e-4:1}));else{if(!d.startsWith("text/html"))throw new Error(`Unsupported content type: ${d}`);n.el.removeAttribute("gltf-model-plus"),n.el.removeAttribute("media-video"),n.el.removeAttribute("audio-zone-source"),n.el.removeAttribute("media-pdf"),n.el.removeAttribute("media-pager"),n.el.addEventListener("image-loaded",Xi((function*(){const e=n.el.sceneEl.systems.permissions.can("update_hub");(yield er(i))?n.el.setAttribute("hover-menu__hubs-item",{template:"#avatar-link-hover-menu",isFlat:!0}):(yield tr(i))||(yield Qn(i))&&e?n.el.setAttribute("hover-menu__hubs-item",{template:"#hubs-destination-hover-menu",isFlat:!0}):n.el.setAttribute("hover-menu__link",{template:"#link-hover-menu",isFlat:!0}),n.onMediaLoaded($i.SHAPE.BOX)})),{once:!0}),n.el.setAttribute("floaty-object",{reduceAngularFloat:!0,releaseGravity:-1}),n.el.setAttribute("media-image",Object.assign({},n.data.mediaOptions,{src:e,version:r,contentType:Gn(e)||"image/png"})),n.el.components["position-at-border__freeze"]&&n.el.setAttribute("position-at-border__freeze",{isFlat:!0}),n.el.components["position-at-border__freeze-unprivileged"]&&n.el.setAttribute("position-at-border__freeze-unprivileged",{isFlat:!0})}}catch(e){n.el.components["position-at-border__freeze"]&&n.el.setAttribute("position-at-border__freeze",{isFlat:!0}),n.el.components["position-at-border__freeze-unprivileged"]&&n.el.setAttribute("position-at-border__freeze-unprivileged",{isFlat:!0}),console.error("Error adding media",e),n.onError()}var s}))()}}),AFRAME.registerComponent("media-pager",{schema:{index:{default:0},maxIndex:{default:0}},init(){this.onNext=this.onNext.bind(this),this.onPrev=this.onPrev.bind(this),this.onSnap=this.onSnap.bind(this),this.update=this.update.bind(this),this.el.setAttribute("hover-menu__pager",{template:"#pager-hover-menu",isFlat:!0}),this.el.components["hover-menu__pager"].getHoverMenu().then((e=>{this.el.parentNode&&(this.hoverMenu=e,this.nextButton=this.el.querySelector(".next-button [text-button]"),this.prevButton=this.el.querySelector(".prev-button [text-button]"),this.snapButton=this.el.querySelector(".snap-button [text-button]"),this.pageLabel=this.el.querySelector(".page-label"),this.nextButton.object3D.addEventListener("interact",this.onNext),this.prevButton.object3D.addEventListener("interact",this.onPrev),this.snapButton.object3D.addEventListener("interact",this.onSnap),this.update(),this.el.emit("pager-loaded"))})),NAF.utils.getNetworkedEntity(this.el).then((e=>{this.networkedEl=e,this.networkedEl.addEventListener("pinned",this.update),this.networkedEl.addEventListener("unpinned",this.update),window.APP.hubChannel.addEventListener("permissions_updated",this.update)})).catch((()=>{})),this.el.addEventListener("pdf-loaded",this.update)},update(e){var t=this;return Xi((function*(){if(t.networkedEl&&NAF.utils.isMine(t.networkedEl)&&e&&"number"==typeof e.index&&e.index!==t.data.index&&t.el.emit("owned-pager-page-changed"),t.pageLabel&&t.pageLabel.setAttribute("text","value",`${t.data.index+1}/${t.data.maxIndex+1}`),t.prevButton&&t.nextButton){const e=t.el.components["media-loader"].data.linkedEl||t.el,n=e.components.pinnable&&e.components.pinnable.data.pinned;t.prevButton.object3D.visible=t.nextButton.object3D.visible=!n||window.APP.hubChannel.can("pin_objects")}}))()},onNext(){if(this.networkedEl&&!NAF.utils.isMine(this.networkedEl)&&!NAF.utils.takeOwnership(this.networkedEl))return;const e=Math.min(this.data.index+1,this.data.maxIndex);this.el.setAttribute("media-pdf","index",e),this.el.setAttribute("media-pager","index",e)},onPrev(){if(this.networkedEl&&!NAF.utils.isMine(this.networkedEl)&&!NAF.utils.takeOwnership(this.networkedEl))return;const e=Math.max(this.data.index-1,0);this.el.setAttribute("media-pdf","index",e),this.el.setAttribute("media-pager","index",e)},onSnap(){this.el.emit("pager-snap-clicked")},remove(){this.networkedEl&&(this.networkedEl.removeEventListener("pinned",this.update),this.networkedEl.removeEventListener("unpinned",this.update)),this.nextButton.object3D.removeEventListener("interact",this.onNext),this.prevButton.object3D.removeEventListener("interact",this.onPrev),this.snapButton.object3D.removeEventListener("interact",this.onSnap),window.APP.hubChannel.removeEventListener("permissions_updated",this.update),this.el.removeEventListener("pdf-loaded",this.update)}}),n(28246),AFRAME.registerComponent("quack",{schema:{quackPercentage:{default:1},specialQuackPercentage:{default:.01}},init:function(){this.wasInteracting=!1,NAF.utils.getNetworkedEntity(this.el).then((e=>{this.networkedEntity=e}))},tick:function(){const e=AFRAME.scenes[0].systems.interaction.isHeld(this.networkedEntity||this.el);e&&!this.wasInteracting&&this.quack(),this.wasInteracting=e},quack:function(){const e=Math.random();e<this.data.specialQuackPercentage?this.el.sceneEl.systems["hubs-systems"].soundEffectsSystem.playSoundOneShot(Vi):e<this.data.quackPercentage&&this.el.sceneEl.systems["hubs-systems"].soundEffectsSystem.playSoundOneShot(Hi)}});const no={noop:"/noop",actions:{}};no.actions.log="/actions/log",no.actions.toggleScreenShare="/actions/toggleScreenShare",no.actions.snapRotateLeft="/actions/snapRotateLeft",no.actions.snapRotateRight="/actions/snapRotateRight",no.actions.angularVelocity="/actions/angularVelocity",no.actions.logDebugFrame="/actions/logDebugFrame",no.actions.logInteractionState="/actions/logInteractionState",no.actions.debugUserInput={},no.actions.debugUserInput.describeCurrentMasks="/actions/debugUserInput/describeCurrentMasks",no.actions.cameraDelta="/actions/cameraDelta",no.actions.lobbyCameraDelta="/actions/lobbyCameraDelta",no.actions.characterAcceleration="/actions/characterAcceleration",no.actions.dCharSpeed="/actions/dCharSpeed",no.actions.boost="/actions/boost",no.actions.startGazeTeleport="/actions/startTeleport",no.actions.stopGazeTeleport="/actions/stopTeleport",no.actions.spawnPen="/actions/spawnPen",no.actions.ensureFrozen="/actions/ensureFrozen",no.actions.toggleFreeze="/actions/toggleFreeze",no.actions.thaw="/actions/thaw",no.actions.muteMic="/actions/muteMic",no.actions.toggleFly="/actions/toggleFly",no.actions.toggleUI="/actions/toggleUI",no.actions.waypointDeltaDistance="/actions/waypointDeltaDistance",no.actions.focusChat="/actions/focusChat",no.actions.focusChatCommand="/actions/focusChatCommand",no.actions.toggleCamera="/actions/toggleCamera",no.actions.takeSnapshot="/actions/takeSnapshot",no.actions.mediaExit="/actions/mediaExit",no.actions.mediaSearch1="/actions/mediaSearch1",no.actions.mediaSearch2="/actions/mediaSearch2",no.actions.mediaSearch3="/actions/mediaSearch3",no.actions.mediaSearch4="/actions/mediaSearch4",no.actions.mediaSearch5="/actions/mediaSearch5",no.actions.mediaSearch6="/actions/mediaSearch6",no.actions.mediaSearch7="/actions/mediaSearch7",no.actions.mediaSearch8="/actions/mediaSearch8",no.actions.transformModifier="/actions/transformModifier",no.actions.rayObjectRotation="/actions/rayObjectRotation",no.actions.cursor={},no.actions.cursor.right={},no.actions.cursor.right.pose="/actions/cursor/right/Pose",no.actions.cursor.right.hideLine="/actions/cursor/right/HideLine",no.actions.cursor.right.grab="/actions/cursor/right/Grab",no.actions.cursor.right.drop="/actions/cursor/right/Drop",no.actions.cursor.right.modDelta="/actions/cursor/right/ModDelta",no.actions.cursor.right.startDrawing="/actions/cursor/right/StartDrawing",no.actions.cursor.right.stopDrawing="/actions/cursor/right/StopDrawing",no.actions.cursor.right.undoDrawing="/actions/cursor/right/UndoDrawing",no.actions.cursor.right.penNextColor="/actions/cursor/right/PenNextColor",no.actions.cursor.right.penPrevColor="/actions/cursor/right/PenPrevColor",no.actions.cursor.right.scalePenTip="/actions/cursor/right/ScalePenTip",no.actions.cursor.right.scaleGrabbedGrabbable="/actions/cursor/right/ScaleGrabbedGrabbable",no.actions.cursor.right.mediaVolumeMod="/actions/cursor/right//mediaVolumeMod",no.actions.cursor.right.takeSnapshot="/actions/cursor/right/TakeSnapshot",no.actions.cursor.right.wake="/actions/cursor/right/wake",no.actions.cursor.left={},no.actions.cursor.left.pose="/actions/cursor/left/Pose",no.actions.cursor.left.hideLine="/actions/cursor/left/HideLine",no.actions.cursor.left.grab="/actions/cursor/left/Grab",no.actions.cursor.left.drop="/actions/cursor/left/Drop",no.actions.cursor.left.modDelta="/actions/cursor/left/ModDelta",no.actions.cursor.left.startDrawing="/actions/cursor/left/StartDrawing",no.actions.cursor.left.stopDrawing="/actions/cursor/left/StopDrawing",no.actions.cursor.left.undoDrawing="/actions/cursor/left/UndoDrawing",no.actions.cursor.left.penNextColor="/actions/cursor/left/PenNextColor",no.actions.cursor.left.penPrevColor="/actions/cursor/left/PenPrevColor",no.actions.cursor.left.scalePenTip="/actions/cursor/left/ScalePenTip",no.actions.cursor.left.scaleGrabbedGrabbable="/actions/cursor/left/ScaleGrabbedGrabbable",no.actions.cursor.left.mediaVolumeMod="/actions/cursor/left//mediaVolumeMod",no.actions.cursor.left.takeSnapshot="/actions/cursor/left/TakeSnapshot",no.actions.cursor.left.wake="/actions/cursor/left/wake",no.actions.pen={},no.actions.pen.remove="/actions/pen/remove",no.actions.rightHand={},no.actions.rightHand.matrix="/actions/rightHand/matrix",no.actions.rightHand.pose="/actions/rightHandPose",no.actions.rightHand.grab="/actions/rightHandGrab",no.actions.rightHand.drop="/actions/rightHandDrop",no.actions.rightHand.modDelta="/actions/rightHandModDelta",no.actions.rightHand.startDrawing="/actions/rightHandStartDrawing",no.actions.rightHand.stopDrawing="/actions/rightHandStopDrawing",no.actions.rightHand.undoDrawing="/actions/rightHandUndoDrawing",no.actions.rightHand.switchDrawMode="/actions/rightHandSwitchDrawMode",no.actions.rightHand.penNextColor="/actions/rightHandPenNextColor",no.actions.rightHand.penPrevColor="/actions/rightHandPenPrevColor",no.actions.rightHand.scalePenTip="/actions/rightHandScalePenTip",no.actions.rightHand.startTeleport="/actions/rightHand/startTeleport",no.actions.rightHand.stopTeleport="/actions/rightHand/stopTeleport",no.actions.rightHand.takeSnapshot="/actions/rightHandTakeSnapshot",no.actions.rightHand.thumb="/actions/rightHand/thumbDown",no.actions.rightHand.index="/actions/rightHand/indexDown",no.actions.rightHand.middleRingPinky="/actions/rightHand/middleRingPinkyDown",no.actions.leftHand={},no.actions.leftHand.matrix="/actions/leftHand/matrix",no.actions.leftHand.pose="/actions/leftHandPose",no.actions.leftHand.grab="/actions/leftHandGrab",no.actions.leftHand.drop="/actions/leftHandDrop",no.actions.leftHand.modDelta="/actions/leftHandModDelta",no.actions.leftHand.startDrawing="/actions/leftHandStartDrawing",no.actions.leftHand.stopDrawing="/actions/leftHandStopDrawing",no.actions.leftHand.undoDrawing="/actions/leftHandUndoDrawing",no.actions.leftHand.switchDrawMode="/actions/leftHandSwitchDrawMode",no.actions.leftHand.penNextColor="/actions/leftHandPenNextColor",no.actions.leftHand.penPrevColor="/actions/leftHandPenPrevColor",no.actions.leftHand.scalePenTip="/actions/leftHandScalePenTip",no.actions.leftHand.startTeleport="/actions/leftHand/startTeleport",no.actions.leftHand.stopTeleport="/actions/leftHand/stopTeleport",no.actions.leftHand.takeSnapshot="/actions/leftHandTakeSnapshot",no.actions.leftHand.thumb="/actions/leftHand/thumbDown",no.actions.leftHand.index="/actions/leftHand/indexDown",no.actions.leftHand.middleRingPinky="/actions/leftHand/middleRingPinkyDown",no.actions.camera={},no.actions.camera.exitMirror="/actions/cameraExitMirror",no.actions.startInspecting="/actions/startInspecting",no.actions.startInspectingSelf="/actions/startInspectingSelf",no.actions.stopInspecting="/actions/stopInspecting",no.actions.inspectZoom="/actions/inspectZoom",no.actions.inspectPanY="/actions/inspectPanY",no.actions.resetInspectView="/actions/resetInspectView",no.actions.nextCameraMode="/actions/nextCameraMode",no.actions.spawnEmoji0="/actions/spawnEmoji0",no.actions.spawnEmoji1="/actions/spawnEmoji1",no.actions.spawnEmoji2="/actions/spawnEmoji2",no.actions.spawnEmoji3="/actions/spawnEmoji3",no.actions.spawnEmoji4="/actions/spawnEmoji4",no.actions.spawnEmoji5="/actions/spawnEmoji5",no.actions.spawnEmoji6="/actions/spawnEmoji6",no.haptics={},no.haptics.actuators={},no.haptics.actuators.left="/haptics/actuators/left",no.haptics.actuators.right="/haptics/actuators/right",no.device={},no.device.mouse={},no.device.mouse.coords="/device/mouse/coords",no.device.mouse.movementXY="/device/mouse/movementXY",no.device.mouse.buttonLeft="/device/mouse/buttonLeft",no.device.mouse.buttonRight="/device/mouse/buttonRight",no.device.mouse.buttonMiddle="/device/mouse/buttonMiddle",no.device.mouse.wheel="/device/mouse/wheel",no.device.smartMouse={},no.device.smartMouse.cursorPose="/device/smartMouse/cursorPose",no.device.smartMouse.cameraDelta="/device/smartMouse/cameraDelta",no.device.smartMouse.shouldMoveCamera="/device/smartMouse/shouldMoveCamera",no.device.touchscreen={},no.device.touchscreen.cursorPose="/device/touchscreen/cursorPose",no.device.touchscreen.touchCameraDelta="/device/touchscreen/touchCameraDelta",no.device.touchscreen.gyroCameraDelta="/device/touchscreen/gyroCameraDelta",no.device.touchscreen.cameraDelta="/device/touchscreen/cameraDelta",no.device.touchscreen.pinch={},no.device.touchscreen.pinch.delta="/device/touchscreen/pinch/delta",no.device.touchscreen.pinch.initialDistance="/device/touchscreen/pinch/initialDistance",no.device.touchscreen.pinch.currentDistance="/device/touchscreen/pinch/currentDistance",no.device.touchscreen.isTouching="/device/touchscreen/isTouching",no.device.touchscreen.isTouchingGrabbable="/device/touchscreen/isTouchingGrabbable",no.device.touchscreen.tap1="/device/touchscreen/tap1",no.device.touchscreen.tap2="/device/touchscreen/tap2",no.device.touchscreen.tap3="/device/touchscreen/tap3",no.device.touchscreen.tap4="/device/touchscreen/tap4",no.device.touchscreen.tap5="/device/touchscreen/tap5",no.device.touchscreen.anything="/device/touchscreen/anything",no.device.gyro={},no.device.gyro.averageDeltaX="/device/gyro/averageDeltaX",no.device.gyro.averageDeltaY="/device/gyro/averageDeltaY",no.device.hud={},no.device.hud.penButton="/device/hud/penButton",no.device.keyboard={map:new Map,key:function(e){let t=this.map.get(e);return t||(t=`/device/keyboard/${" "===e?"space":e.toLowerCase()}`,this.map.set(e,t),t)}},no.device.gamepad=e=>({button:t=>({pressed:`/device/gamepad/${e}/button/${t}/pressed`,touched:`/device/gamepad/${e}/button/${t}/touched`,value:`/device/gamepad/${e}/button/${t}/value`}),axis:t=>`/device/gamepad/${e}/axis/${t}`});const ro="/device/xbox/";no.device.xbox={v:e=>`/vars/xbox/${e}`,button:e=>({pressed:`${ro}button/${e}/pressed`,touched:`${ro}button/${e}/touched`,value:`${ro}button/${e}/value`}),axis:e=>`${ro}axis/${e}`,axesSum:`${ro}axis/sum`},no.device.oculusgo={button:e=>({pressed:`/device/oculusgo/button/${e}/pressed`,touched:`/device/oculusgo/button/${e}/touched`,value:`/device/oculusgo/button/${e}/value`}),axis:e=>`/device/oculusgo/axis/${e}`,trigger:{pressed:"/device/oculusgo/button/trigger/pressed",touched:"/device/oculusgo/button/trigger/touched",value:"/device/oculusgo/button/trigger/value"},touchpad:{pressed:"/device/oculusgo/button/touchpad/pressed",touched:"/device/oculusgo/button/touchpad/touched",value:"/device/oculusgo/button/touchpad/value",axisX:"/device/oculusgo/axis/touchpadX",axisY:"/device/oculusgo/axis/touchpadY"},pose:"/device/oculusgo/pose",matrix:"/device/oculusgo/matrix",v:e=>`/vars/oculusgo/${e}`};const ao="/device/gearVRController/";no.device.gearVRController={button:e=>({pressed:`${ao}button/${e}/pressed`,touched:`${ao}button/${e}/touched`,value:`${ao}button/${e}/value`}),axis:e=>`${ao}axis/${e}`,pose:`${ao}pose`,matrix:`${ao}matrix`,v:e=>`/vars/gearVRController/${e}`};const io="/device/daydream/";no.device.daydream={button:e=>({pressed:`${io}button/${e}/pressed`,touched:`${io}button/${e}/touched`,value:`${io}button/${e}/value`}),axis:e=>`${io}axis/${e}`,pose:`${io}pose`,matrix:`${io}matrix`};const oo="/device/rightOculusTouch/";no.device.rightOculusTouch={button:e=>({pressed:`${oo}button/${e}/pressed`,touched:`${oo}button/${e}/touched`,value:`${oo}button/${e}/value`}),axis:e=>`${oo}axis/${e}`,axesSum:`${oo}axis/sum`,pose:`${oo}pose`,matrix:`${oo}matrix`};const so="/device/leftOculusTouch/";function lo(e,t,n){return{pressed:`${e}${t}/button/${n}/pressed`,touched:`${e}${t}/button/${n}/touched`,value:`${e}${t}/button/${n}/value`}}function uo(e,t,n){return{axisX:`${e}${t}/axis/${n}X`,axisY:`${e}${t}/axis/${n}Y`}}function co(e){const t="/device/wmr/";return{touchpad:eo(eo({},lo(t,e,"touchpad")),uo(t,e,"touchpad")),trigger:lo(t,e,"trigger"),grip:lo(t,e,"grip"),menu:lo(t,e,"menu"),joystick:uo(t,e,"joystick"),pose:`${t}${e}/pose`,matrix:`${t}${e}/matrix`}}no.device.leftOculusTouch={button:e=>({pressed:`${so}button/${e}/pressed`,touched:`${so}button/${e}/touched`,value:`${so}button/${e}/value`}),axis:e=>`${so}axis/${e}`,axesSum:`${so}axis/sum`,pose:`${so}pose`,matrix:`${so}matrix`},no.device.vive={},no.device.vive.left={button:e=>({pressed:`/device/vive/left/button/${e}/pressed`,touched:`/device/vive/left/button/${e}/touched`,value:`/device/vive/left/button/${e}/value`}),axis:e=>`/device/vive/left/axis/${e}`,axesSum:"/device/vive/left/axis/sum",pose:"/device/vive/left/pose",matrix:"/device/vive/left/matrix"},no.device.vive.right={button:e=>({pressed:`/device/vive/right/button/${e}/pressed`,touched:`/device/vive/right/button/${e}/touched`,value:`/device/vive/right/button/${e}/value`}),axis:e=>`/device/vive/right/axis/${e}`,axesSum:"/device/vive/right/axis/sum",pose:"/device/vive/right/pose",matrix:"/device/vive/right/matrix"},no.device.wmr={},no.device.wmr.v=e=>`/vars/wmr/${e}`,no.device.wmr.k=e=>`/vars/wmr/keyboard/${e}`,no.device.wmr.left=co("left"),no.device.wmr.right=co("right");const ho="/device/webxr/";no.device.webxr={},no.device.webxr.right={button:{trigger:lo(ho,"right","trigger"),grip:lo(ho,"right","grip"),touchpad:lo(ho,"right","touchpad"),a:lo(ho,"right","a"),b:lo(ho,"right","b"),thumbStick:lo(ho,"right","thumbStick")},axis:{touchpadX:`${ho}right/axis/touchpadX`,touchpadY:`${ho}right/axis/touchpadY`,joyX:`${ho}right/axis/joyX`,joyY:`${ho}right/axis/joyY`},pose:`${ho}right/pose`,matrix:`${ho}right/matrix`},no.device.webxr.left={button:{trigger:lo(ho,"left","trigger"),grip:lo(ho,"left","grip"),touchpad:lo(ho,"left","touchpad"),a:lo(ho,"left","a"),b:lo(ho,"left","b"),thumbStick:lo(ho,"left","thumbStick")},axis:{touchpadX:`${ho}left/axis/touchpadX`,touchpadY:`${ho}left/axis/touchpadY`,joyX:`${ho}left/axis/joyX`,joyY:`${ho}left/axis/joyY`},pose:`${ho}left/pose`,matrix:`${ho}left/matrix`};const fo={isHoldable:Xt,offersRemoteConstraint:sn,isHandCollisionTarget:ln,offersHandConstraint:un,togglesHoveredActionSet:cn,singleActionButton:pn,holdableButton:fn,isPen:mn,isHoverMenuChild:gn,isStatic:vn,inspectable:yn,preventAudioBoost:bn,ignoreSpaceBubble:wn};AFRAME.registerComponent("tags",{schema:{isHandCollisionTarget:{default:!1},isHoldable:{default:!1},offersHandConstraint:{default:!1},offersRemoteConstraint:{default:!1},togglesHoveredActionSet:{default:!1},singleActionButton:{default:!1},holdableButton:{default:!1},isPen:{default:!1},isHoverMenuChild:{default:!1},isStatic:{default:!1},inspectable:{default:!1},preventAudioBoost:{default:!1},ignoreSpaceBubble:{default:!1}},update(){this.didUpdateOnce&&console.warn("Do not edit tags with .setAttribute"),this.didUpdateOnce=!0,Object.entries(this.data).forEach((e=>{let[t,n]=e;n&&(0,Ft.addComponent)(APP.world,fo[t],this.el.eid)}))}});var po=n(99477);Y("fov"),K("thirdPerson");(function(){const e=new po.Vector3})(),(new po.Matrix4).identity();(new po.Quaternion,new po.Vector3,new po.Quaternion,new po.Vector3,new po.Quaternion,new po.Vector3,new po.Vector3,new po.Vector3,new po.Vector3,new po.Quaternion,new po.Vector3(1,1,1),new po.Matrix4,new po.Quaternion,new po.Quaternion,new po.Quaternion,new po.Vector3,new po.Quaternion,new po.Vector3,new po.Vector3,new po.Vector3,new po.Vector3(.3,.3,.3),new po.Object3D,new po.Layers).set(7);var mo=n(99477);function go(e,t,n){return(1-n)*e+n*t}const vo=new mo.Quaternion;AFRAME.registerComponent("scene-preview-camera",{schema:{duration:{default:90,type:"number"},positionOnly:{default:!1,type:"boolean"}},init:function(){const e=AFRAME.scenes[0].systems["hubs-systems"]||AFRAME.scenes[0].systems["scene-systems"];e&&e.scenePreviewCameraSystem.register(this.el),this.startPoint=this.el.object3D.position.clone(),this.startRotation=this.el.object3D.quaternion.clone(),this.targetPoint=this.el.object3D.position.clone(),this.targetPoint.y=Math.max(this.targetPoint.y-1.5,1),this.targetPoint.add(new mo.Vector3(2,0,-2));const t=new mo.Euler(-.15,0,.15);this.targetRotation=new mo.Quaternion,this.targetRotation.setFromEuler(t),this.targetRotation.premultiply(this.startRotation),this.startTime=performance.now(),this.backwards=!1,this.ranOnePass=!1},tick2:function(){const e=this.el.sceneEl.systems["hubs-systems"];let t;if(e&&(e.cameraSystem.mode=4,t=function(){const e=function(){if(!(window.APP&&window.APP.componentRegistry&&window.APP.hubChannel&&window.APP.hubChannel.presence))return null;const e=window.APP.componentRegistry["player-info"]||[],t=window.APP.hubChannel.presence.state;for(let n=0;n<e.length;n++){const r=e[n],a=t[r.playerSessionId];if(a&&a.metas[0]&&a.metas[0].streaming)return r}return null}();return e?e.el.querySelector(".camera").object3D:null}()),t)Ba(this.el.object3D,t.matrixWorld),this.el.object3D.translateZ(-.1),this.el.object3D.matrixNeedsUpdate=!0;else{let e=(performance.now()-this.startTime)/(1e3*this.data.duration);e=Math.min(1,Math.max(0,e)),this.ranOnePass?e=e<.5?2*e*e:(4-2*e)*e-1:e*=2-e;const t=this.backwards?this.targetPoint:this.startPoint,n=this.backwards?this.startPoint:this.targetPoint,r=this.backwards?this.targetRotation:this.startRotation,a=this.backwards?this.startRotation:this.targetRotation;vo.slerpQuaternions(r,a,e),this.el.object3D.position.set(go(t.x,n.x,e),go(t.y,n.y,e),go(t.z,n.z,e)),this.data.positionOnly||this.el.object3D.rotation.setFromQuaternion(vo),this.el.object3D.matrixNeedsUpdate=!0,e>=.9999&&(this.ranOnePass=!0,this.backwards=!this.backwards,this.startTime=performance.now())}},remove:function(){var e,t;const n=(null===(e=AFRAME.scenes[0])||void 0===e?void 0:e.systems["hubs-systems"])||(null===(t=AFRAME.scenes[0])||void 0===t?void 0:t.systems["scene-systems"]);n&&n.scenePreviewCameraSystem.unregister(this.el)}});var yo=n(38780),bo=n(99477);const{AmbientLight:wo,BackSide:xo,BoxBufferGeometry:Lo,CubeCamera:ko,LinearFilter:So,Mesh:Ao,Object3D:_o,PMREMGenerator:Eo,RGBAFormat:Mo,Scene:Co,ShaderMaterial:To,sRGBEncoding:Do,UniformsLib:Po,UniformsUtils:Oo,Vector3:Ro,WebGLCubeRenderTarget:Zo}=bo;class Fo extends _o{constructor(){super();const e=new To({fragmentShader:Fo.shader.fragmentShader,vertexShader:Fo.shader.vertexShader,uniforms:Oo.clone(Fo.shader.uniforms),side:xo,fog:!0});this.sky=new Ao(Fo._geometry,e),this.sky.name="Sky",this.add(this.sky),this._inclination=0,this._azimuth=.15,this._distance=8e3,this.updateSunPosition()}get turbidity(){return this.sky.material.uniforms.turbidity.value}set turbidity(e){this.sky.material.uniforms.turbidity.value=e}get rayleigh(){return this.sky.material.uniforms.rayleigh.value}set rayleigh(e){this.sky.material.uniforms.rayleigh.value=e}get luminance(){return this.sky.material.uniforms.luminance.value}set luminance(e){this.sky.material.uniforms.luminance.value=e}get mieCoefficient(){return this.sky.material.uniforms.mieCoefficient.value}set mieCoefficient(e){this.sky.material.uniforms.mieCoefficient.value=e}get mieDirectionalG(){return this.sky.material.uniforms.mieDirectionalG.value}set mieDirectionalG(e){this.sky.material.uniforms.mieDirectionalG.value=e}get inclination(){return this._inclination}set inclination(e){this._inclination=e,this.updateSunPosition()}get azimuth(){return this._azimuth}set azimuth(e){this._azimuth=e,this.updateSunPosition()}get distance(){return this._distance}set distance(e){this._distance=e,this.updateSunPosition()}updateSunPosition(){const e=Math.PI*(this._inclination-.5),t=2*Math.PI*(this._azimuth-.5),n=Math.min(1e3,this._distance),r=n*Math.cos(t),a=n*Math.sin(t)*Math.sin(e),i=n*Math.sin(t)*Math.cos(e);this.sky.material.uniforms.sunPosition.value.set(r,a,i).normalize(),this.sky.scale.set(n,n,n)}generateEnvironmentMap(e){const t=new Co,n=new ko(1,1e5,new Zo(512));t.add(n),t.add(this.sky),n.update(e,t),this.add(this.sky);const r=e.xr.enabled;e.xr.enabled=!1;const a=new Eo(e),i=a.fromCubemap(n.renderTarget.texture).texture;return e.xr.enabled=r,a.dispose(),n.renderTarget.dispose(),i}generateLightProbe(e){const t=new Co;t.add(this.sky);const n=new ko(1,1e5,new Zo(512,{format:Mo,magFilter:So,minFilter:So,encoding:Do}));t.add(n),t.add(this.sky),n.update(e,t),this.add(this.sky);const r=yo.F.fromCubeRenderTarget(e,n.renderTarget);return n.renderTarget.dispose(),r}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&this.remove(this.sky),super.copy(e,t),t){const t=e.children.indexOf(e.sky);-1!==t&&(this.sky=this.children[t])}return this.turbidity=e.turbidity,this.rayleigh=e.rayleigh,this.luminance=e.luminance,this.mieCoefficient=e.mieCoefficient,this.mieDirectionalG=e.mieDirectionalG,this.inclination=e.inclination,this.azimuth=e.azimuth,this.distance=e.distance,this}}Fo.shader={uniforms:Oo.merge([Po.fog,{luminance:{value:1},turbidity:{value:10},rayleigh:{value:2},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new Ro}}]),vertexShader:"\n#include <common>\n#include <fog_pars_vertex>\n\nuniform vec3 sunPosition;\nuniform float rayleigh;\nuniform float turbidity;\nuniform float mieCoefficient;\n\nvarying vec3 vWorldPosition;\nvarying vec3 vSunDirection;\nvarying float vSunfade;\nvarying vec3 vBetaR;\nvarying vec3 vBetaM;\nvarying float vSunE;\n\nconst vec3 up = vec3( 0.0, 1.0, 0.0 );\n\n// constants for atmospheric scattering\nconst float e = 2.71828182845904523536028747135266249775724709369995957;\nconst float pi = 3.141592653589793238462643383279502884197169;\n\n// wavelength of used primaries, according to preetham\nconst vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );\n// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:\n// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\nconst vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );\n\n// mie stuff\n// K coefficient for the primaries\nconst float v = 4.0;\nconst vec3 K = vec3( 0.686, 0.678, 0.666 );\n// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\nconst vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );\n\n// earth shadow hack\n// cutoffAngle = pi / 1.95;\nconst float cutoffAngle = 1.6110731556870734;\nconst float steepness = 1.5;\nconst float EE = 1000.0;\n\nfloat sunIntensity( float zenithAngleCos ) {\n  zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );\n  return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );\n}\n\nvec3 totalMie( float T ) {\n  float c = ( 0.2 * T ) * 10E-18;\n  return 0.434 * c * MieConst;\n}\n\nvoid main() {\n  #include <begin_vertex>\n\n  vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n  vWorldPosition = worldPosition.xyz;\n\n  #include <project_vertex>\n\n  vSunDirection = normalize( sunPosition );\n\n  vSunE = sunIntensity( dot( vSunDirection, up ) );\n\n  vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );\n\n  float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );\n\n  // extinction (absorbtion + out scattering)\n  // rayleigh coefficients\n  vBetaR = totalRayleigh * rayleighCoefficient;\n\n  // mie coefficients\n  vBetaM = totalMie( turbidity ) * mieCoefficient;\n\n  #include <fog_vertex>\n}\n",fragmentShader:"\n#include <common>\n#include <fog_pars_fragment>\n\nvarying vec3 vWorldPosition;\nvarying vec3 vSunDirection;\nvarying float vSunfade;\nvarying vec3 vBetaR;\nvarying vec3 vBetaM;\nvarying float vSunE;\n\nuniform float luminance;\nuniform float mieDirectionalG;\n\nconst vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );\n\n// constants for atmospheric scattering\nconst float pi = 3.141592653589793238462643383279502884197169;\n\nconst float n = 1.0003; // refractive index of air\nconst float N = 2.545E25; // number of molecules per unit volume for air at\n// 288.15K and 1013mb (sea level -45 celsius)\n\n// optical length at zenith for molecules\nconst float rayleighZenithLength = 8.4E3;\nconst float mieZenithLength = 1.25E3;\nconst vec3 up = vec3( 0.0, 1.0, 0.0 );\n// 66 arc seconds -> degrees, and the cosine of that\nconst float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\n\n// 3.0 / ( 16.0 * pi )\nconst float THREE_OVER_SIXTEENPI = 0.05968310365946075;\n// 1.0 / ( 4.0 * pi )\nconst float ONE_OVER_FOURPI = 0.07957747154594767;\n\nfloat rayleighPhase( float cosTheta ) {\n  return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );\n}\n\nfloat hgPhase( float cosTheta, float g ) {\n  float g2 = pow( g, 2.0 );\n  float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );\n  return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );\n}\n\n// Filmic ToneMapping http://filmicgames.com/archives/75\nconst float A = 0.15;\nconst float B = 0.50;\nconst float C = 0.10;\nconst float D = 0.20;\nconst float E = 0.02;\nconst float F = 0.30;\n\nconst float whiteScale = 1.0748724675633854; // 1.0 / Uncharted2Tonemap(1000.0)\n\nvec3 Uncharted2Tonemap( vec3 x ) {\n  return ( ( x * ( A * x + C * B ) + D * E ) / ( x * ( A * x + B ) + D * F ) ) - E / F;\n}\n\nvoid main() {\n  // optical length\n  // cutoff angle at 90 to avoid singularity in next formula.\n  float zenithAngle = acos( max( 0.0, dot( up, normalize( vWorldPosition - cameraPos ) ) ) );\n  float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );\n  float sR = rayleighZenithLength * inverse;\n  float sM = mieZenithLength * inverse;\n\n  // combined extinction factor\n  vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );\n\n  // in scattering\n  float cosTheta = dot( normalize( vWorldPosition - cameraPos ), vSunDirection );\n\n  float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );\n  vec3 betaRTheta = vBetaR * rPhase;\n\n  float mPhase = hgPhase( cosTheta, mieDirectionalG );\n  vec3 betaMTheta = vBetaM * mPhase;\n\n  vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );\n  Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );\n\n  // nightsky\n  vec3 direction = normalize( vWorldPosition - cameraPos );\n  float theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]\n  float phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]\n  vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );\n  vec3 L0 = vec3( 0.1 ) * Fex;\n\n  // composition + solar disc\n  float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );\n  L0 += ( vSunE * 19000.0 * Fex ) * sundisk;\n\n  vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );\n\n  vec3 curr = Uncharted2Tonemap( ( log2( 2.0 / pow( luminance, 4.0 ) ) ) * texColor );\n  vec3 color = curr * whiteScale;\n\n  vec3 retColor = pow( color, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );\n\n  gl_FragColor = vec4( retColor, 1.0 );\n\n  #include <fog_fragment>\n}\n"},Fo._geometry=new Lo(1,1,1),AFRAME.registerComponent("skybox",{schema:{turbidity:{type:"number",default:10},rayleigh:{type:"number",default:2},luminance:{type:"number",default:1},mieCoefficient:{type:"number",default:.005},mieDirectionalG:{type:"number",default:.8},inclination:{type:"number",default:0},azimuth:{type:"number",default:.15},distance:{type:"number",default:8e3}},init(){this.sky=new Fo,this.el.setObject3D("mesh",this.sky)},update(e){if(this.data.turbidity!==e.turbidity&&(this.sky.turbidity=this.data.turbidity),this.data.rayleigh!==e.rayleigh&&(this.sky.rayleigh=this.data.rayleigh),this.data.luminance!==e.luminance&&(this.sky.luminance=this.data.luminance),this.data.mieCoefficient!==e.mieCoefficient&&(this.sky.mieCoefficient=this.data.mieCoefficient),this.data.mieDirectionalG!==e.mieDirectionalG&&(this.sky.mieDirectionalG=this.data.mieDirectionalG),this.data.inclination!==e.inclination&&(this.sky.inclination=this.data.inclination,this.el.object3D.matrixNeedsUpdate=!0),this.data.azimuth!==e.azimuth&&(this.sky.azimuth=this.data.azimuth,this.el.object3D.matrixNeedsUpdate=!0),this.data.distance!==e.distance){const e=this.data.distance;this.sky.distance=1===this.el.object3D.scale.x?e:1,this.sky.matrixNeedsUpdate=!0}"medium"===window.APP.store.state.preferences.materialQualitySetting&&(this.el.setObject3D("ambient-light",new wo(16777215,.3)),this.el.setObject3D("light-probe",this.sky.generateLightProbe(this.el.sceneEl.renderer)))},remove(){this.el.removeObject3D("mesh")}}),AFRAME.registerComponent("spawn-controller",{schema:{target:{type:"selector"},camera:{type:"selector",default:"#avatar-pov-node"},playerHeight:{default:1.6},loadedEvent:{type:"string"}},init(){this.moveToSpawnPoint=this.moveToSpawnPoint.bind(this),N().then((()=>{this.data.target.addEventListener(this.data.loadedEvent,this.moveToSpawnPoint)}))},moveToSpawnPoint(){const e=document.querySelectorAll("[spawn-point]");if(0===e.length)return;const t=this.data.camera,n=e[Math.round((e.length-1)*Math.random())];var r,a;r=n.object3D,a=this.el.object3D.position,r.updateMatrices(),a.setFromMatrixPosition(r.matrixWorld),this.el.object3D.rotation.copy(n.object3D.rotation),this.el.sceneEl.is("vr-mode")?this.el.object3D.rotation.y-=this.data.camera.object3D.rotation.y:(t.object3D.position.set(0,this.data.playerHeight,0),t.object3D.rotation.set(0,0,0),t.object3D.matrixNeedsUpdate=!0),this.el.object3D.rotation.y+=Math.PI,this.el.object3D.matrixNeedsUpdate=!0}}),AFRAME.registerComponent("spawn-point",{init(){this.el.object3D.visible=!1}}),n(66210),n(58061).COLLISION_LAYERS;const Io=(0,Ft.defineComponent)();(0,Ft.defineQuery)([An,xn,(0,Ft.Not)(on),Io]),(0,Ft.exitQuery)((0,Ft.defineQuery)([xn,on,_n]));const Uo=((0,Ft.enterQuery)((0,Ft.defineQuery)([An,xn])),(0,Ft.defineQuery)([An,xn,on]));(0,Ft.exitQuery)(Uo),(0,Ft.enterQuery)(Uo),AFRAME.registerComponent("floaty-object",{schema:{modifyGravityOnRelease:{default:!1},releaseGravity:{default:-2},reduceAngularFloat:{default:!1},unthrowable:{default:!1}},init(){(0,Ft.addComponent)(APP.world,An,this.el.object3D.eid)},update(){An.flags[this.el.eid]=(this.data.modifyGravityOnRelease&&1)|(this.data.reduceAngularFloat&&2)|(this.data.unthrowable&&4),An.releaseGravity[this.el.eid]=this.data.releaseGravity}});var No=n(99477);function jo(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}const zo=n(58061).COLLISION_LAYERS;AFRAME.registerComponent("super-spawner",{schema:{src:{default:""},resolve:{default:!1},template:{default:""},spawnScale:{type:"vec3",default:{x:NaN,y:NaN,z:NaN}},spawnCooldown:{default:1},spawnEvent:{type:"string"},animateFromCursor:{type:"boolean"},mediaOptions:{default:{},parse:e=>"object"==typeof e?e:JSON.parse(e),stringify:JSON.stringify}},init(){this.cooldownTimeout=null,this.handPosition=new No.Vector3,this.onSpawnEvent=this.onSpawnEvent.bind(this),this.sceneEl=this.el.sceneEl,this.tempSpawnHandPosition=new No.Vector3,this.handleMediaLoaded=this.handleMediaLoaded.bind(this),this.spawnedMediaScale=null},play(){this.el.addEventListener("media-loaded",this.handleMediaLoaded),this.data.spawnEvent&&this.el.sceneEl.addEventListener(this.data.spawnEvent,this.onSpawnEvent)},pause(){this.el.removeEventListener("media-loaded",this.handleMediaLoaded),this.data.spawnEvent&&this.el.sceneEl.removeEventListener(this.data.spawnEvent,this.onSpawnEvent),this.cooldownTimeout&&(clearTimeout(this.cooldownTimeout),this.cooldownTimeout=null,this.el.setAttribute("visible",!0),this.el.classList.add("interactable"))},handleMediaLoaded(e){const t=e.target;var n,r;this.spawnedMediaScale=t.object3D.scale.clone(),n=this.spawnedMediaScale,r=this.data.spawnScale,n.set(null===r.x?n.x:r.x,null===r.y?n.y:r.y,null===r.z?n.z:r.z);const a=Ti(t.components["media-image"]||t.components["media-video"]||t.components["media-pdf"]?1:.5,Ci(t,t.object3D));this.spawnedMediaScale.divideScalar(a)},onSpawnEvent(e){var t,n=this;return(t=function*(){if(n.cooldownTimeout||!n.el.sceneEl.is("entered"))return;const t=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=!(arguments.length>8&&void 0!==arguments[8])||arguments[8],u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null;const d=AFRAME.scenes[0],h=document.createElement("a-entity"),f=NAF.utils.createNetworkId();if(l)h.setAttribute("networked",{template:t,networkId:f});else{const e=document.importNode(document.body.querySelector(t).content,!0).firstElementChild.cloneNode(!0),n=e.attributes;for(let e=0;e<n.length;e++)h.setAttribute(n[e].name,n[e].value);for(;e.firstElementChild;)h.appendChild(e.firstElementChild)}const p=e instanceof File,m=br(e);h.setAttribute("media-loader",{fitToBox:i,resolve:a,animate:o,src:"string"==typeof e?wr(e)||e:"",version:m,contentSubtype:r,fileIsOwned:!p,linkedEl:c,mediaOptions:s}),h.object3D.matrixNeedsUpdate=!0,(u||d).appendChild(h);const g=new Promise((function(t){p?yr(e,(e=>{t(e)})):t(1)}));if(p){const t="video-camera"===r?"video/mp4":e.type||Gn(e.name);vr(e,t).then((e=>{const t=new URL(jn(e.origin));t.searchParams.set("token",e.meta.access_token),h.setAttribute("media-loader",{resolve:!1,src:t.href,fileId:e.file_id}),window.APP.store.update({uploadPromotionTokens:[{fileId:e.file_id,promotionToken:e.meta.promotion_token}]})})).catch((e=>{console.error("Media upload failed",e),h.setAttribute("media-loader",{src:"error"})}))}else e instanceof MediaStream&&h.setAttribute("media-loader",{src:`hubs://clients/${NAF.clientId}/video`});return n&&h.addEventListener("media_resolved",(e=>{let{detail:t}=e;const r=ge(n,t.contentType,t.src);d.emit("object_spawned",{objectType:r})})),{entity:h,orientation:g}}(n.data.src,n.data.template,4,null,n.data.resolve,!1,{x:null===n.data.spawnScale.x?1:n.data.spawnScale.x,y:null===n.data.spawnScale.y?1:n.data.spawnScale.y,z:null===n.data.spawnScale.z?1:n.data.spawnScale.z},n.data.mediaOptions).entity,r=n.el.sceneEl.systems.interaction;if(!r.ready)return;const a=e.detail&&e.detail.object3D||r.options.rightRemote.entity.object3D,i=-1===a.el.id.indexOf("right"),o=i?r.options.leftHand.entity.object3D:r.options.rightHand.entity.object3D;a.getWorldPosition(t.object3D.position),a.getWorldQuaternion(t.object3D.quaternion),t.object3D.matrixNeedsUpdate=!0,n.el.emit("spawned-entity-created",{target:t});const s=AFRAME.scenes[0].systems.userinput,l=n.data.animateFromCursor&&(s.get(no.actions.rightHand.matrix)||s.get(no.actions.leftHand.matrix));n.activateCooldown(),yield U("model-loaded",t),a.getWorldPosition(t.object3D.position),a.getWorldQuaternion(t.object3D.quaternion),t.object3D.matrixNeedsUpdate=!0,l?(o.getWorldPosition(n.handPosition),t.setAttribute("animation__spawn-at-cursor",{property:"position",delay:500,dur:1500,from:{x:t.object3D.position.x,y:t.object3D.position.y,z:t.object3D.position.z},to:{x:n.handPosition.x,y:n.handPosition.y,z:n.handPosition.z},easing:"easeInOutBack"})):((0,Ft.addComponent)(APP.world,on,t.eid),i?(0,Ft.addComponent)(APP.world,an,t.eid):(0,Ft.addComponent)(APP.world,rn,t.eid)),n.el.sceneEl.systems["hubs-systems"]&&n.el.sceneEl.systems["hubs-systems"].physicsSystem.resetDynamicBody(t.components["body-helper"].uuid),t.addEventListener("media-loaded",(()=>{n.el.emit("spawned-entity-loaded",{target:t})}),{once:!0})},function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(e){jo(i,r,a,o,s,"next",e)}function s(e){jo(i,r,a,o,s,"throw",e)}o(void 0)}))})()},activateCooldown(){if(this.data.spawnCooldown>0){const[e,t,n]=[this.el.object3D.scale.x,this.el.object3D.scale.y,this.el.object3D.scale.z];this.el.setAttribute("visible",!1),this.el.object3D.scale.set(.001,.001,.001),this.el.object3D.matrixNeedsUpdate=!0,this.el.classList.remove("interactable"),this.el.setAttribute("body-helper",{collisionFilterMask:zo.NONE}),this.cooldownTimeout=setTimeout((()=>{this.el.setAttribute("visible",!0),this.el.classList.add("interactable"),this.el.setAttribute("body-helper",{collisionFilterMask:zo.DEFAULT_SPAWNER}),this.el.removeAttribute("animation__spawner-cooldown"),this.el.setAttribute("animation__spawner-cooldown",{property:"scale",delay:50,dur:350,from:{x:.001,y:.001,z:.001},to:{x:e,y:t,z:n},easing:"easeOutElastic"}),setTimeout((()=>{this.cooldownTimeout=null}),400)}),1e3*this.data.spawnCooldown)}}}),n(15335);var Bo=n.p+"src/assets\\waternormals-537ec85b965d414829ab..jpg",Go=n(99477);function Ho(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function Vo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){Ho(i,r,a,o,s,"next",e)}function s(e){Ho(i,r,a,o,s,"throw",e)}o(void 0)}))}}function qo(e,t){Go.Mesh.call(this,e);const n=void 0!==(t=t||{}).time?t.time:0,r=void 0!==t.waterNormals?t.waterNormals:null,a=void 0!==t.sunDirection?t.sunDirection:new Go.Vector3(.70707,.70707,0),i=new Go.Color(void 0!==t.sunColor?t.sunColor:16777215),o=new Go.Color(void 0!==t.waterColor?t.waterColor:8355711),s=void 0!==t.eye?t.eye:new Go.Vector3(0,0,0),l=void 0!==t.distortionScale?t.distortionScale:20,u=void 0!==t.side?t.side:Go.FrontSide,c=void 0!==t.fog&&t.fog,d={uniforms:Go.UniformsUtils.merge([Go.UniformsLib.lights,{normalSampler:{value:null},time:{value:0},size:{value:1},distortionScale:{value:20},sunColor:{value:new Go.Color(8355711)},sunDirection:{value:new Go.Vector3(.70707,.70707,0)},eye:{value:new Go.Vector3},waterColor:{value:new Go.Color(5592405)}}]),vertexShader:"\n      uniform float time;\n      varying vec4 worldPosition;\n\n      void main() {\n      \tworldPosition = modelMatrix * vec4( position, 1.0 );\n      \tvec4 mvPosition =  modelViewMatrix * vec4( position, 1.0 );\n      \tgl_Position = projectionMatrix * mvPosition;\n\n      }\n    ",fragmentShader:`\n      uniform float time;\n      uniform float size;\n      uniform float distortionScale;\n      uniform sampler2D normalSampler;\n      uniform vec3 sunColor;\n      uniform vec3 sunDirection;\n      uniform vec3 eye;\n      uniform vec3 waterColor;\n\n      varying vec4 worldPosition;\n\n      vec4 getNoise( vec2 uv ) {\n      \tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\n      \tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\n      \tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\n      \tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\n      \tvec4 noise = texture2D( normalSampler, uv0 ) +\n      \t\ttexture2D( normalSampler, uv1 ) +\n      \t\ttexture2D( normalSampler, uv2 ) +\n      \t\ttexture2D( normalSampler, uv3 );\n      \treturn noise * 0.5 - 1.0;\n      }\n\n      void sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {\n      \tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\n      \tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\n      \tspecularColor += pow( direction, shiny ) * sunColor * spec;\n      \tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\n      }\n\n      ${Go.ShaderChunk.common}\n      ${Go.ShaderChunk.packing}\n      ${Go.ShaderChunk.bsdfs}\n      ${Go.ShaderChunk.lights_pars_begin}\n\n      void main() {\n      \tvec4 noise = getNoise( worldPosition.xz * size );\n      \tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\n\n      \tvec3 diffuseLight = vec3(0.0);\n      \tvec3 specularLight = vec3(0.0);\n\n      \tvec3 worldToEye = eye-worldPosition.xyz;\n      \tvec3 eyeDirection = normalize( worldToEye );\n      \tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\n\n      \tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\n      \tfloat rf0 = 0.3;\n      \tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\n      \tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\n      \tvec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ), ( 0.5 + specularLight ), reflectance);\n      \tvec3 outgoingLight = albedo;\n      \tgl_FragColor = vec4( outgoingLight, 1 );\n      }\n    `},h=new Go.ShaderMaterial({fragmentShader:d.fragmentShader,vertexShader:d.vertexShader,uniforms:Go.UniformsUtils.clone(d.uniforms),transparent:!1,lights:!0,side:u,fog:c});h.uniforms.time.value=n,h.uniforms.normalSampler.value=r,h.uniforms.sunColor.value=i,h.uniforms.waterColor.value=o,h.uniforms.sunDirection.value=a,h.uniforms.distortionScale.value=l,h.uniforms.eye.value=s,this.material=h}function Wo(){return(Wo=Vo((function*(e){const t=yield new Promise(((t,n)=>(new Zt).load(e,t,void 0,n)));return t.wrapS=t.wrapT=Go.RepeatWrapping,t.needsUpdate=!0,t}))).apply(this,arguments)}qo.prototype=Object.create(Go.Mesh.prototype),qo.prototype.constructor=Go.Water,AFRAME.registerComponent("water",{schema:{waterColor:{type:"color",default:"#001e0f"},distortionScale:{type:"number",default:3.7},sunColor:{type:"color",default:"#ffffff"},inclination:{type:"number",default:0},azimuth:{type:"number",default:0},distance:{type:"number",default:1},speed:{type:"number",default:.1},forceMobile:{type:"boolean",default:!1}},init(){const e=this.el.getObject3D("mesh"),t=e.geometry;e.visible=!1,function(e){return Wo.apply(this,arguments)}(Bo).then((e=>{const n={textureWidth:512,textureHeight:512,waterNormals:e,sunDirection:this.data.sunDirection,sunColor:new Go.Color(this.data.sunColor),waterColor:new Go.Color(this.data.waterColor),distortionScale:this.data.distortionScale,fog:!1};AFRAME.utils.device.isMobile()||AFRAME.utils.device.isMobileVR()||this.data.forceMobile?this.water=new qo(t,n):(this.water=new Go.Water(t,n),this.water.mirrorCamera.layers.set(3)),this.el.setObject3D("water",this.water)}))},update(e){if(this.data.forceMobile!==e.forceMobile)return this.el.removeObject3D("water"),void this.init();if(!this.water)return;const t=this.water.material.uniforms;if(this.data.waterColor!==e.waterColor&&t.waterColor.value.setStyle(this.data.waterColor),this.data.distortionScale!==e.distortionScale&&(t.distortionScale.value=this.data.distortionScale),this.data.sunColor!==e.sunColor&&t.sunColor.value.setStyle(this.data.sunColor),this.data.inclination!==e.inclination||this.data.azimuth!==e.azimuth||this.data.distance!==e.distance){const e=Math.PI*(this.data.inclination-.5),n=2*Math.PI*(this.data.azimuth-.5),r=this.data.distance,a=r*Math.cos(n),i=r*Math.sin(n)*Math.sin(e),o=r*Math.sin(n)*Math.cos(e);t.sunDirection.value.set(a,i,o)}},tick(e){this.water&&(this.water.material.uniforms.time.value=e/1e3*this.data.speed)},remove(){this.el.removeObject3D("water"),this.el.getObject3D("mesh").visible=!0}});var $o=n(64866),Ko=n(99477);const{Mesh:Yo,PlaneBufferGeometry:Xo,MeshStandardMaterial:Qo,MeshPhongMaterial:Jo,Vector2:es,RepeatWrapping:ts}=Ko;class ns{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new es(1,1),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new es(1,1),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.0025,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.speed=e,this.scale=t,this.height=n,this.alternate=r}}class rs extends Yo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Xo(10,10,t,t);r.rotateX(-Math.PI/2);const a={ripplesSpeed:{value:.25},ripplesScale:{value:1},time:{value:0}},i=n?Jo:Qo;e.wrapS=e.wrapT=ts;const o=new i({color:21727,normalMap:e,roughness:.5,metalness:.5});o.name="SimpleWaterMaterial",o.onBeforeCompile=e=>{Object.assign(e.uniforms,a),e.vertexShader=e.vertexShader.replace("#include <fog_pars_vertex>","\n        #include <fog_pars_vertex>\n        varying vec3 vWPosition;\n      "),e.vertexShader=e.vertexShader.replace("#include <fog_vertex>","\n        #include <fog_vertex>\n        vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;\n      "),e.fragmentShader=e.fragmentShader.replace("#include <normalmap_pars_fragment>","\n        #include <normalmap_pars_fragment>\n\n        uniform float time;\n        uniform float ripplesSpeed;\n        uniform float ripplesScale;\n      \n        varying vec3 vWPosition;\n      \n        vec4 getNoise(vec2 uv){\n          float timeOffset = time * ripplesSpeed;\n          uv = (uv - 0.5) * (1.0 / ripplesScale);\n          vec2 uv0 = (uv/103.0)+vec2(timeOffset/17.0, timeOffset/29.0);\n          vec2 uv1 = uv/107.0-vec2(timeOffset/-19.0, timeOffset/31.0);\n          vec2 uv2 = uv/vec2(897.0, 983.0)+vec2(timeOffset/101.0, timeOffset/97.0);\n          vec2 uv3 = uv/vec2(991.0, 877.0)-vec2(timeOffset/109.0, timeOffset/-113.0);\n          vec4 noise = (texture2D(normalMap, uv0)) +\n                       (texture2D(normalMap, uv1)) +\n                       (texture2D(normalMap, uv2)) +\n                       (texture2D(normalMap, uv3));\n          return noise / 4.0;\n        }\n      "),e.fragmentShader=e.fragmentShader.replace("#include <normal_fragment_maps>","\n          // Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\n          vec3 eye_pos = -vViewPosition;\n          vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n          vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n          vec2 st0 = dFdx( vUv.st );\n          vec2 st1 = dFdy( vUv.st );\n\n          float scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\n\n          vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n          vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n          vec3 N = normalize( normal );\n          mat3 tsn = mat3( S, T, N );\n\n          vec3 mapN = getNoise(vWPosition.xz).xyz * 2.0 - 1.0;\n\n          mapN.xy *= normalScale;\n          mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n          normal = normalize( tsn * mapN );\n        ")},super(r,o),this.lowQuality=n,this.waterUniforms=a,n?this.material.specular.set(16777215):this.receiveShadow=!0,this.geometry.attributes.position.dynamic=!0,this.resolution=t,this.octaves=[new ns(new es(.5,.5),new es(1,1),.01,!0),new ns(new es(.05,6),new es(1,20),.1,!1)],this.simplex=new $o.L}get opacity(){return this.material.opacity}set opacity(e){this.material.opacity=e,1!==e&&(this.material.transparent=!0)}get color(){return this.material.color}get tideHeight(){return this.octaves[0].height}get tideScale(){return this.octaves[0].scale}get tideSpeed(){return this.octaves[0].speed}set tideHeight(e){this.octaves[0].height=e}get waveHeight(){return this.octaves[1].height}set waveHeight(e){this.octaves[1].height=e}get waveScale(){return this.octaves[1].scale}get waveSpeed(){return this.octaves[1].speed}set ripplesSpeed(e){this.waterUniforms.ripplesSpeed.value=e}get ripplesSpeed(){return this.waterUniforms.ripplesSpeed.value}set ripplesScale(e){this.waterUniforms.ripplesScale.value=e}get ripplesScale(){return this.waterUniforms.ripplesScale.value}update(e){const t=this.geometry.attributes.position;for(let n=0;n<=this.resolution;n++)for(let r=0;r<=this.resolution;r++){let a=0;for(let t=0;t<this.octaves.length;t++){const i=this.octaves[t];if(i.alternate){const t=this.simplex.noise(n*i.scale.x/this.resolution,r*i.scale.y/this.resolution);a+=Math.cos(t+i.speed.length()*e)*i.height}else a+=(this.simplex.noise((n*i.scale.x+e*i.speed.x)/this.resolution,(r*i.scale.y+e*i.speed.y)/this.resolution)-.5)*i.height}t.setY(n*(this.resolution+1)+r,a)}this.geometry.computeVertexNormals(),t.needsUpdate=!0,this.waterUniforms.time.value=e}clone(e){return new rs(this.material.normalMap,this.resolution,this.lowQuality).copy(this,e)}copy(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return super.copy(e,t),this.opacity=e.opacity,this.color.copy(e.color),this.tideHeight=e.tideHeight,this.tideScale.copy(e.tideScale),this.tideSpeed.copy(e.tideSpeed),this.waveHeight=e.waveHeight,this.waveScale.copy(e.waveScale),this.waveSpeed.copy(e.waveSpeed),this.ripplesSpeed=e.ripplesSpeed,this.ripplesScale=e.ripplesScale,this}}function as(e,t){return e&&t&&e.x===t.x&&e.y===t.y}let is=null;function os(e){return e}function ss(e){return e*e}function ls(e){return e*(2-e)}function us(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}function cs(e){return e*e*e}function ds(e){return--e*e*e+1}function hs(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}function fs(e){return e*e*e*e}function ps(e){return 1- --e*e*e*e}function ms(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}function gs(e){return e*e*e*e*e}function vs(e){return--e*e*e*e*e+1}function ys(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}function bs(e){return 1-Math.cos(e*Math.PI/2)}function ws(e){return Math.sin(e*Math.PI/2)}function xs(e){return.5*(1-Math.cos(Math.PI*e))}function Ls(e){return 0===e?0:Math.pow(1024,e-1)}function ks(e){return 1===e?1:1-Math.pow(2,-10*e)}function Ss(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}function As(e){return 1-Math.sqrt(1-e*e)}function _s(e){return Math.sqrt(1- --e*e)}function Es(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}function Ms(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)}function Cs(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1}function Ts(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}function Ds(e){const t=1.70158;return e*e*((t+1)*e-t)}function Ps(e){const t=1.70158;return--e*e*((t+1)*e+t)+1}function Os(e){const t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}function Rs(e){return 1-Zs(1-e)}function Zs(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Fs(e){return e<.5?.5*Rs(2*e):.5*Zs(2*e-1)+.5}function Is(e,t,n){return(t-e)*n+e}function Us(e){const t=e.getAttribute("uv");for(let e=0;e<t.count;e++)t.setY(e,1-t.getY(e));return e}AFRAME.registerComponent("simple-water",{schema:{opacity:{type:"number",default:1},color:{type:"color"},tideHeight:{type:"number",default:.01},tideScale:{type:"vec2",default:{x:1,y:1}},tideSpeed:{type:"vec2",default:{x:.5,y:.5}},waveHeight:{type:"number",default:.1},waveScale:{type:"vec2",default:{x:1,y:20}},waveSpeed:{type:"vec2",default:{x:.05,y:6}},ripplesScale:{type:"number",default:1},ripplesSpeed:{type:"number",default:.25}},init(){is||(is=(new Zt).load(Bo));const e="high"!==window.APP.store.state.preferences.materialQualitySetting;this.water=new rs(is,void 0,e),this.el.setObject3D("mesh",this.water)},update(e){this.data.opacity!==e.opacity&&(this.water.opacity=this.data.opacity),this.data.color!==e.color&&this.water.color.set(this.data.color),this.data.tideHeight!==e.tideHeight&&(this.water.tideHeight=this.data.tideHeight),as(this.data.tideScale,e.tideScale)||this.water.tideScale.copy(this.data.tideScale),as(this.data.tideSpeed,e.tideSpeed)||this.water.tideSpeed.copy(this.data.tideSpeed),this.data.waveHeight!==e.waveHeight&&(this.water.waveHeight=this.data.waveHeight),as(this.data.waveScale,e.waveScale)||this.water.waveScale.copy(this.data.waveScale),as(this.data.waveSpeed,e.waveSpeed)||this.water.waveSpeed.copy(this.data.waveSpeed),this.data.ripplesScale!==e.ripplesScale&&(this.water.ripplesScale=this.data.ripplesScale),this.data.ripplesSpeed!==e.ripplesSpeed&&(this.water.ripplesSpeed=this.data.ripplesSpeed)},tick(e){this.water.update(e/1e3)},remove(){this.el.removeObject3D("mesh")}}),n(14208),n(51337);class Ns extends Tr.Mesh{constructor(e){const t=new Tr.PlaneBufferGeometry(1,1,1,1);e&&!e.flipY&&Us(t);const n=new Tr.InstancedBufferGeometry;n.index=t.index,n.attributes=t.attributes,super(n,new Tr.ShaderMaterial({uniforms:Tr.UniformsUtils.merge([{map:{value:e},emitterMatrix:{value:new Tr.Matrix4}},Tr.UniformsLib.fog]),vertexShader:"\n  #include <common>\n\n  attribute vec4 particlePosition;\n  attribute vec4 particleColor;\n  attribute float particleAngle;\n\n  varying vec4 vColor;\n  varying vec2 vUV;\n\n  uniform mat4 emitterMatrix;\n\n  #include <fog_pars_vertex>\n\n  void main() {\n    vUV = uv;\n    vColor = particleColor;\n\n    float particleScale = particlePosition.w;\n    vec4 mvPosition = viewMatrix * emitterMatrix * vec4(particlePosition.xyz, 1.0);\n    \n    vec3 rotatedPosition = position;\n    rotatedPosition.x = cos( particleAngle ) * position.x - sin( particleAngle ) * position.y;\n    rotatedPosition.y = sin( particleAngle ) * position.x + cos( particleAngle ) * position.y;\n\n    mvPosition.xyz += rotatedPosition * particleScale;\n\n    gl_Position = projectionMatrix * mvPosition;\n\n    #include <fog_vertex>\n  }\n",fragmentShader:"\n  #include <common>\n  #include <fog_pars_fragment>\n\n  uniform sampler2D map;\n\n  varying vec2 vUV;\n  varying vec4 vColor;\n\n  void main() {\n    gl_FragColor = texture2D(map,  vUV) * vColor;\n    #include <fog_fragment>\n  }\n",transparent:!0,depthWrite:!1,fog:!0,blendEquation:Tr.AddEquation})),this.frustumCulled=!1,this.initialPositions=[],this.startSize=.25,this.endSize=.25,this.sizeRandomness=0,this.startVelocity=new Tr.Vector3(0,0,.5),this.endVelocity=new Tr.Vector3(0,0,.5),this.angularVelocity=0,this.particleCount=100,this.lifetime=5,this.lifetimes=[],this.lifetimeRandomness=5,this.particleSizeRandomness=[],this.ageRandomness=10,this.initialAges=[],this.ages=[],this.colors=[],this.endColor=new Tr.Color,this.middleColor=new Tr.Color,this.startColor=new Tr.Color,this.startOpacity=1,this.middleOpacity=1,this.endOpacity=1,this.colorCurve="linear",this.velocityCurve="linear",this.sizeCurve="linear",this.worldScale=new Tr.Vector3,this.inverseWorldScale=new Tr.Vector3,this.updateParticles()}updateParticles(){const e=this.material.uniforms.map.value,t=new Tr.PlaneBufferGeometry(1,1,1,1);e&&!e.flipY&&Us(t);const n=new Tr.InstancedBufferGeometry;n.index=t.index,n.attributes=t.attributes;const r=[],a=[],i=[],o=[],s=[],l=[],u=[],c=[];this.getWorldScale(this.worldScale);for(let e=0;e<this.particleCount;e++)s[e]=Math.random()*this.ageRandomness-this.ageRandomness,i[e]=this.lifetime+2*Math.random()*this.lifetimeRandomness,o[e]=s[e],l[3*e]=2*Math.random()-1,l[3*e+1]=2*Math.random()-1,l[3*e+2]=0,u[e]=Math.random()*this.sizeRandomness,r.push(l[3*e]*this.worldScale.x),r.push(l[3*e+1]*this.worldScale.y),r.push(l[3*e+2]),r.push(this.startSize+u[e]),c.push(0),a.push(this.startColor.r,this.startColor.g,this.startColor.b,0);n.setAttribute("particlePosition",new Tr.InstancedBufferAttribute(new Float32Array(r),4).setUsage(Tr.DynamicDrawUsage)),n.setAttribute("particleColor",new Tr.InstancedBufferAttribute(new Float32Array(a),4).setUsage(Tr.DynamicDrawUsage)),n.setAttribute("particleAngle",new Tr.InstancedBufferAttribute(new Float32Array(c),1).setUsage(Tr.DynamicDrawUsage)),this.geometry=n,this.initialPositions=l,this.particleSizeRandomness=u,this.ages=o,this.initialAges=s,this.lifetimes=i,this.colors=a}update(e){const t=this.geometry,n=t.attributes.particlePosition.array,a=t.attributes.particleColor.array,i=t.attributes.particleAngle.array;this.getWorldScale(this.worldScale),this.inverseWorldScale.set(1/this.worldScale.x,1/this.worldScale.y,1/this.worldScale.z);const o=this.material.uniforms.emitterMatrix.value;o.copy(this.matrixWorld),o.scale(this.inverseWorldScale);for(let t=0;t<this.particleCount;t++){const o=this.ages[t],l=this.ages[t]+=e;if(l<0)continue;if(l>0&&o<=0){a[4*t+3]=this.startOpacity,n[4*t]=this.initialPositions[3*t]*this.worldScale.x,n[4*t+1]=this.initialPositions[3*t+1]*this.worldScale.y,n[4*t+2]=0,n[4*t+3]=this.startSize+this.particleSizeRandomness[t],a[4*t]=this.startColor.r,a[4*t+1]=this.startColor.g,a[4*t+2]=this.startColor.b;continue}if(l>this.lifetimes[t]){this.ages[t]=this.initialAges[t],a[4*t+3]=0;continue}const u=(0,1,(s=this.ages[t]/this.lifetimes[t])<0&&(s=0),s>1&&(s=1),s),c=r;c[this.velocityCurve]||(console.warn(`Unknown velocity curve type ${this.velocityCurve} in particle emitter. Falling back to linear.`),this.velocityCurve="linear"),c[this.sizeCurve]||(console.warn(`Unknown size curve type ${this.sizeCurve} in particle emitter. Falling back to linear.`),this.sizeCurve="linear"),c[this.colorCurve]||(console.warn(`Unknown color curve type ${this.colorCurve} in particle emitter. Falling back to linear.`),this.colorCurve="linear");const d=c[this.velocityCurve](u),h=c[this.sizeCurve](u),f=c[this.colorCurve](u);if(n[4*t]+=Is(this.startVelocity.x,this.endVelocity.x,d)*e,n[4*t+1]+=Is(this.startVelocity.y,this.endVelocity.y,d)*e,n[4*t+2]+=Is(this.startVelocity.z,this.endVelocity.z,d)*e,n[4*t+3]=Is(this.startSize+this.particleSizeRandomness[t],this.endSize+this.particleSizeRandomness[t],h),i[t]+=this.angularVelocity*Tr.MathUtils.DEG2RAD*e,f<=.5){const e=f/.5;a[4*t]=Is(this.startColor.r,this.middleColor.r,e),a[4*t+1]=Is(this.startColor.g,this.middleColor.g,e),a[4*t+2]=Is(this.startColor.b,this.middleColor.b,e),a[4*t+3]=Is(this.startOpacity,this.middleOpacity,e)}else if(f>.5){const e=(f-.5)/.5;a[4*t]=Is(this.middleColor.r,this.endColor.r,e),a[4*t+1]=Is(this.middleColor.g,this.endColor.g,e),a[4*t+2]=Is(this.middleColor.b,this.endColor.b,e),a[4*t+3]=Is(this.middleOpacity,this.endOpacity,e)}}var s;t.attributes.particlePosition.needsUpdate=!0,t.attributes.particleColor.needsUpdate=!0,t.attributes.particleAngle.needsUpdate=!0}copy(e,t=!0){super.copy(e,t);const n=this.material,r=e.material;return n.uniforms.map.value=r.uniforms.map.value,this.startColor.copy(e.startColor),this.middleColor.copy(e.middleColor),this.endColor.copy(e.endColor),this.startOpacity=e.startOpacity,this.middleOpacity=e.middleOpacity,this.endOpacity=e.endOpacity,this.colorCurve=e.colorCurve,this.sizeCurve=e.sizeCurve,this.startSize=e.startSize,this.endSize=e.endSize,this.sizeRandomness=e.sizeRandomness,this.ageRandomness=e.ageRandomness,this.lifetime=e.lifetime,this.lifetimeRandomness=e.lifetimeRandomness,this.particleCount=e.particleCount,this.startVelocity.copy(e.startVelocity),this.endVelocity.copy(e.endVelocity),this.velocityCurve=e.velocityCurve,this.angularVelocity=e.angularVelocity,this}}var js=n.p+"src/assets/images\\warning_icon-2d854aef091eedb0ab59..png";function zs(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}const Bs=new URL(js,window.location.href).href;AFRAME.registerComponent("particle-emitter",{schema:{resolve:{type:"boolean",default:!0},src:{type:"string",default:Bs},startColor:{type:"color"},middleColor:{type:"color"},endColor:{type:"color"},startOpacity:{type:"number",default:1},middleOpacity:{type:"number",default:1},endOpacity:{type:"number",default:1},colorCurve:{type:"string",default:"linear"},sizeCurve:{type:"string",default:"linear"},startSize:{type:"number",default:1},endSize:{type:"number",default:1},sizeRandomness:{type:"number"},ageRandomness:{type:"number"},lifetime:{type:"number",default:1},lifetimeRandomness:{type:"number"},particleCount:{type:"number",default:10},startVelocity:{type:"vec3",default:{x:0,y:0,z:1}},endVelocity:{type:"vec3",default:{x:0,y:0,z:1}},velocityCurve:{type:"string",default:"linear"},angularVelocity:{type:"number"}},init(){this.particleEmitter=new Ns(null),this.particleEmitter.visible=!1,this.el.setObject3D("particle-emitter",this.particleEmitter),this.updateParticles=!1,this.data.src===Bs&&(this.data.resolve=!1)},setTexture(e,t){var n,r=this;return(n=function*(){let n=e;if(t){let t=(yield gr(e)).origin;t.startsWith("//")&&(t=location.protocol+t),n=jn(t)}const a=yield xr.loadAsync(n);r.data.src===e&&(r.particleEmitter.material.uniforms.map.value=a,r.particleEmitter.visible=!0,r.updateParticles=!0)},function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(e){zs(i,r,a,o,s,"next",e)}function s(e){zs(i,r,a,o,s,"throw",e)}o(void 0)}))})()},update(e){const t=this.data,n=this.particleEmitter;e.src!==t.src&&this.setTexture(t.src,t.resolve).catch(console.error),e.startColor===t.startColor&&e.startSize===t.startSize&&e.sizeRandomness===t.sizeRandomness&&e.ageRandomness===t.ageRandomness&&e.lifetime===t.lifetime&&e.lifetimeRandomness===t.lifetimeRandomness&&e.particleCount===t.particleCount||(this.updateParticles=!0),n.startColor.set(t.startColor),n.middleColor.set(t.middleColor),n.endColor.set(t.endColor),n.startOpacity=t.startOpacity,n.middleOpacity=t.middleOpacity,n.endOpacity=t.endOpacity,n.colorCurve=t.colorCurve,n.sizeCurve=t.sizeCurve,n.startSize=t.startSize,n.endSize=t.endSize,n.sizeRandomness=t.sizeRandomness,n.ageRandomness=t.ageRandomness,n.lifetime=t.lifetime,n.lifetimeRandomness=t.lifetimeRandomness,n.particleCount=t.particleCount,n.startVelocity.copy(t.startVelocity),n.endVelocity.copy(t.endVelocity),n.velocityCurve=t.velocityCurve,n.angularVelocity=t.angularVelocity},tick(e,t){this.updateParticles&&(this.particleEmitter.updateParticles(),this.updateParticles=!1),this.particleEmitter.visible&&this.particleEmitter.update(t/1e3)}}),n(71010);var Gs=n(99477);function Hs(){var e,t=0,n=[],r=0,a=0,i=h((function(e){a||s(1,e)})),o=h((function(e){a||s(-1,e)}));function s(n,r){a++;var i=0;try{r===m&&f();var o=n>0&&d(r);o?o.call(r,h((function(e){i++,s(1,e)})),h((function(e){i++,s(-1,e)}))):(t=n,e=r,l())}catch(e){t||i||s(-1,e)}}function l(){r||(setTimeout(u,0),r=1)}function u(){var e=n;r=0,n=[],e.forEach(c)}function c(e){e()}function d(e){var t=e&&(p(e)||"object"==typeof e)&&e.then;return p(t)&&t}function h(e){var t=0;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];t++||e.apply(this,n)}}function f(){throw new TypeError("Chaining cycle detected")}var p=function(e){return"function"==typeof e},m={then:function(r,a){var i=Hs();return n.push((function(){var n=t>0?r:a;if(p(n))try{var o=n(e);o===i&&f();var s=d(o);s?s.call(o,i.resolve,i.reject):i.resolve(o)}catch(e){i.reject(e)}else i[t>0?"resolve":"reject"](e)})),t&&l(),i},resolve:i,reject:o};return m}function Vs(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{then:n.then.bind(n),resolve:e,reject:t}}AFRAME.registerComponent("audio-zone-source",{init(){var e;this.originalAudioParamsData=null,null===(e=this.el.sceneEl.systems["hubs-systems"])||void 0===e||e.audioZonesSystem.registerSource(this)},remove(){var e;APP.zoneOverrides.delete(this.el),null===(e=this.el.sceneEl.systems["hubs-systems"])||void 0===e||e.audioZonesSystem.unregisterSource(this)},getPosition:(()=>{const e=new Gs.Vector3;return function(){const t=APP.audios.get(this.el);return t?t.getWorldPosition(e):e.set(0,0,0),e}})(),apply(e){APP.zoneOverrides.set(this.el,e);const t=APP.audios.get(this.el);t&&Bi(this.el,t)},restore(){APP.zoneOverrides.delete(this.el);const e=APP.audios.get(this.el);e&&Bi(this.el,e)}}),n(34155),Hs.all=Vs.all=function(e){var t=0,n=[],r=qs();return 0===e.length?r.resolve([]):e.forEach((function(a,i){var o=qs();o.resolve(a),o.then((function(a){t++,n[i]=a,t===e.length&&r.resolve(n)}),r.reject)})),r};var qs="function"==typeof Promise?Vs:Hs;function Ws(){var e=Object.create(null);function t(r,a){var i=r.id,o=r.name,s=r.dependencies;void 0===s&&(s=[]);var l=r.init;void 0===l&&(l=function(){});var u=r.getTransferables;if(void 0===u&&(u=null),!e[i])try{s=s.map((function(n){return n&&n.isWorkerModule&&(t(n,(function(e){if(e instanceof Error)throw e})),n=e[n.id].value),n})),l=n("<"+o+">.init",l),u&&(u=n("<"+o+">.getTransferables",u));var c=null;"function"==typeof l?c=l.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[i]={id:i,value:c,getTransferables:u},a(c)}catch(e){e&&e.noLog||console.error(e),a(e)}}function n(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(e){console.error(e)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var r=n.data,a=r.messageId,i=r.action,o=r.data;try{"registerModule"===i&&t(o,(function(e){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:{isCallable:"function"==typeof e}})})),"callModule"===i&&function(t,n){var r,a=t.id,i=t.args;e[a]&&"function"==typeof e[a].value||n(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var o=(r=e[a]).value.apply(r,i);o&&"function"==typeof o.then?o.then(s,(function(e){return n(e instanceof Error?e:new Error(""+e))})):s(o)}catch(e){n(e)}function s(t){try{var r=e[a].getTransferables&&e[a].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(e){console.error(e),n(e)}}}(o,(function(e,t){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:e},t||void 0)}))}catch(e){postMessage({messageId:a,success:!1,error:e.stack})}}))}var $s=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return $s=function(){return e},e},Ks=0,Ys=0,Xs=!1,Qs=Object.create(null),Js=Object.create(null),el=Object.create(null);function tl(e){if(!(e&&"function"==typeof e.init||Xs))throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,r=e.getTransferables,a=e.workerId;if(!$s())return function(e){var t=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return t._getInitResult().then((function(t){if("function"==typeof t)return t.apply(void 0,e);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,r=e.init;n=Array.isArray(n)?n.map((function(e){return e&&e._getInitResult?e._getInitResult():e})):[];var a=qs.all(n).then((function(e){return r.apply(null,e)}));return t._getInitResult=function(){return a},a},t}(e);null==a&&(a="#default");var i="workerModule"+ ++Ks,o=e.name||i,s=null;function l(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!s){s=rl(a,"registerModule",l.workerModuleData);var n=function(){s=null,Js[a].delete(n)};(Js[a]||(Js[a]=new Set)).add(n)}return s.then((function(t){if(t.isCallable)return rl(a,"callModule",{id:i,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!=typeof e||e.workerModuleData||(Xs=!0,e=tl({workerId:a,name:"<"+o+"> function dependency: "+e.name,init:"function(){return (\n"+nl(e)+"\n)}"}),Xs=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),l.workerModuleData={isWorkerModule:!0,id:i,name:o,dependencies:t,init:nl(n),getTransferables:r&&nl(r)},l}function nl(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function rl(e,t,n){var r=qs(),a=++Ys;return el[a]=function(e){e.success?r.resolve(e.result):r.reject(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=Qs[e];if(!t){var n=nl(Ws);(t=Qs[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=el[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete el[n],r(t)}}return t}(e).postMessage({messageId:a,action:t,data:n}),r}var al=tl({name:"Thenable",dependencies:[qs],init:function(e){return e}});const il=/\bvoid\s+main\s*\(\s*\)\s*{/g;function ol(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){let n=Tr.ShaderChunk[t];return n?ol(n):e}))}const sl=[];for(let e=0;e<256;e++)sl[e]=(e<16?"0":"")+e.toString(16);const ll=Object.assign||function(){let e=arguments[0];for(let t=1,n=arguments.length;t<n;t++){let n=arguments[t];if(n)for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}return e},ul=Date.now(),cl=new WeakMap,dl=new Map;let hl=1e10;function fl(e,t){const n=function(e){const t=JSON.stringify(e,ml);let n=vl.get(t);return null==n&&vl.set(t,n=++gl),n}(t);let r=cl.get(e);if(r||cl.set(e,r=Object.create(null)),r[n])return new r[n];const a=`_onBeforeCompile${n}`,i=function(r){e.onBeforeCompile.call(this,r);const i=this.customProgramCacheKey()+"|"+r.vertexShader+"|"+r.fragmentShader;let o=dl[i];if(!o){const e=function({vertexShader:e,fragmentShader:t},n,r){let{vertexDefs:a,vertexMainIntro:i,vertexMainOutro:o,vertexTransform:s,fragmentDefs:l,fragmentMainIntro:u,fragmentMainOutro:c,fragmentColorTransform:d,customRewriter:h,timeUniform:f}=n;if(a=a||"",i=i||"",o=o||"",l=l||"",u=u||"",c=c||"",(s||h)&&(e=ol(e)),(d||h)&&(t=ol(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),h){let n=h({vertexShader:e,fragmentShader:t});e=n.vertexShader,t=n.fragmentShader}if(d){let e=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(t=>(e.push(t),""))),c=`${d}\n${e.join("\n")}\n${c}`}if(f){const e=`\nuniform float ${f};\n`;a=e+a,l=e+l}return s&&(a=`${a}\nvoid troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ${s}\n}\n`,i=`\ntroika_position_${r} = vec3(position);\ntroika_normal_${r} = vec3(normal);\ntroika_uv_${r} = vec2(uv);\ntroikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});\n${i}\n`,e=(e=`vec3 troika_position_${r};\nvec3 troika_normal_${r};\nvec2 troika_uv_${r};\n${e}\n`).replace(/\b(position|normal|uv)\b/g,((e,t,n,a)=>/\battribute\s+vec[23]\s+$/.test(a.substr(0,n))?t:`troika_${t}_${r}`))),{vertexShader:e=pl(e,r,a,i,o),fragmentShader:t=pl(t,r,l,u,c)}}(r,t,n);o=dl[i]=e}r.vertexShader=o.vertexShader,r.fragmentShader=o.fragmentShader,ll(r.uniforms,this.uniforms),t.timeUniform&&(r.uniforms[t.timeUniform]={get value(){return Date.now()-ul}}),this[a]&&this[a](r)},o=function(){return s(t.chained?e:e.clone())},s=function(r){const a=Object.create(r,l);return Object.defineProperty(a,"baseMaterial",{value:e}),Object.defineProperty(a,"id",{value:hl++}),a.uuid=function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(sl[255&e]+sl[e>>8&255]+sl[e>>16&255]+sl[e>>24&255]+"-"+sl[255&t]+sl[t>>8&255]+"-"+sl[t>>16&15|64]+sl[t>>24&255]+"-"+sl[63&n|128]+sl[n>>8&255]+"-"+sl[n>>16&255]+sl[n>>24&255]+sl[255&r]+sl[r>>8&255]+sl[r>>16&255]+sl[r>>24&255]).toUpperCase()}(),a.uniforms=ll({},r.uniforms,t.uniforms),a.defines=ll({},r.defines,t.defines),a.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",a.extensions=ll({},r.extensions,t.extensions),a._listeners=void 0,a},l={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get:()=>i,set(e){this[a]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(ll(this.extensions,t.extensions),ll(this.defines,t.defines),ll(this.uniforms,Tr.UniformsUtils.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const t=new e.constructor;return s(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let n=this._depthMaterial;return n||(n=this._depthMaterial=fl(e.isDerivedMaterial?e.getDepthMaterial():new Tr.MeshDepthMaterial({depthPacking:Tr.RGBADepthPacking}),t),n.defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let n=this._distanceMaterial;return n||(n=this._distanceMaterial=fl(e.isDerivedMaterial?e.getDistanceMaterial():new Tr.MeshDistanceMaterial,t),n.defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:t,_distanceMaterial:n}=this;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return r[n]=o,new o}function pl(e,t,n,r,a){return(r||a||n)&&(e=e.replace(il,`\n${n}\nvoid troikaOrigMain${t}() {`),e+=`\nvoid main() {\n  ${r}\n  troikaOrigMain${t}();\n  ${a}\n}`),e}function ml(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let gl=0;const vl=new Map;function yl(e){function t(e,t,n,r,a,i,o){const s=1-o;return{x:s*s*e+2*s*o*n+o*o*a,y:s*s*t+2*s*o*r+o*o*i}}function n(e,t,n,r,a,i,o,s,l){const u=1-l;return{x:u*u*u*e+3*u*u*l*n+3*u*l*l*a+l*l*l*o,y:u*u*u*t+3*u*u*l*r+3*u*l*l*i+l*l*l*s}}function r(){return(self.performance||Date).now()}return function(a,i,o,s,l,u=1){const c=r(),d=new Uint8Array(a*i),h=s[2]-s[0],f=s[3]-s[1],p=e(s),m=/([MLQCZ])([^MLQCZ]*)/g;let g,v,y,b,w;for(;g=m.exec(o);){const e=g[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map((e=>parseFloat(e)));switch(g[1]){case"M":b=v=e[0],w=y=e[1];break;case"L":e[0]===b&&e[1]===w||p.addLineSegment(b,w,b=e[0],w=e[1]);break;case"Q":{let n={x:b,y:w};for(let r=1;r<16;r++){let a=t(b,w,e[0],e[1],e[2],e[3],r/15);p.addLineSegment(n.x,n.y,a.x,a.y),n=a}b=e[2],w=e[3];break}case"C":{let t={x:b,y:w};for(let r=1;r<16;r++){let a=n(b,w,e[0],e[1],e[2],e[3],e[4],e[5],r/15);p.addLineSegment(t.x,t.y,a.x,a.y),t=a}b=e[4],w=e[5];break}case"Z":b===v&&w===y||p.addLineSegment(b,w,v,y)}}for(let e=0;e<a;e++)for(let t=0;t<i;t++){const n=p.findNearestSignedDistance(s[0]+h*(e+.5)/a,s[1]+f*(t+.5)/i,l);let r=Math.pow(1-Math.abs(n)/l,u)/2;n<0&&(r=1-r),r=Math.max(0,Math.min(255,Math.round(255*r))),d[t*a+e]=r}return{textureData:d,timing:r()-c}}}function bl(e){let t=!1;const n=[];function r(){t&&(n.sort((function(e,t){return e.maxX-t.maxX})),t=!1)}function a(e,t,n,r,a,i){const o=a-n,s=i-r,l=o*o+s*s,u=l?Math.max(0,Math.min(1,((e-n)*o+(t-r)*s)/l)):0,c=e-(n+u*o),d=t-(r+u*s);return c*c+d*d}return{addLineSegment:function(e,r,a,i){const o={x0:e,y0:r,x1:a,y1:i,minX:Math.min(e,a),minY:Math.min(r,i),maxX:Math.max(e,a),maxY:Math.max(r,i)};n.push(o),t=!0},findNearestSignedDistance:function(e,t){r();let i=1/0,o=1/0;for(let r=n.length;r--;){const s=n[r];if(s.maxX+o<=e)break;if(e+o>s.minX&&t-o<s.maxY&&t+o>s.minY){const n=a(e,t,s.x0,s.y0,s.x1,s.y1);n<i&&(i=n,o=Math.sqrt(i))}}return function(e,t){r();let a=!1;for(let r=n.length;r--;){const i=n[r];if(i.maxX<=e)break;i.minY<t&&i.maxY>t&&i.y0>t!=i.y1>t&&e<(i.x1-i.x0)*(t-i.y0)/(i.y1-i.y0)+i.x0&&(a=!a)}return a}(e,t)&&(o=-o),o}}}Tr.DoubleSide;const wl=tl({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var a=4;n.readUshort(r,a),a+=2,n.readUshort(r,a),a+=2;var i=n.readUint(r,a);a+=4;for(var o=[],s=0;s<i;s++){var l=n.readUint(r,a);a+=4,o.push(t._readFont(r,l))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,a=n;r.readFixed(e,n),n+=4;var i=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:e,_offset:a},l={},u=0;u<i;u++){var c=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var d=r.readUint(e,n);n+=4;var h=r.readUint(e,n);n+=4,l[c]={offset:d,length:h}}for(u=0;u<o.length;u++){var f=o[u];l[f]&&(s[f.trim()]=t[f.trim()].parse(e,l[f].offset,l[f].length,s))}return s},_tabOffset:function(e,n,r){for(var a=t._bin,i=a.readUshort(e,r+4),o=r+12,s=0;s<i;s++){var l=a.readASCII(e,o,4);o+=4,a.readUint(e,o),o+=4;var u=a.readUint(e,o);if(o+=4,a.readUint(e,o),o+=4,l==n)return u}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,r){for(var a=[],i=0;i<r;i++)a.push(t._bin.readUshort(e,n+2*i));return a},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",a=0;a<n;a++)r+=String.fromCharCode(e[t+a]);return r},readUnicode:function(e,t,n){for(var r="",a=0;a<n;a++){var i=e[t++]<<8|e[t++];r+=String.fromCharCode(i)}return r},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,r){var a=t._bin._tdec;return a&&0==n&&r==e.length?a.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push(e[t+a]);return r},readASCIIArray:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push(String.fromCharCode(e[t+a]));return r},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,r,a,i){var o=t._bin,s={},l=n;o.readFixed(e,n),n+=4;var u=o.readUshort(e,n);n+=2;var c=o.readUshort(e,n);n+=2;var d=o.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,l+u),s.featureList=t._lctf.readFeatureList(e,l+c),s.lookupList=t._lctf.readLookupList(e,l+d,i),s},t._lctf.readLookupList=function(e,n,r){var a=t._bin,i=n,o=[],s=a.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=a.readUshort(e,n);n+=2;var c=t._lctf.readLookupTable(e,i+u,r);o.push(c)}return o},t._lctf.readLookupTable=function(e,n,r){var a=t._bin,i=n,o={tabs:[]};o.ltype=a.readUshort(e,n),n+=2,o.flag=a.readUshort(e,n),n+=2;var s=a.readUshort(e,n);n+=2;for(var l=o.ltype,u=0;u<s;u++){var c=a.readUshort(e,n);n+=2;var d=r(e,l,i+c,o);o.tabs.push(d)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,a=[],i=r.readUshort(e,n);if(n+=2,1==i){var o=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++)a.push(o+l),a.push(o+l),a.push(r.readUshort(e,n)),n+=2}if(2==i){var u=r.readUshort(e,n);for(n+=2,l=0;l<u;l++)a.push(r.readUshort(e,n)),n+=2,a.push(r.readUshort(e,n)),n+=2,a.push(r.readUshort(e,n)),n+=2}return a},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],a=e[n+1];if(e[n+2],r<=t&&t<=a)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,a={};a.fmt=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);return n+=2,1==a.fmt&&(a.tab=r.readUshorts(e,n,i)),2==a.fmt&&(a.tab=r.readUshorts(e,n,3*i)),a},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var a=t._lctf.getInterval(r,n);if(-1!=a)return r[a+2]+(n-r[a])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2;var c=t._lctf.readFeatureTable(e,a+u);c.tag=l.trim(),i.push(c)}return i},t._lctf.readFeatureTable=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2,o>0&&(i.featureParams=a+o);var s=r.readUshort(e,n);n+=2,i.tab=[];for(var l=0;l<s;l++)i.tab.push(r.readUshort(e,n+2*l));return i},t._lctf.readScriptList=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2,i[l.trim()]=t._lctf.readScriptTable(e,a+u)}return i},t._lctf.readScriptTable=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2,i.default=t._lctf.readLangSysTable(e,a+o);var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,i[u.trim()]=t._lctf.readLangSysTable(e,a+c)}return i},t._lctf.readLangSysTable=function(e,n){var r=t._bin,a={};r.readUshort(e,n),n+=2,a.reqFeature=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);return n+=2,a.features=r.readUshorts(e,n,i),a},t.CFF={},t.CFF.parse=function(e,n,r){var a=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var i=[];n=t.CFF.readIndex(e,n,i);for(var o=[],s=0;s<i.length-1;s++)o.push(a.readASCII(e,n+i[s],i[s+1]-i[s]));n+=i[i.length-1];var l=[];n=t.CFF.readIndex(e,n,l);var u=[];for(s=0;s<l.length-1;s++)u.push(t.CFF.readDict(e,n+l[s],n+l[s+1]));n+=l[l.length-1];var c=u[0],d=[];n=t.CFF.readIndex(e,n,d);var h=[];for(s=0;s<d.length-1;s++)h.push(a.readASCII(e,n+d[s],d[s+1]-d[s]));if(n+=d[d.length-1],t.CFF.readSubrs(e,n,c),c.CharStrings){n=c.CharStrings,d=[],n=t.CFF.readIndex(e,n,d);var f=[];for(s=0;s<d.length-1;s++)f.push(a.readBytes(e,n+d[s],d[s+1]-d[s]));c.CharStrings=f}if(c.ROS){n=c.FDArray;var p=[];for(n=t.CFF.readIndex(e,n,p),c.FDArray=[],s=0;s<p.length-1;s++){var m=t.CFF.readDict(e,n+p[s],n+p[s+1]);t.CFF._readFDict(e,m,h),c.FDArray.push(m)}n+=p[p.length-1],n=c.FDSelect,c.FDSelect=[];var g=e[n];if(n++,3!=g)throw g;var v=a.readUshort(e,n);for(n+=2,s=0;s<v+1;s++)c.FDSelect.push(a.readUshort(e,n),e[n+2]),n+=3}return c.Encoding&&(c.Encoding=t.CFF.readEncoding(e,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=t.CFF.readCharset(e,c.charset,c.CharStrings.length)),t.CFF._readFDict(e,c,h),c},t.CFF._readFDict=function(e,n,r){var a;for(var i in n.Private&&(a=n.Private[1],n.Private=t.CFF.readDict(e,a,a+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,a+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(i)&&(n[i]=r[n[i]-426+35])},t.CFF.readSubrs=function(e,n,r){var a=t._bin,i=[];n=t.CFF.readIndex(e,n,i);var o,s=i.length;o=s<1240?107:s<33900?1131:32768,r.Bias=o,r.Subrs=[];for(var l=0;l<i.length-1;l++)r.Subrs.push(a.readBytes(e,n+i[l],i[l+1]-i[l]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var a=[".notdef"],i=e[n];if(n++,0!=i)throw"error: unknown encoding format: "+i;var o=e[n];n++;for(var s=0;s<o;s++)a.push(e[n+s]);return a},t.CFF.readCharset=function(e,n,r){var a=t._bin,i=[".notdef"],o=e[n];if(n++,0==o)for(var s=0;s<r;s++){var l=a.readUshort(e,n);n+=2,i.push(l)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;i.length<r;){l=a.readUshort(e,n),n+=2;var u=0;for(1==o?(u=e[n],n++):(u=a.readUshort(e,n),n+=2),s=0;s<=u;s++)i.push(l),l++}}return i},t.CFF.readIndex=function(e,n,r){var a=t._bin,i=a.readUshort(e,n)+1,o=e[n+=2];if(n++,1==o)for(var s=0;s<i;s++)r.push(e[n+s]);else if(2==o)for(s=0;s<i;s++)r.push(a.readUshort(e,n+2*s));else if(3==o)for(s=0;s<i;s++)r.push(16777215&a.readUint(e,n+3*s-1));else if(1!=i)throw"unsupported offset size: "+o+", count: "+i;return(n+=i*o)-1},t.CFF.getCharString=function(e,n,r){var a=t._bin,i=e[n],o=e[n+1];e[n+2],e[n+3],e[n+4];var s=1,l=null,u=null;i<=20&&(l=i,s=1),12==i&&(l=100*i+o,s=2),21<=i&&i<=27&&(l=i,s=1),28==i&&(u=a.readShort(e,n+1),s=3),29<=i&&i<=31&&(l=i,s=1),32<=i&&i<=246&&(u=i-139,s=1),247<=i&&i<=250&&(u=256*(i-247)+o+108,s=2),251<=i&&i<=254&&(u=256*-(i-251)-o-108,s=2),255==i&&(u=a.readInt(e,n+1)/65535,s=5),r.val=null!=u?u:"o"+l,r.size=s},t.CFF.readCharString=function(e,n,r){for(var a=n+r,i=t._bin,o=[];n<a;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,c=null,d=null;s<=20&&(c=s,u=1),12==s&&(c=100*s+l,u=2),19!=s&&20!=s||(c=s,u=2),21<=s&&s<=27&&(c=s,u=1),28==s&&(d=i.readShort(e,n+1),u=3),29<=s&&s<=31&&(c=s,u=1),32<=s&&s<=246&&(d=s-139,u=1),247<=s&&s<=250&&(d=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(d=256*-(s-251)-l-108,u=2),255==s&&(d=i.readInt(e,n+1)/65535,u=5),o.push(null!=d?d:"o"+c),n+=u}return o},t.CFF.readDict=function(e,n,r){for(var a=t._bin,i={},o=[];n<r;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,c=null,d=null;if(28==s&&(d=a.readShort(e,n+1),u=3),29==s&&(d=a.readInt(e,n+1),u=5),32<=s&&s<=246&&(d=s-139,u=1),247<=s&&s<=250&&(d=256*(s-247)+l+108,u=2),251<=s&&s<=254&&(d=256*-(s-251)-l-108,u=2),255==s)throw d=a.readInt(e,n+1)/65535,u=5,"unknown number";if(30==s){var h=[];for(u=1;;){var f=e[n+u];u++;var p=f>>4,m=15&f;if(15!=p&&h.push(p),15!=m&&h.push(m),15==m)break}for(var g="",v=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<h.length;y++)g+=v[h[y]];d=parseFloat(g)}s<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],u=1,12==s&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],u=2)),null!=c?(i[c]=1==o.length?o[0]:o,o=[]):o.push(d),n+=u}return i},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var a=t._bin,i={};a.readUshort(e,n),n+=2;var o=a.readUshort(e,n);n+=2;var s=[];i.tables=[];for(var l=0;l<o;l++){var u=a.readUshort(e,n);n+=2;var c=a.readUshort(e,n);n+=2;var d=a.readUint(e,n);n+=4;var h="p"+u+"e"+c,f=s.indexOf(d);if(-1==f){var p;f=i.tables.length,s.push(d);var m=a.readUshort(e,d);0==m?p=t.cmap.parse0(e,d):4==m?p=t.cmap.parse4(e,d):6==m?p=t.cmap.parse6(e,d):12==m?p=t.cmap.parse12(e,d):console.debug("unknown format: "+m,u,c,d),i.tables.push(p)}if(null!=i[h])throw"multiple tables for one platform+encoding";i[h]=f}return i},t.cmap.parse0=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,a.map=[];for(var o=0;o<i-6;o++)a.map.push(e[n+o]);return a},t.cmap.parse4=function(e,n){var r=t._bin,a=n,i={};i.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var l=s/2;i.searchRange=r.readUshort(e,n),n+=2,i.entrySelector=r.readUshort(e,n),n+=2,i.rangeShift=r.readUshort(e,n),n+=2,i.endCount=r.readUshorts(e,n,l),n+=2*l,n+=2,i.startCount=r.readUshorts(e,n,l),n+=2*l,i.idDelta=[];for(var u=0;u<l;u++)i.idDelta.push(r.readShort(e,n)),n+=2;for(i.idRangeOffset=r.readUshorts(e,n,l),n+=2*l,i.glyphIdArray=[];n<a+o;)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse6=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,a.firstCode=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2,a.glyphIdArray=[];for(var o=0;o<i;o++)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse12=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var i=r.readUint(e,n);n+=4,a.groups=[];for(var o=0;o<i;o++){var s=n+12*o,l=r.readUint(e,s+0),u=r.readUint(e,s+4),c=r.readUint(e,s+8);a.groups.push([l,u,c])}return a},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var a=[],i=0;i<r.maxp.numGlyphs;i++)a.push(null);return a},t.glyf._parseGlyf=function(e,n){var r=t._bin,a=e._data,i=t._tabOffset(a,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var o={};if(o.noc=r.readShort(a,i),i+=2,o.xMin=r.readShort(a,i),i+=2,o.yMin=r.readShort(a,i),i+=2,o.xMax=r.readShort(a,i),i+=2,o.yMax=r.readShort(a,i),i+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(r.readUshort(a,i)),i+=2;var l=r.readUshort(a,i);if(i+=2,a.length-i<l)return null;o.instructions=r.readBytes(a,i,l),i+=l;var u=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<u;s++){var c=a[i];if(i++,o.flags.push(c),0!=(8&c)){var d=a[i];i++;for(var h=0;h<d;h++)o.flags.push(c),s++}}for(o.xs=[],s=0;s<u;s++){var f=0!=(2&o.flags[s]),p=0!=(16&o.flags[s]);f?(o.xs.push(p?a[i]:-a[i]),i++):p?o.xs.push(0):(o.xs.push(r.readShort(a,i)),i+=2)}for(o.ys=[],s=0;s<u;s++)f=0!=(4&o.flags[s]),p=0!=(32&o.flags[s]),f?(o.ys.push(p?a[i]:-a[i]),i++):p?o.ys.push(0):(o.ys.push(r.readShort(a,i)),i+=2);var m=0,g=0;for(s=0;s<u;s++)m+=o.xs[s],g+=o.ys[s],o.xs[s]=m,o.ys[s]=g}else{var v;o.parts=[];do{v=r.readUshort(a,i),i+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(y),y.glyphIndex=r.readUshort(a,i),i+=2,1&v){var b=r.readShort(a,i);i+=2;var w=r.readShort(a,i);i+=2}else b=r.readInt8(a,i),i++,w=r.readInt8(a,i),i++;2&v?(y.m.tx=b,y.m.ty=w):(y.p1=b,y.p2=w),8&v?(y.m.a=y.m.d=r.readF2dot14(a,i),i+=2):64&v?(y.m.a=r.readF2dot14(a,i),i+=2,y.m.d=r.readF2dot14(a,i),i+=2):128&v&&(y.m.a=r.readF2dot14(a,i),i+=2,y.m.b=r.readF2dot14(a,i),i+=2,y.m.c=r.readF2dot14(a,i),i+=2,y.m.d=r.readF2dot14(a,i),i+=2)}while(32&v);if(256&v){var x=r.readUshort(a,i);for(i+=2,o.instr=[],s=0;s<x;s++)o.instr.push(a[i]),i++}}return o},t.GPOS={},t.GPOS.parse=function(e,n,r,a){return t._lctf.parse(e,n,r,a,t.GPOS.subt)},t.GPOS.subt=function(e,n,r,a){var i=t._bin,o=r,s={};if(s.fmt=i.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&s.fmt<=2){var l=i.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,l+o)}if(1==n&&1==s.fmt){var u=i.readUshort(e,r);r+=2;var c=t._lctf.numOfOnes(u);0!=u&&(s.pos=t.GPOS.readValueRecord(e,r,u))}else if(2==n&&s.fmt>=1&&s.fmt<=2){u=i.readUshort(e,r),r+=2;var d=i.readUshort(e,r);r+=2,c=t._lctf.numOfOnes(u);var h=t._lctf.numOfOnes(d);if(1==s.fmt){s.pairsets=[];var f=i.readUshort(e,r);r+=2;for(var p=0;p<f;p++){var m=o+i.readUshort(e,r);r+=2;var g=i.readUshort(e,m);m+=2;for(var v=[],y=0;y<g;y++){var b=i.readUshort(e,m);m+=2,0!=u&&(A=t.GPOS.readValueRecord(e,m,u),m+=2*c),0!=d&&(_=t.GPOS.readValueRecord(e,m,d),m+=2*h),v.push({gid2:b,val1:A,val2:_})}s.pairsets.push(v)}}if(2==s.fmt){var w=i.readUshort(e,r);r+=2;var x=i.readUshort(e,r);r+=2;var L=i.readUshort(e,r);r+=2;var k=i.readUshort(e,r);for(r+=2,s.classDef1=t._lctf.readClassDef(e,o+w),s.classDef2=t._lctf.readClassDef(e,o+x),s.matrix=[],p=0;p<L;p++){var S=[];for(y=0;y<k;y++){var A=null,_=null;0!=u&&(A=t.GPOS.readValueRecord(e,r,u),r+=2*c),0!=d&&(_=t.GPOS.readValueRecord(e,r,d),r+=2*h),S.push({val1:A,val2:_})}s.matrix.push(S)}}}else{if(9==n&&1==s.fmt){var E=i.readUshort(e,r);r+=2;var M=i.readUint(e,r);if(r+=4,9==a.ltype)a.ltype=E;else if(a.ltype!=E)throw"invalid extension substitution";return t.GPOS.subt(e,a.ltype,o+M)}console.debug("unsupported GPOS table LookupType",n,"format",s.fmt)}return s},t.GPOS.readValueRecord=function(e,n,r){var a=t._bin,i=[];return i.push(1&r?a.readShort(e,n):0),n+=1&r?2:0,i.push(2&r?a.readShort(e,n):0),n+=2&r?2:0,i.push(4&r?a.readShort(e,n):0),n+=4&r?2:0,i.push(8&r?a.readShort(e,n):0),n+=8&r?2:0,i},t.GSUB={},t.GSUB.parse=function(e,n,r,a){return t._lctf.parse(e,n,r,a,t.GSUB.subt)},t.GSUB.subt=function(e,n,r,a){var i=t._bin,o=r,s={};if(s.fmt=i.readUshort(e,r),r+=2,1!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||4==n||5==n&&s.fmt<=2||6==n&&s.fmt<=2){var l=i.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,o+l)}if(1==n&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=i.readShort(e,r),r+=2;else if(2==s.fmt){var u=i.readUshort(e,r);r+=2,s.newg=i.readUshorts(e,r,u),r+=2*s.newg.length}}else if(4==n){s.vals=[],u=i.readUshort(e,r),r+=2;for(var c=0;c<u;c++){var d=i.readUshort(e,r);r+=2,s.vals.push(t.GSUB.readLigatureSet(e,o+d))}}else if(5==n&&2==s.fmt){if(2==s.fmt){var h=i.readUshort(e,r);r+=2,s.cDef=t._lctf.readClassDef(e,o+h),s.scset=[];var f=i.readUshort(e,r);for(r+=2,c=0;c<f;c++){var p=i.readUshort(e,r);r+=2,s.scset.push(0==p?null:t.GSUB.readSubClassSet(e,o+p))}}}else if(6==n&&3==s.fmt){if(3==s.fmt){for(c=0;c<3;c++){u=i.readUshort(e,r),r+=2;for(var m=[],g=0;g<u;g++)m.push(t._lctf.readCoverage(e,o+i.readUshort(e,r+2*g)));r+=2*u,0==c&&(s.backCvg=m),1==c&&(s.inptCvg=m),2==c&&(s.ahedCvg=m)}u=i.readUshort(e,r),r+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(e,r,u)}}else{if(7==n&&1==s.fmt){var v=i.readUshort(e,r);r+=2;var y=i.readUint(e,r);if(r+=4,9==a.ltype)a.ltype=v;else if(a.ltype!=v)throw"invalid extension substitution";return t.GSUB.subt(e,a.ltype,o+y)}console.debug("unsupported GSUB table LookupType",n,"format",s.fmt)}return s},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,a=n,i=[],o=r(e,n);n+=2;for(var s=0;s<o;s++){var l=r(e,n);n+=2,i.push(t.GSUB.readSubClassRule(e,a+l))}return i},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,a={},i=r(e,n),o=r(e,n+=2);n+=2,a.input=[];for(var s=0;s<i-1;s++)a.input.push(r(e,n)),n+=2;return a.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),a},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var a=t._bin.readUshort,i=[],o=0;o<r;o++)i.push(a(e,n),a(e,n+2)),n+=4;return i},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,i.push(t.GSUB.readChainSubClassRule(e,a+l))}return i},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,a={},i=["backtrack","input","lookahead"],o=0;o<i.length;o++){var s=r.readUshort(e,n);n+=2,1==o&&s--,a[i[o]]=r.readUshorts(e,n,s),n+=2*a[i[o]].length}return s=r.readUshort(e,n),n+=2,a.subst=r.readUshorts(e,n,2*s),n+=2*a.subst.length,a},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var l=r.readUshort(e,n);n+=2,i.push(t.GSUB.readLigature(e,a+l))}return i},t.GSUB.readLigature=function(e,n){var r=t._bin,a={chain:[]};a.nglyph=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2;for(var o=0;o<i-1;o++)a.chain.push(r.readUshort(e,n)),n+=2;return a},t.head={},t.head.parse=function(e,n,r){var a=t._bin,i={};return a.readFixed(e,n),n+=4,i.fontRevision=a.readFixed(e,n),n+=4,a.readUint(e,n),n+=4,a.readUint(e,n),n+=4,i.flags=a.readUshort(e,n),n+=2,i.unitsPerEm=a.readUshort(e,n),n+=2,i.created=a.readUint64(e,n),n+=8,i.modified=a.readUint64(e,n),n+=8,i.xMin=a.readShort(e,n),n+=2,i.yMin=a.readShort(e,n),n+=2,i.xMax=a.readShort(e,n),n+=2,i.yMax=a.readShort(e,n),n+=2,i.macStyle=a.readUshort(e,n),n+=2,i.lowestRecPPEM=a.readUshort(e,n),n+=2,i.fontDirectionHint=a.readShort(e,n),n+=2,i.indexToLocFormat=a.readShort(e,n),n+=2,i.glyphDataFormat=a.readShort(e,n),n+=2,i},t.hhea={},t.hhea.parse=function(e,n,r){var a=t._bin,i={};return a.readFixed(e,n),n+=4,i.ascender=a.readShort(e,n),n+=2,i.descender=a.readShort(e,n),n+=2,i.lineGap=a.readShort(e,n),n+=2,i.advanceWidthMax=a.readUshort(e,n),n+=2,i.minLeftSideBearing=a.readShort(e,n),n+=2,i.minRightSideBearing=a.readShort(e,n),n+=2,i.xMaxExtent=a.readShort(e,n),n+=2,i.caretSlopeRise=a.readShort(e,n),n+=2,i.caretSlopeRun=a.readShort(e,n),n+=2,i.caretOffset=a.readShort(e,n),n+=2,n+=8,i.metricDataFormat=a.readShort(e,n),n+=2,i.numberOfHMetrics=a.readUshort(e,n),n+=2,i},t.hmtx={},t.hmtx.parse=function(e,n,r,a){for(var i=t._bin,o={aWidth:[],lsBearing:[]},s=0,l=0,u=0;u<a.maxp.numGlyphs;u++)u<a.hhea.numberOfHMetrics&&(s=i.readUshort(e,n),n+=2,l=i.readShort(e,n),n+=2),o.aWidth.push(s),o.lsBearing.push(l);return o},t.kern={},t.kern.parse=function(e,n,r,a){var i=t._bin,o=i.readUshort(e,n);if(n+=2,1==o)return t.kern.parseV1(e,n-2,r,a);var s=i.readUshort(e,n);n+=2;for(var l={glyph1:[],rval:[]},u=0;u<s;u++){n+=2,r=i.readUshort(e,n),n+=2;var c=i.readUshort(e,n);n+=2;var d=c>>>8;if(0!=(d&=15))throw"unknown kern table format: "+d;n=t.kern.readFormat0(e,n,l)}return l},t.kern.parseV1=function(e,n,r,a){var i=t._bin;i.readFixed(e,n),n+=4;var o=i.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},l=0;l<o;l++){i.readUint(e,n),n+=4;var u=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2;var c=u>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var a=t._bin,i=-1,o=a.readUshort(e,n);n+=2,a.readUshort(e,n),n+=2,a.readUshort(e,n),n+=2,a.readUshort(e,n),n+=2;for(var s=0;s<o;s++){var l=a.readUshort(e,n);n+=2;var u=a.readUshort(e,n);n+=2;var c=a.readShort(e,n);n+=2,l!=i&&(r.glyph1.push(l),r.rval.push({glyph2:[],vals:[]}));var d=r.rval[r.rval.length-1];d.glyph2.push(u),d.vals.push(c),i=l}return n},t.loca={},t.loca.parse=function(e,n,r,a){var i=t._bin,o=[],s=a.head.indexToLocFormat,l=a.maxp.numGlyphs+1;if(0==s)for(var u=0;u<l;u++)o.push(i.readUshort(e,n+(u<<1))<<1);if(1==s)for(u=0;u<l;u++)o.push(i.readUint(e,n+(u<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var a=t._bin,i={},o=a.readUint(e,n);return n+=4,i.numGlyphs=a.readUshort(e,n),n+=2,65536==o&&(i.maxPoints=a.readUshort(e,n),n+=2,i.maxContours=a.readUshort(e,n),n+=2,i.maxCompositePoints=a.readUshort(e,n),n+=2,i.maxCompositeContours=a.readUshort(e,n),n+=2,i.maxZones=a.readUshort(e,n),n+=2,i.maxTwilightPoints=a.readUshort(e,n),n+=2,i.maxStorage=a.readUshort(e,n),n+=2,i.maxFunctionDefs=a.readUshort(e,n),n+=2,i.maxInstructionDefs=a.readUshort(e,n),n+=2,i.maxStackElements=a.readUshort(e,n),n+=2,i.maxSizeOfInstructions=a.readUshort(e,n),n+=2,i.maxComponentElements=a.readUshort(e,n),n+=2,i.maxComponentDepth=a.readUshort(e,n),n+=2),i},t.name={},t.name.parse=function(e,n,r){var a=t._bin,i={};a.readUshort(e,n),n+=2;var o=a.readUshort(e,n);n+=2,a.readUshort(e,n);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],u=n+=2,c=0;c<o;c++){var d=a.readUshort(e,n);n+=2;var h=a.readUshort(e,n);n+=2;var f=a.readUshort(e,n);n+=2;var p=a.readUshort(e,n);n+=2;var m=a.readUshort(e,n);n+=2;var g=a.readUshort(e,n);n+=2;var v,y=l[p],b=u+12*o+g;if(0==d)v=a.readUnicode(e,b,m/2);else if(3==d&&0==h)v=a.readUnicode(e,b,m/2);else if(0==h)v=a.readASCII(e,b,m);else if(1==h)v=a.readUnicode(e,b,m/2);else if(3==h)v=a.readUnicode(e,b,m/2);else{if(1!=d)throw"unknown encoding "+h+", platformID: "+d;v=a.readASCII(e,b,m),console.debug("reading unknown MAC encoding "+h+" as ASCII")}var w="p"+d+","+f.toString(16);null==i[w]&&(i[w]={}),i[w][void 0!==y?y:p]=v,i[w]._lang=f}for(var x in i)if(null!=i[x].postScriptName&&1033==i[x]._lang)return i[x];for(var x in i)if(null!=i[x].postScriptName&&0==i[x]._lang)return i[x];for(var x in i)if(null!=i[x].postScriptName&&3084==i[x]._lang)return i[x];for(var x in i)if(null!=i[x].postScriptName)return i[x];for(var x in i){s=x;break}return console.debug("returning name table with languageID "+i[s]._lang),i[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var a=t._bin.readUshort(e,n);n+=2;var i={};if(0==a)t["OS/2"].version0(e,n,i);else if(1==a)t["OS/2"].version1(e,n,i);else if(2==a||3==a||4==a)t["OS/2"].version2(e,n,i);else{if(5!=a)throw"unknown OS/2 table version: "+a;t["OS/2"].version5(e,n,i)}return i},t["OS/2"].version0=function(e,n,r){var a=t._bin;return r.xAvgCharWidth=a.readShort(e,n),n+=2,r.usWeightClass=a.readUshort(e,n),n+=2,r.usWidthClass=a.readUshort(e,n),n+=2,r.fsType=a.readUshort(e,n),n+=2,r.ySubscriptXSize=a.readShort(e,n),n+=2,r.ySubscriptYSize=a.readShort(e,n),n+=2,r.ySubscriptXOffset=a.readShort(e,n),n+=2,r.ySubscriptYOffset=a.readShort(e,n),n+=2,r.ySuperscriptXSize=a.readShort(e,n),n+=2,r.ySuperscriptYSize=a.readShort(e,n),n+=2,r.ySuperscriptXOffset=a.readShort(e,n),n+=2,r.ySuperscriptYOffset=a.readShort(e,n),n+=2,r.yStrikeoutSize=a.readShort(e,n),n+=2,r.yStrikeoutPosition=a.readShort(e,n),n+=2,r.sFamilyClass=a.readShort(e,n),n+=2,r.panose=a.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=a.readUint(e,n),n+=4,r.ulUnicodeRange2=a.readUint(e,n),n+=4,r.ulUnicodeRange3=a.readUint(e,n),n+=4,r.ulUnicodeRange4=a.readUint(e,n),n+=4,r.achVendID=[a.readInt8(e,n),a.readInt8(e,n+1),a.readInt8(e,n+2),a.readInt8(e,n+3)],n+=4,r.fsSelection=a.readUshort(e,n),n+=2,r.usFirstCharIndex=a.readUshort(e,n),n+=2,r.usLastCharIndex=a.readUshort(e,n),n+=2,r.sTypoAscender=a.readShort(e,n),n+=2,r.sTypoDescender=a.readShort(e,n),n+=2,r.sTypoLineGap=a.readShort(e,n),n+=2,r.usWinAscent=a.readUshort(e,n),n+=2,r.usWinDescent=a.readUshort(e,n),n+2},t["OS/2"].version1=function(e,n,r){var a=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=a.readUint(e,n),n+=4,r.ulCodePageRange2=a.readUint(e,n),n+4},t["OS/2"].version2=function(e,n,r){var a=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=a.readShort(e,n),n+=2,r.sCapHeight=a.readShort(e,n),n+=2,r.usDefault=a.readUshort(e,n),n+=2,r.usBreak=a.readUshort(e,n),n+=2,r.usMaxContext=a.readUshort(e,n),n+2},t["OS/2"].version5=function(e,n,r){var a=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=a.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=a.readUshort(e,n),n+2},t.post={},t.post.parse=function(e,n,r){var a=t._bin,i={};return i.version=a.readFixed(e,n),n+=4,i.italicAngle=a.readFixed(e,n),n+=4,i.underlinePosition=a.readShort(e,n),n+=2,i.underlineThickness=a.readShort(e,n),n+=2,i},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var a=n.tables[r];if(0==a.format)return t>=a.map.length?0:a.map[t];if(4==a.format){for(var i=-1,o=0;o<a.endCount.length;o++)if(t<=a.endCount[o]){i=o;break}return-1==i||a.startCount[i]>t?0:65535&(0!=a.idRangeOffset[i]?a.glyphIdArray[t-a.startCount[i]+(a.idRangeOffset[i]>>1)-(a.idRangeOffset.length-i)]:t+a.idDelta[i])}if(12==a.format){if(t>a.groups[a.groups.length-1][1])return 0;for(o=0;o<a.groups.length;o++){var s=a.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+a.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var a=e.SVG.entries[n];return null==a?r:("string"==typeof a&&(a=t.SVG.toPath(a),e.SVG.entries[n]=a),a)}if(e.CFF){var i={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var l=0;o.FDSelect[l+2]<=n;)l+=2;s=o.FDArray[o.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],i,o,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var a=n.glyf[e];null==a&&(a=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=a&&(a.noc>-1?t.U._simpleGlyph(a,r):t.U._compoGlyph(a,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var a=0==r?0:e.endPts[r-1]+1,i=e.endPts[r],o=a;o<=i;o++){var s=o==a?i:o-1,l=o==i?a:o+1,u=1&e.flags[o],c=1&e.flags[s],d=1&e.flags[l],h=e.xs[o],f=e.ys[o];if(o==a)if(u){if(!c){t.U.P.moveTo(n,h,f);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else c?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+h)/2,(e.ys[s]+f)/2);u?c&&t.U.P.lineTo(n,h,f):d?t.U.P.qcurveTo(n,h,f,e.xs[l],e.ys[l]):t.U.P.qcurveTo(n,h,f,(h+e.xs[l])/2,(f+e.ys[l])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var a=0;a<e.parts.length;a++){var i={cmds:[],crds:[]},o=e.parts[a];t.U._drawGlyf(o.glyphIndex,n,i);for(var s=o.m,l=0;l<i.crds.length;l+=2){var u=i.crds[l],c=i.crds[l+1];r.crds.push(u*s.a+c*s.b+s.tx),r.crds.push(u*s.c+c*s.d+s.ty)}for(l=0;l<i.cmds.length;l++)r.cmds.push(i.cmds[l])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U.getPairAdjustment=function(e,n,r){var a=0;if(e.GPOS)for(var i=e.GPOS,o=i.lookupList,s=i.featureList,l=[],u=0;u<s.length;u++){var c=s[u];if("kern"==c.tag)for(var d=0;d<c.tab.length;d++)if(!l[c.tab[d]]){l[c.tab[d]]=!0;for(var h=o[c.tab[d]],f=0;f<h.tabs.length;f++)if(null!=h.tabs[f]){var p,m=h.tabs[f];if(!m.coverage||-1!=(p=t._lctf.coverageIndex(m.coverage,n)))if(1==h.ltype);else if(2==h.ltype){var g;if(1==m.fmt){var v=m.pairsets[p];for(u=0;u<v.length;u++)v[u].gid2==r&&(g=v[u])}else if(2==m.fmt){var y=t.U._getGlyphClass(n,m.classDef1),b=t.U._getGlyphClass(r,m.classDef2);g=m.matrix[y][b]}g&&g.val1&&g.val1[2]&&(a+=g.val1[2]),g&&g.val2&&g.val2[0]&&(a+=g.val2[0])}}}}if(e.kern){var w=e.kern.glyph1.indexOf(n);if(-1!=w){var x=e.kern.rval[w].glyph2.indexOf(r);-1!=x&&(a+=e.kern.rval[w].vals[x])}}return a},t.U._applySubs=function(e,n,r,a){for(var i=e.length-n-1,o=0;o<r.tabs.length;o++)if(null!=r.tabs[o]){var s,l=r.tabs[o];if(!l.coverage||-1!=(s=t._lctf.coverageIndex(l.coverage,e[n])))if(1==r.ltype)e[n],1==l.fmt?e[n]=e[n]+l.delta:e[n]=l.newg[s];else if(4==r.ltype)for(var u=l.vals[s],c=0;c<u.length;c++){var d=u[c],h=d.chain.length;if(!(h>i)){for(var f=!0,p=0,m=0;m<h;m++){for(;-1==e[n+p+(1+m)];)p++;d.chain[m]!=e[n+p+(1+m)]&&(f=!1)}if(f){for(e[n]=d.nglyph,m=0;m<h+p;m++)e[n+m+1]=-1;break}}}else if(5==r.ltype&&2==l.fmt)for(var g=t._lctf.getInterval(l.cDef,e[n]),v=l.cDef[g+2],y=l.scset[v],b=0;b<y.length;b++){var w=y[b],x=w.input;if(!(x.length>i)){for(f=!0,m=0;m<x.length;m++){var L=t._lctf.getInterval(l.cDef,e[n+1+m]);if(-1==g&&l.cDef[L+2]!=x[m]){f=!1;break}}if(f){var k=w.substLookupRecords;for(c=0;c<k.length;c+=2)k[c],k[c+1]}}}else if(6==r.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,n-l.backCvg.length))continue;if(!t.U._glsCovered(e,l.inptCvg,n))continue;if(!t.U._glsCovered(e,l.ahedCvg,n+l.inptCvg.length))continue;var S=l.lookupRec;for(b=0;b<S.length;b+=2){g=S[b];var A=a[S[b+1]];t.U._applySubs(e,n+g,A,a)}}}},t.U._glsCovered=function(e,n,r){for(var a=0;a<n.length;a++)if(-1==t._lctf.coverageIndex(n[a],e[r+a]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var a={cmds:[],crds:[]},i=0,o=0;o<n.length;o++){var s=n[o];if(-1!=s){for(var l=o<n.length-1&&-1!=n[o+1]?n[o+1]:0,u=t.U.glyphToPath(e,s),c=0;c<u.crds.length;c+=2)a.crds.push(u.crds[c]+i),a.crds.push(u.crds[c+1]);for(r&&a.cmds.push(r),c=0;c<u.cmds.length;c++)a.cmds.push(u.cmds[c]);r&&a.cmds.push("X"),i+=e.hmtx.aWidth[s],o<n.length-1&&(i+=t.U.getPairAdjustment(e,s,l))}}return a},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,a,i,o){e.cmds.push("C"),e.crds.push(t,n,r,a,i,o)},t.U.P.qcurveTo=function(e,t,n,r,a){e.cmds.push("Q"),e.crds.push(t,n,r,a)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,a,i){for(var o=n.stack,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open,d=0,h=n.x,f=n.y,p=0,m=0,g=0,v=0,y=0,b=0,w=0,x=0,L=0,k=0,S={val:0,size:0};d<e.length;){t.CFF.getCharString(e,d,S);var A=S.val;if(d+=S.size,"o1"==A||"o18"==A)o.length%2!=0&&!l&&(u=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o3"==A||"o23"==A)o.length%2!=0&&!l&&(u=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,l=!0;else if("o4"==A)o.length>1&&!l&&(u=o.shift()+a.nominalWidthX,l=!0),c&&t.U.P.closePath(i),f+=o.pop(),t.U.P.moveTo(i,h,f),c=!0;else if("o5"==A)for(;o.length>0;)h+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,h,f);else if("o6"==A||"o7"==A)for(var _=o.length,E="o6"==A,M=0;M<_;M++){var C=o.shift();E?h+=C:f+=C,E=!E,t.U.P.lineTo(i,h,f)}else if("o8"==A||"o24"==A){_=o.length;for(var T=0;T+6<=_;)p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),h=g+o.shift(),f=v+o.shift(),t.U.P.curveTo(i,p,m,g,v,h,f),T+=6;"o24"==A&&(h+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,h,f))}else{if("o11"==A)break;if("o1234"==A||"o1235"==A||"o1236"==A||"o1237"==A)"o1234"==A&&(m=f,g=(p=h+o.shift())+o.shift(),k=v=m+o.shift(),b=v,x=f,h=(w=(y=(L=g+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(i,p,m,g,v,L,k),t.U.P.curveTo(i,y,b,w,x,h,f)),"o1235"==A&&(p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),L=g+o.shift(),k=v+o.shift(),y=L+o.shift(),b=k+o.shift(),w=y+o.shift(),x=b+o.shift(),h=w+o.shift(),f=x+o.shift(),o.shift(),t.U.P.curveTo(i,p,m,g,v,L,k),t.U.P.curveTo(i,y,b,w,x,h,f)),"o1236"==A&&(p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),k=v=m+o.shift(),b=v,w=(y=(L=g+o.shift())+o.shift())+o.shift(),x=b+o.shift(),h=w+o.shift(),t.U.P.curveTo(i,p,m,g,v,L,k),t.U.P.curveTo(i,y,b,w,x,h,f)),"o1237"==A&&(p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),L=g+o.shift(),k=v+o.shift(),y=L+o.shift(),b=k+o.shift(),w=y+o.shift(),x=b+o.shift(),Math.abs(w-h)>Math.abs(x-f)?h=w+o.shift():f=x+o.shift(),t.U.P.curveTo(i,p,m,g,v,L,k),t.U.P.curveTo(i,y,b,w,x,h,f));else if("o14"==A){if(o.length>0&&!l&&(u=o.shift()+r.nominalWidthX,l=!0),4==o.length){var D=o.shift(),P=o.shift(),O=o.shift(),R=o.shift(),Z=t.CFF.glyphBySE(r,O),F=t.CFF.glyphBySE(r,R);t.U._drawCFF(r.CharStrings[Z],n,r,a,i),n.x=D,n.y=P,t.U._drawCFF(r.CharStrings[F],n,r,a,i)}c&&(t.U.P.closePath(i),c=!1)}else if("o19"==A||"o20"==A)o.length%2!=0&&!l&&(u=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,l=!0,d+=s+7>>3;else if("o21"==A)o.length>2&&!l&&(u=o.shift()+a.nominalWidthX,l=!0),f+=o.pop(),h+=o.pop(),c&&t.U.P.closePath(i),t.U.P.moveTo(i,h,f),c=!0;else if("o22"==A)o.length>1&&!l&&(u=o.shift()+a.nominalWidthX,l=!0),h+=o.pop(),c&&t.U.P.closePath(i),t.U.P.moveTo(i,h,f),c=!0;else if("o25"==A){for(;o.length>6;)h+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,h,f);p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),h=g+o.shift(),f=v+o.shift(),t.U.P.curveTo(i,p,m,g,v,h,f)}else if("o26"==A)for(o.length%2&&(h+=o.shift());o.length>0;)p=h,m=f+o.shift(),h=g=p+o.shift(),f=(v=m+o.shift())+o.shift(),t.U.P.curveTo(i,p,m,g,v,h,f);else if("o27"==A)for(o.length%2&&(f+=o.shift());o.length>0;)m=f,g=(p=h+o.shift())+o.shift(),v=m+o.shift(),h=g+o.shift(),f=v,t.U.P.curveTo(i,p,m,g,v,h,f);else if("o10"==A||"o29"==A){var I="o10"==A?a:r;if(0==o.length)console.debug("error: empty stack");else{var U=o.pop(),N=I.Subrs[U+I.Bias];n.x=h,n.y=f,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c,t.U._drawCFF(N,n,r,a,i),h=n.x,f=n.y,s=n.nStems,l=n.haveWidth,u=n.width,c=n.open}}else if("o30"==A||"o31"==A){var j=o.length,z=(T=0,"o31"==A);for(T+=j-(_=-3&j);T<_;)z?(m=f,g=(p=h+o.shift())+o.shift(),f=(v=m+o.shift())+o.shift(),_-T==5?(h=g+o.shift(),T++):h=g,z=!1):(p=h,m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),h=g+o.shift(),_-T==5?(f=v+o.shift(),T++):f=v,z=!0),t.U.P.curveTo(i,p,m,g,v,h,f),T+=4}else{if("o"==(A+"").charAt(0))throw console.debug("Unknown operation: "+A,e),A;o.push(A)}}}n.x=h,n.y=f,n.nStems=s,n.haveWidth=l,n.width=u,n.open=c};var n=t,r={Typr:n};return e.Typr=n,e.default=r,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr},function(){return function(e){var t=Uint8Array,n=Uint16Array,r=Uint32Array,a=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var a=new n(31),i=0;i<31;++i)a[i]=t+=1<<e[i-1];var o=new r(a[30]);for(i=1;i<30;++i)for(var s=a[i];s<a[i+1];++s)o[s]=s-a[i]<<5|i;return[a,o]},l=s(a,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var d=s(i,0)[0],h=new n(32768),f=0;f<32768;++f){var p=(43690&f)>>>1|(21845&f)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,h[f]=((65280&p)>>>8|(255&p)<<8)>>>1}var m=function(e,t,r){for(var a=e.length,i=0,o=new n(t);i<a;++i)++o[e[i]-1];var s,l=new n(t);for(i=0;i<t;++i)l[i]=l[i-1]+o[i-1]<<1;if(r){s=new n(1<<t);var u=15-t;for(i=0;i<a;++i)if(e[i])for(var c=i<<4|e[i],d=t-e[i],f=l[e[i]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)s[h[f]>>>u]=c}else for(s=new n(a),i=0;i<a;++i)e[i]&&(s[i]=h[l[e[i]-1]++]>>>15-e[i]);return s},g=new t(288);for(f=0;f<144;++f)g[f]=8;for(f=144;f<256;++f)g[f]=9;for(f=256;f<280;++f)g[f]=7;for(f=280;f<288;++f)g[f]=8;var v=new t(32);for(f=0;f<32;++f)v[f]=5;var y=m(g,9,1),b=m(v,5,1),w=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},x=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},L=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},k=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],S=function(e,t,n){var r=new Error(t||k[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,S),!n)throw r;return r},A=function(e,s,l){var c=e.length;if(!c||l&&!l.l&&c<5)return s||new t(0);var h=!s||l,f=!l||l.i;l||(l={}),s||(s=new t(3*c));var p,g=function(e){var n=s.length;if(e>n){var r=new t(Math.max(2*n,e));r.set(s),s=r}},v=l.f||0,k=l.p||0,A=l.b||0,_=l.l,E=l.d,M=l.m,C=l.n,T=8*c;do{if(!_){l.f=v=x(e,k,1);var D=x(e,k+1,3);if(k+=3,!D){var P=e[(G=((p=k)/8|0)+(7&p&&1)+4)-4]|e[G-3]<<8,O=G+P;if(O>c){f&&S(0);break}h&&g(A+P),s.set(e.subarray(G,O),A),l.b=A+=P,l.p=k=8*O;continue}if(1==D)_=y,E=b,M=9,C=5;else if(2==D){var R=x(e,k,31)+257,Z=x(e,k+10,15)+4,F=R+x(e,k+5,31)+1;k+=14;for(var I=new t(F),U=new t(19),N=0;N<Z;++N)U[o[N]]=x(e,k+3*N,7);k+=3*Z;var j=w(U),z=(1<<j)-1,B=m(U,j,1);for(N=0;N<F;){var G,H=B[x(e,k,z)];if(k+=15&H,(G=H>>>4)<16)I[N++]=G;else{var V=0,q=0;for(16==G?(q=3+x(e,k,3),k+=2,V=I[N-1]):17==G?(q=3+x(e,k,7),k+=3):18==G&&(q=11+x(e,k,127),k+=7);q--;)I[N++]=V}}var W=I.subarray(0,R),$=I.subarray(R);M=w(W),C=w($),_=m(W,M,1),E=m($,C,1)}else S(1);if(k>T){f&&S(0);break}}h&&g(A+131072);for(var K=(1<<M)-1,Y=(1<<C)-1,X=k;;X=k){var Q=(V=_[L(e,k)&K])>>>4;if((k+=15&V)>T){f&&S(0);break}if(V||S(2),Q<256)s[A++]=Q;else{if(256==Q){X=k,_=null;break}var J=Q-254;if(Q>264){var ee=a[N=Q-257];J=x(e,k,(1<<ee)-1)+u[N],k+=ee}var te=E[L(e,k)&Y],ne=te>>>4;if(te||S(3),k+=15&te,$=d[ne],ne>3&&(ee=i[ne],$+=L(e,k)&(1<<ee)-1,k+=ee),k>T){f&&S(0);break}h&&g(A+131072);for(var re=A+J;A<re;A+=4)s[A]=s[A-$],s[A+1]=s[A+1-$],s[A+2]=s[A+2-$],s[A+3]=s[A+3-$];A=re}}l.l=_,l.p=X,l.b=A,_&&(v=1,l.m=M,l.d=E,l.n=C)}while(!v);return A==s.length?s:function(e,a,i){(null==a||a<0)&&(a=0),(null==i||i>e.length)&&(i=e.length);var o=new(e instanceof n?n:e instanceof r?r:t)(i-a);return o.set(e.subarray(a,i)),o}(s,0,A)},_=new t(0),E="undefined"!=typeof TextDecoder&&new TextDecoder;try{E.decode(_,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),n=0;function r(){var e=t.getUint16(n);return n+=2,e}function a(){var e=t.getUint32(n);return n+=4,e}function i(e){v.setUint16(y,e),y+=2}function o(e){v.setUint32(y,e),y+=4}for(var s={signature:a(),flavor:a(),length:a(),numTables:r(),reserved:r(),totalSfntSize:a(),majorVersion:r(),minorVersion:r(),metaOffset:a(),metaLength:a(),metaOrigLength:a(),privOffset:a(),privLength:a()},l=0;Math.pow(2,l)<=s.numTables;)l++;l--;for(var u=16*Math.pow(2,l),c=16*s.numTables-u,d=12,h=[],f=0;f<s.numTables;f++)h.push({tag:a(),offset:a(),compLength:a(),origLength:a(),origChecksum:a()}),d+=16;var p,m=new Uint8Array(12+16*h.length+h.reduce((function(e,t){return e+t.origLength+4}),0)),g=m.buffer,v=new DataView(g),y=0;return o(s.flavor),i(s.numTables),i(u),i(l),i(c),h.forEach((function(e){o(e.tag),o(e.origChecksum),o(d),o(e.origLength),e.outOffset=d,(d+=e.origLength)%4!=0&&(d+=4-d%4)})),h.forEach((function(t){var n,r=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var a=new Uint8Array(t.origLength);n=new Uint8Array(r,2),A(n,a)}else a=new Uint8Array(r);m.set(a,t.outOffset);var i=0;(d=t.outOffset+t.origLength)%4!=0&&(i=4-d%4),m.set(new Uint8Array(i).buffer,t.outOffset+t.origLength),p=d+i})),g.slice(0,p)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"};let a;function i(e){if(!a){const e={R:2,L:1,D:4,C:16,U:32,T:8};a=new Map;for(let t in r){let n=0;r[t].split(",").forEach((r=>{let[i,o]=r.split("+");i=parseInt(i,36),o=o?parseInt(o,36):0,a.set(n+=i,e[t]);for(let r=o;r--;)a.set(++n,e[t])}))}}return a.get(e)||32}const o=[null,"isol","init","fina","medi"];function s(e){const t=new Uint8Array(e.length);let n=32,r=1,a=-1;for(let o=0;o<e.length;o++){const s=e.codePointAt(o);let l=0|i(s),u=1;8&l||(21&n?22&l?(u=3,1!==r&&3!==r||t[a]++):33&l&&(2!==r&&4!==r||t[a]--):34&n&&(2!==r&&4!==r||t[a]--),r=t[o]=u,n=l,a=o,s>65535&&o++)}return t}return function(r){const a=new Uint8Array(r,0,4),i=e._bin.readASCII(a,0,4);if("wOFF"===i)r=t(r);else if("wOF2"===i)throw new Error("woff2 fonts not supported");return function(t){const r=Object.create(null),a={unitsPerEm:t.head.unitsPerEm,ascender:t.hhea.ascender,descender:t.hhea.descender,forEachGlyph(i,l,u,c){let d=0;const h=1/a.unitsPerEm*l,f=function(t,n){const r=[];for(let a=0;a<n.length;a++){const i=n.codePointAt(a);i>65535&&a++,r.push(e.U.codeToGlyph(t,i))}const a=t.GSUB;if(a){const{lookupList:t,featureList:i}=a;let l;const u=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,c=[];i.forEach((a=>{if(u.test(a.tag))for(let i=0;i<a.tab.length;i++){if(c[a.tab[i]])continue;c[a.tab[i]]=!0;const u=t[a.tab[i]],d=/^(isol|init|fina|medi)$/.test(a.tag);d&&!l&&(l=s(n));for(let n=0;n<r.length;n++)l&&d&&o[l[n]]!==a.tag||e.U._applySubs(r,n,u,t)}}))}return r}(t,i);let p=0,m=-1;return f.forEach(((a,o)=>{if(-1!==a){let i=r[a];if(!i){const{cmds:o,crds:s}=e.U.glyphToPath(t,a);let l,u,c,d,h="",f=0;for(let e=0,t=o.length;e<t;e++){const t=n[o[e]];h+=o[e];for(let e=1;e<=t;e++)h+=(e>1?",":"")+s[f++]}if(s.length){l=u=1/0,c=d=-1/0;for(let e=0,t=s.length;e<t;e+=2){let t=s[e],n=s[e+1];t<l&&(l=t),n<u&&(u=n),t>c&&(c=t),n>d&&(d=n)}}else l=c=u=d=0;i=r[a]={index:a,advanceWidth:t.hmtx.aWidth[a],xMin:l,yMin:u,xMax:c,yMax:d,path:h,pathCommandCount:o.length}}-1!==m&&(d+=e.U.getPairAdjustment(t,m,a)*h),c.call(null,i,d,p),i.advanceWidth&&(d+=i.advanceWidth*h),u&&(d+=u*l),m=a}p+=i.codePointAt(p)>65535?2:1})),d}};return a}(e.parse(r)[0])}}],init:(e,t,n)=>n(e(),t())}),xl={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},Ll=new Tr.Color;let kl=!1;function Sl(){return(self.performance||Date).now()}const Al=Object.create(null);function _l(e,t){kl=!0,e=function(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}({},e);const n=Sl();if(e.font=(r=e.font||xl.defaultFontURL,El||(El="undefined"==typeof document?{}:document.createElement("a")),El.href=r,El.href),e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||xl.sdfGlyphSize,null!=e.colorRanges){let t={};for(let n in e.colorRanges)if(e.colorRanges.hasOwnProperty(n)){let r=e.colorRanges[n];"number"!=typeof r&&(r=Ll.set(r).getHex()),t[n]=r}e.colorRanges=t}var r;Object.freeze(e);const{textureWidth:a,sdfExponent:i}=xl,{sdfGlyphSize:o}=e;let s=Al[o];s||(s=Al[o]={glyphCount:0,sdfTexture:new Tr.DataTexture(new Uint8Array(o*a*4),a,o,Tr.RGBAFormat,void 0,void 0,void 0,void 0,Tr.LinearFilter,Tr.LinearFilter),glyphsByFont:new Map});let l=s.glyphsByFont.get(e.font);l||s.glyphsByFont.set(e.font,l=new Map),Tl(e).then((r=>{const{glyphIds:a,glyphPositions:u,fontSize:c,unitsPerEm:d,timings:h}=r,f=[],p=new Float32Array(4*a.length),m=c/d;let g=0,v=0;const y=Sl();a.forEach(((e,t)=>{let n=l.get(e);if(!n){const{path:t,pathBounds:a}=r.glyphData[e],i=Math.max(a[2]-a[0],a[3]-a[1])/o*(xl.sdfMargin*o+.5),u=s.glyphCount++,c=[a[0]-i,a[1]-i,a[2]+i,a[3]+i];l.set(e,n={path:t,atlasIndex:u,sdfViewBox:c}),f.push(n)}const{sdfViewBox:i}=n,c=u[v++],d=u[v++];p[g++]=c+i[0]*m,p[g++]=d+i[1]*m,p[g++]=c+i[2]*m,p[g++]=d+i[3]*m,a[t]=n.atlasIndex})),h.quads=(h.quads||0)+(Sl()-y);const b=Sl();h.sdf={},qs.all(f.map((({path:e,atlasIndex:t,sdfViewBox:n})=>{const r=Math.max(n[2]-n[0],n[3]-n[1]);return Cl(o,o,e,n,r,xl.sdfExponent).then((({textureData:e,timing:n})=>(h.sdf[t]=n,{atlasIndex:t,textureData:e,timing:n})))}))).then((l=>{l.length&&(l.forEach((({atlasIndex:e,textureData:t})=>{const n=s.sdfTexture.image;for(;n.data.length<(e+1)*o*o;){const e=new Uint8Array(2*n.data.length);e.set(n.data),n.data=e,n.height*=2,s.sdfTexture.dispose()}const r=Math.floor(e/4),a=n.width/o,i=Math.floor(r/a)*n.width*o*4+r%a*o*4+e%4;for(let e=0;e<o;e++){const r=e*o,a=i+e*n.width*4;for(let e=0;e<o;e++)n.data[a+4*e]=t[r+e]}})),s.sdfTexture.needsUpdate=!0),h.sdfTotal=Sl()-b,h.total=Sl()-n,t(Object.freeze({parameters:e,sdfTexture:s.sdfTexture,sdfGlyphSize:o,sdfExponent:i,glyphBounds:p,glyphAtlasIndices:a,glyphColors:r.glyphColors,caretPositions:r.caretPositions,caretHeight:r.caretHeight,chunkedBounds:r.chunkedBounds,ascender:r.ascender,descender:r.descender,lineHeight:r.lineHeight,topBaseline:r.topBaseline,blockBounds:r.blockBounds,visibleBounds:r.visibleBounds,timings:r.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),r.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");const[e,t,n,a]=r.blockBounds;return[n-e,a-t]}}))}))}))}let El;const Ml=tl({name:"Typesetter",dependencies:[xl,wl,function(e,t,n){const{defaultFontURL:r}=n,a=Object.create(null),i=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,s=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function l(t,n){t||(t=r);let i=a[t];var o;i?i.pending?i.pending.push(n):n(i):(a[t]={pending:[n]},o=t,function n(){const i=e=>{console.error(`Failure loading font ${o}${o===r?"":"; trying fallback"}`,e),o!==r&&(o=r,n())};try{const n=new XMLHttpRequest;n.open("get",o,!0),n.responseType="arraybuffer",n.onload=function(){if(n.status>=400)i(new Error(n.statusText));else if(n.status>0)try{(e=>{let n=a[t].pending;a[t]=e,n.forEach((t=>t(e)))})(e(n.response))}catch(e){i(e)}},n.onerror=i,n.send()}catch(e){i(e)}}())}function u({text:e="",font:n=r,sdfGlyphSize:a=64,fontSize:u=1,letterSpacing:p=0,lineHeight:m="normal",maxWidth:g=i,direction:v,textAlign:y="left",textIndent:b=0,whiteSpace:w="normal",overflowWrap:x="normal",anchorX:L=0,anchorY:k=0,includeCaretPositions:S=!1,chunkedBoundsSize:A=8192,colorRanges:_=null},E,M=!1){const C=h(),T={fontLoad:0,typesetting:0};e.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),u=+u,p=+p,g=+g,m=m||"normal",b=+b,l(n,(n=>{const r=isFinite(g);let a=null,l=null,D=null,P=null,O=null,R=null,Z=null,F=0,I=0,U="nowrap"!==w;const{ascender:N,descender:j,unitsPerEm:z}=n;T.fontLoad=h()-C;const B=h(),G=u/z;"normal"===m&&(m=(N-j)/z);const H=((m*=u)-(N-j)*G)/2,V=-(N*G+H),q=Math.min(m,(N-j)*G),W=(N+j)/2*G-q/2;let $=b,K=new f;const Y=[K];n.forEachGlyph(e,u,p,((t,n,a)=>{const i=e.charAt(a),l=t.advanceWidth*G,c=K.count;let d;if("isEmpty"in t||(t.isWhitespace=!!i&&/\s/.test(i),t.canBreakAfter=!!i&&s.test(i),t.isEmpty=t.xMin===t.xMax||t.yMin===t.yMax||o.test(i)),t.isWhitespace||t.isEmpty||I++,U&&r&&!t.isWhitespace&&n+l+$>g&&c){if(K.glyphAt(c-1).glyphObj.canBreakAfter)d=new f,$=-n;else for(let e=c;e--;){if(0===e&&"break-word"===x){d=new f,$=-n;break}if(K.glyphAt(e).glyphObj.canBreakAfter){d=K.splitAt(e+1);const t=d.glyphAt(0).x;$-=t;for(let e=d.count;e--;)d.glyphAt(e).x-=t;break}}d&&(K.isSoftWrapped=!0,K=d,Y.push(K),F=g)}let h=K.glyphAt(K.count);h.glyphObj=t,h.x=n+$,h.width=l,h.charIndex=a,"\n"===i&&(K=new f,Y.push(K),$=-(n+l+p*u)+b)})),Y.forEach((e=>{for(let t=e.count;t--;){let{glyphObj:n,x:r,width:a}=e.glyphAt(t);if(!n.isWhitespace)return e.width=r+a,void(e.width>F&&(F=e.width))}}));let X=0,Q=0;if(L&&("number"==typeof L?X=-L:"string"==typeof L&&(X=-F*("left"===L?0:"center"===L?.5:"right"===L?1:c(L)))),k)if("number"==typeof k)Q=-k;else if("string"==typeof k){let e=Y.length*m;Q="top"===k?0:"top-baseline"===k?-V:"middle"===k?e/2:"bottom"===k?e:"bottom-baseline"===k?e-H+j*G:c(k)*e}if(!M){const r=t.getEmbeddingLevels(e,v);a=new Uint16Array(I),l=new Float32Array(2*I),D={},R=[i,i,-1/0,-1/0],Z=[];let o=V;S&&(O=new Float32Array(3*e.length)),_&&(P=new Uint8Array(3*I));let s,u,c=0,h=-1,f=-1;if(Y.forEach(((p,g)=>{let{count:v,width:b}=p;if(v>0){let m=0;for(let e=v;e--&&p.glyphAt(e).glyphObj.isWhitespace;)m++;let g=0,w=0;if("center"===y)g=(F-b)/2;else if("right"===y)g=F-b;else if("justify"===y&&p.isSoftWrapped){let e=0;for(let t=v-m;t--;)p.glyphAt(t).glyphObj.isWhitespace&&e++;w=(F-b)/e}if(w||g){let e=0;for(let t=0;t<v;t++){let n=p.glyphAt(t);const r=n.glyphObj;n.x+=g+e,0!==w&&r.isWhitespace&&t<v-m&&(e+=w,n.width+=w)}}const x=t.getReorderSegments(e,r,p.glyphAt(0).charIndex,p.glyphAt(p.count-1).charIndex);for(let e=0;e<x.length;e++){const[t,n]=x[e];let r=1/0,a=-1/0;for(let e=0;e<v;e++)if(p.glyphAt(e).charIndex>=t){let t=e,i=e;for(;i<v;i++){let e=p.glyphAt(i);if(e.charIndex>n)break;i<v-m&&(r=Math.min(r,e.x),a=Math.max(a,e.x+e.width))}for(let e=t;e<i;e++){const t=p.glyphAt(e);t.x=a-(t.x+t.width-r)}break}}let L;const k=e=>L=e;for(let m=0;m<v;m++){let g=p.glyphAt(m);L=g.glyphObj;const v=L.index,y=1&r.levels[g.charIndex];if(y){const r=t.getMirroredCharacter(e[g.charIndex]);r&&n.forEachGlyph(r,0,0,k)}if(S){const{charIndex:e}=g,t=g.x+X,n=g.x+g.width+X;O[3*e]=y?n:t,O[3*e+1]=y?t:n,O[3*e+2]=o+W+Q;const r=e-h;r>1&&d(O,h,r),h=e}if(_){const{charIndex:e}=g;for(;e>f;)f++,_.hasOwnProperty(f)&&(u=_[f])}if(!L.isWhitespace&&!L.isEmpty){const e=c++;D[v]||(D[v]={path:L.path,pathBounds:[L.xMin,L.yMin,L.xMax,L.yMax]});const t=g.x+X,n=o+Q;l[2*e]=t,l[2*e+1]=n;const r=t+L.xMin*G,d=n+L.yMin*G,h=t+L.xMax*G,f=n+L.yMax*G;r<R[0]&&(R[0]=r),d<R[1]&&(R[1]=d),h>R[2]&&(R[2]=h),f>R[3]&&(R[3]=f),e%A==0&&(s={start:e,end:e,rect:[i,i,-1/0,-1/0]},Z.push(s)),s.end++;const p=s.rect;if(r<p[0]&&(p[0]=r),d<p[1]&&(p[1]=d),h>p[2]&&(p[2]=h),f>p[3]&&(p[3]=f),a[e]=v,_){const t=3*e;P[t]=u>>16&255,P[t+1]=u>>8&255,P[t+2]=255&u}}}}o-=m})),O){const t=e.length-h;t>1&&d(O,h,t)}}T.typesetting=h()-B,E({glyphIds:a,glyphPositions:l,glyphData:D,caretPositions:O,caretHeight:q,glyphColors:P,chunkedBounds:Z,fontSize:u,unitsPerEm:z,ascender:N*G,descender:j*G,lineHeight:m,topBaseline:V,blockBounds:[X,Q-Y.length*m,X+F,Q],visibleBounds:R,timings:T})}))}function c(e){let t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function d(e,t,n){const r=e[3*t],a=e[3*t+1],i=e[3*t+2],o=(a-r)/n;for(let a=0;a<n;a++){const n=3*(t+a);e[n]=r+o*a,e[n+1]=r+o*(a+1),e[n+2]=i}}function h(){return(self.performance||Date).now()}function f(){this.data=[]}const p=["glyphObj","x","width","charIndex"];return f.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/p.length)},glyphAt(e){let t=f.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){let t=new f;return t.data=this.data.splice(e*p.length),t}},f.flyweight=p.reduce(((e,t,n,r)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*p.length+n]},set(e){this.data[this.index*p.length+n]=e}}),e)),{data:null,index:0}),{typeset:u,measure:function(e,t){u(e,(e=>{const[n,r,a,i]=e.blockBounds;t({width:a-n,height:i-r})}),{metricsOnly:!0})},loadFont:l}},function(){var e=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},r={};n.L=1,r[1]="L",Object.keys(t).forEach((function(e,t){n[e]=1<<t+1,r[n[e]]=e})),Object.freeze(n);var a=n.LRI|n.RLI|n.FSI,i=n.L|n.R|n.AL,o=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,s=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,l=n.S|n.WS|n.B|a|n.PDI|s,u=null;function c(e){return function(){if(!u){u=new Map;var e=function(e){if(t.hasOwnProperty(e)){var r=0;t[e].split(",").forEach((function(t){var a=t.split("+"),i=a[0],o=a[1];i=parseInt(i,36),o=o?parseInt(o,36):0,u.set(r+=i,n[e]);for(var s=0;s<o;s++)u.set(++r,n[e])}))}};for(var r in t)e(r)}}(),u.get(e.codePointAt(0))||n.L}var d,h,f;function p(e,t){var n,r=0,a=new Map,i=t&&new Map;return e.split(",").forEach((function e(o){if(-1!==o.indexOf("+"))for(var s=+o;s--;)e(n);else{n=o;var l=o.split(">"),u=l[0],c=l[1];u=String.fromCodePoint(r+=parseInt(u,36)),c=String.fromCodePoint(r+=parseInt(c,36)),a.set(u,c),t&&i.set(c,u)}})),{map:a,reverseMap:i}}function m(){if(!d){var e=p("14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",!0),t=e.map,n=e.reverseMap;d=t,h=n,f=p("6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye",!1).map}}function g(e){return m(),d.get(e)||null}function v(e){return m(),h.get(e)||null}function y(e){return m(),f.get(e)||null}var b,w=n.L,x=n.R,L=n.EN,k=n.ES,S=n.ET,A=n.AN,_=n.CS,E=n.B,M=n.S,C=n.ON,T=n.BN,D=n.NSM,P=n.AL,O=n.LRO,R=n.RLO,Z=n.LRE,F=n.RLE,I=n.PDF,U=n.LRI,N=n.RLI,j=n.FSI,z=n.PDI;function B(e){return function(){if(!b){var e=p("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach((function(e,n){t.set(n,e)})),b=t}}(),b.get(e)||null}function G(e,t,n,r){var a=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(a-1,null==r?a-1:+r);var i=[];return t.paragraphs.forEach((function(a){var o=Math.max(n,a.start),s=Math.min(r,a.end);if(o<s){for(var u=t.levels.slice(o,s+1),d=s;d>=o&&c(e[d])&l;d--)u[d]=a.level;for(var h=a.level,f=1/0,p=0;p<u.length;p++){var m=u[p];m>h&&(h=m),m<f&&(f=1|m)}for(var g=h;g>=f;g--)for(var v=0;v<u.length;v++)if(u[v]>=g){for(var y=v;v+1<u.length&&u[v+1]>=g;)v++;v>y&&i.push([y+n,v+n])}}})),i}function H(e,t,n,r){for(var a=G(e,t,n,r),i=[],o=0;o<e.length;o++)i[o]=o;return a.forEach((function(e){for(var t=e[0],n=e[1],r=i.slice(t,n+1),a=r.length;a--;)i[n-a]=r[a]})),i}return e.closingToOpeningBracket=v,e.getBidiCharType=c,e.getBidiCharTypeName=function(e){return r[c(e)]},e.getCanonicalBracket=y,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),r=0;r<e.length;r++)n[r]=c(e[r]);var u=new Map;function d(e,t){var r=n[e];n[e]=t,u.set(r,u.get(r)-1),r&o&&u.set(o,u.get(o)-1),u.set(t,(u.get(t)||0)+1),t&o&&u.set(o,(u.get(o)||0)+1)}for(var h=new Uint8Array(e.length),f=new Map,p=[],m=null,b=0;b<e.length;b++)m||p.push(m={start:b,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:zt(b,!1)}),n[b]&E&&(m.end=b,m=null);for(var B=F|Z|R|O|a|z|I|E,G=function(e){return e+(1&e?1:2)},H=function(e){return e+(1&e?2:1)},V=0;V<p.length;V++){var q=[{_level:(m=p[V]).level,_override:0,_isolate:0}],W=void 0,$=0,K=0,Y=0;u.clear();for(var X=m.start;X<=m.end;X++){var Q=n[X];if(W=q[q.length-1],u.set(Q,(u.get(Q)||0)+1),Q&o&&u.set(o,(u.get(o)||0)+1),Q&B)if(Q&(F|Z)){h[X]=W._level;var J=(Q===F?H:G)(W._level);J<=125&&!$&&!K?q.push({_level:J,_override:0,_isolate:0}):$||K++}else if(Q&(R|O)){h[X]=W._level;var ee=(Q===R?H:G)(W._level);ee<=125&&!$&&!K?q.push({_level:ee,_override:Q&R?x:w,_isolate:0}):$||K++}else if(Q&a){Q&j&&(Q=1===zt(X+1,!0)?N:U),h[X]=W._level,W._override&&d(X,W._override);var te=(Q===N?H:G)(W._level);te<=125&&0===$&&0===K?(Y++,q.push({_level:te,_override:0,_isolate:1,_isolInitIndex:X})):$++}else if(Q&z){if($>0)$--;else if(Y>0){for(K=0;!q[q.length-1]._isolate;)q.pop();var ne=q[q.length-1]._isolInitIndex;null!=ne&&(f.set(ne,X),f.set(X,ne)),q.pop(),Y--}W=q[q.length-1],h[X]=W._level,W._override&&d(X,W._override)}else Q&I?(0===$&&(K>0?K--:!W._isolate&&q.length>1&&(q.pop(),W=q[q.length-1])),h[X]=W._level):Q&E&&(h[X]=m.level);else h[X]=W._level,W._override&&Q!==T&&d(X,W._override)}for(var re=[],ae=null,ie=m.start;ie<=m.end;ie++){var oe=n[ie];if(!(oe&s)){var se=h[ie],le=oe&a,ue=oe===z;ae&&se===ae._level?(ae._end=ie,ae._endsWithIsolInit=le):re.push(ae={_start:ie,_end:ie,_level:se,_startsWithPDI:ue,_endsWithIsolInit:le})}}for(var ce=[],de=0;de<re.length;de++){var he=re[de];if(!he._startsWithPDI||he._startsWithPDI&&!f.has(he._start)){for(var fe=[ae=he],pe=void 0;ae&&ae._endsWithIsolInit&&null!=(pe=f.get(ae._end));)for(var me=de+1;me<re.length;me++)if(re[me]._start===pe){fe.push(ae=re[me]);break}for(var ge=[],ve=0;ve<fe.length;ve++)for(var ye=fe[ve],be=ye._start;be<=ye._end;be++)ge.push(be);for(var we=h[ge[0]],xe=m.level,Le=ge[0]-1;Le>=0;Le--)if(!(n[Le]&s)){xe=h[Le];break}var ke=ge[ge.length-1],Se=h[ke],Ae=m.level;if(!(n[ke]&a))for(var _e=ke+1;_e<=m.end;_e++)if(!(n[_e]&s)){Ae=h[_e];break}ce.push({_seqIndices:ge,_sosType:Math.max(xe,we)%2?x:w,_eosType:Math.max(Ae,Se)%2?x:w})}}for(var Ee=0;Ee<ce.length;Ee++){var Me=ce[Ee],Ce=Me._seqIndices,Te=Me._sosType,De=Me._eosType;if(u.get(D))for(var Pe=0;Pe<Ce.length;Pe++){var Oe=Ce[Pe];if(n[Oe]&D){for(var Re=Te,Ze=Pe-1;Ze>=0;Ze--)if(!(n[Ce[Ze]]&s)){Re=n[Ce[Ze]];break}d(Oe,Re&(a|z)?C:Re)}}if(u.get(L))for(var Fe=0;Fe<Ce.length;Fe++){var Ie=Ce[Fe];if(n[Ie]&L)for(var Ue=Fe-1;Ue>=-1;Ue--){var Ne=-1===Ue?Te:n[Ce[Ue]];if(Ne&i){Ne===P&&d(Ie,A);break}}}if(u.get(P))for(var je=0;je<Ce.length;je++){var ze=Ce[je];n[ze]&P&&d(ze,x)}if(u.get(k)||u.get(_))for(var Be=1;Be<Ce.length-1;Be++){var Ge=Ce[Be];if(n[Ge]&(k|_)){for(var He=0,Ve=0,qe=Be-1;qe>=0&&(He=n[Ce[qe]])&s;qe--);for(var We=Be+1;We<Ce.length&&(Ve=n[Ce[We]])&s;We++);He===Ve&&(n[Ge]===k?He===L:He&(L|A))&&d(Ge,He)}}if(u.get(L))for(var $e=0;$e<Ce.length;$e++){var Ke=Ce[$e];if(n[Ke]&L){for(var Ye=$e-1;Ye>=0&&n[Ce[Ye]]&(S|s);Ye--)d(Ce[Ye],L);for(var Xe=$e+1;Xe<Ce.length&&n[Ce[Xe]]&(S|s);Xe++)d(Ce[Xe],L)}}if(u.get(S)||u.get(k)||u.get(_))for(var Qe=0;Qe<Ce.length;Qe++){var Je=Ce[Qe];if(n[Je]&(S|k|_)){d(Je,C);for(var et=Qe-1;et>=0&&n[Ce[et]]&s;et--)d(Ce[et],C);for(var tt=Qe+1;tt<Ce.length&&n[Ce[tt]]&s;tt++)d(Ce[tt],C)}}if(u.get(L))for(var nt=0,rt=Te;nt<Ce.length;nt++){var at=Ce[nt],it=n[at];it&L?rt===w&&d(at,w):it&i&&(rt=it)}if(u.get(o)){for(var ot=x|L|A,st=ot|w,lt=[],ut=[],ct=0;ct<Ce.length;ct++)if(n[Ce[ct]]&o){var dt=e[Ce[ct]],ht=void 0;if(null!==g(dt)){if(!(ut.length<63))break;ut.push({char:dt,seqIndex:ct})}else if(null!==(ht=v(dt)))for(var ft=ut.length-1;ft>=0;ft--){var pt=ut[ft].char;if(pt===ht||pt===v(y(dt))||g(y(pt))===dt){lt.push([ut[ft].seqIndex,ct]),ut.length=ft;break}}}lt.sort((function(e,t){return e[0]-t[0]}));for(var mt=0;mt<lt.length;mt++){for(var gt=lt[mt],vt=gt[0],yt=gt[1],bt=!1,wt=0,xt=vt+1;xt<yt;xt++){var Lt=Ce[xt];if(n[Lt]&st){bt=!0;var kt=n[Lt]&ot?x:w;if(kt===Gt(Lt)){wt=kt;break}}}if(bt&&!wt){wt=Te;for(var St=vt-1;St>=0;St--){var At=Ce[St];if(n[At]&st){var _t=n[At]&ot?x:w;wt=_t!==Gt(At)?_t:Gt(At);break}}}if(wt){if(n[Ce[vt]]=n[Ce[yt]]=wt,wt!==Gt(Ce[vt]))for(var Et=vt+1;Et<Ce.length;Et++)if(!(n[Ce[Et]]&s)){c(e[Ce[Et]])&D&&(n[Ce[Et]]=wt);break}if(wt!==Gt(Ce[yt]))for(var Mt=yt+1;Mt<Ce.length;Mt++)if(!(n[Ce[Mt]]&s)){c(e[Ce[Mt]])&D&&(n[Ce[Mt]]=wt);break}}}for(var Ct=0;Ct<Ce.length;Ct++)if(n[Ce[Ct]]&o){for(var Tt=Ct,Dt=Ct,Pt=Te,Ot=Ct-1;Ot>=0;Ot--){if(!(n[Ce[Ot]]&s)){Pt=n[Ce[Ot]]&ot?x:w;break}Tt=Ot}for(var Rt=De,Zt=Ct+1;Zt<Ce.length;Zt++){if(!(n[Ce[Zt]]&(o|s))){Rt=n[Ce[Zt]]&ot?x:w;break}Dt=Zt}for(var Ft=Tt;Ft<=Dt;Ft++)n[Ce[Ft]]=Pt===Rt?Pt:Gt(Ce[Ft]);Ct=Dt}}}for(var It=m.start;It<=m.end;It++){var Ut=h[It],Nt=n[It];if(1&Ut?Nt&(w|L|A)&&h[It]++:Nt&x?h[It]++:Nt&(A|L)&&(h[It]+=2),Nt&s&&(h[It]=0===It?m.level:h[It-1]),It===m.end||c(e[It])&(M|E))for(var jt=It;jt>=0&&c(e[jt])&l;jt--)h[jt]=m.level}}return{levels:h,paragraphs:p};function zt(t,r){for(var i=t;i<e.length;i++){var o=n[i];if(o&(x|P))return 1;if(o&(E|w)||r&&o===z)return 0;if(o&a){var s=Bt(i);i=-1===s?e.length:s}}return 0}function Bt(t){for(var r=1,i=t+1;i<e.length;i++){var o=n[i];if(o&E)break;if(o&z){if(0==--r)return i}else o&a&&r++}return-1}function Gt(e){return 1&h[e]?x:w}},e.getMirroredCharacter=B,e.getMirroredCharactersMap=function(e,t,n,r){var a=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(a-1,null==r?a-1:+r);for(var i=new Map,o=n;o<=r;o++)if(1&t[o]){var s=B(e[o]);null!==s&&i.set(o,s)}return i},e.getReorderSegments=G,e.getReorderedIndices=H,e.getReorderedString=function(e,t,n,r){var a=H(e,t,n,r),i=[].concat(e);return a.forEach((function(n,r){i[r]=(1&t.levels[n]?B(e[n]):null)||e[n]})),i.join("")},e.openingToClosingBracket=g,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e}],init(e,t,n,r){const{defaultFontURL:a}=e;return n(t,r(),{defaultFontURL:a})}}),Cl=function(){const e={};let t=0;return function(...n){const r="TroikaTextSDFGenerator_"+t++%4;let a=e[r];return a||(a=e[r]={workerModule:tl({name:r,workerId:r,dependencies:[xl,bl,yl],init(e,t,n){const{sdfExponent:r,sdfMargin:a}=e;return n(t,{sdfExponent:r,sdfMargin:a})},getTransferables:e=>[e.textureData.buffer]}),requests:0,idleTimer:null}),a.requests++,clearTimeout(a.idleTimer),a.workerModule(...n).then((e=>(0==--a.requests&&(a.idleTimer=setTimeout((()=>{!function(e){Js[e]&&Js[e].forEach((function(e){e()})),Qs[e]&&(Qs[e].terminate(),delete Qs[e])}(r)}),2e3)),e)))}}(),Tl=tl({name:"Typesetter",dependencies:[Ml,al],init:(e,t)=>function(n){const r=new t;return e.typeset(n,r.resolve),r},getTransferables(e){const t=[e.glyphPositions.buffer,e.glyphIds.buffer];return e.caretPositions&&t.push(e.caretPositions.buffer),e.glyphColors&&t.push(e.glyphColors.buffer),t}}),Dl=(()=>{const e={},t="aTroikaGlyphIndex";class n extends Tr.InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Tr.Sphere,this.boundingBox=new Tr.Box3}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===Tr.BackSide?t/2:0,e===Tr.DoubleSide?t:t/2)}set detail(t){if(t!==this._detail){this._detail=t,("number"!=typeof t||t<1)&&(t=1);let n=function(t){let n=e[t];if(!n){const r=new Tr.PlaneBufferGeometry(1,1,t,t),a=r.clone(),i=r.attributes,o=a.attributes,s=new Tr.BufferGeometry,l=i.uv.count;for(let e=0;e<l;e++)o.position.array[3*e]*=-1,o.normal.array[3*e+2]*=-1;["position","normal","uv"].forEach((e=>{s.setAttribute(e,new Tr.Float32BufferAttribute([...i[e].array,...o[e].array],i[e].itemSize))})),s.setIndex([...r.index.array,...a.index.array.map((e=>e+l))]),s.translate(.5,.5,0),n=e[t]=s}return n}(t);["position","normal","uv"].forEach((e=>{this.attributes[e]=n.attributes[e].clone()})),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,i,o,s){r(this,"aTroikaGlyphBounds",e,4),r(this,t,n,1),r(this,"aTroikaGlyphColor",s,3),this._blockBounds=i,this._chunkedBounds=o,a(this,n.length),this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:n}=this;if(t){const{PI:r,floor:a,min:i,max:o,sin:s,cos:l}=Math,u=r/2,c=2*r,d=Math.abs(t),h=e[0]/d,f=e[2]/d,p=a((h+u)/c)!==a((f+u)/c)?-d:i(s(h)*d,s(f)*d),m=a((h-u)/c)!==a((f-u)/c)?d:o(s(h)*d,s(f)*d),g=a((h+r)/c)!==a((f+r)/c)?2*d:o(d-l(h)*d,d-l(f)*d);n.min.set(p,e[1],t<0?-g:0),n.max.set(m,e[3],t<0?0:g)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(t).count,r=this._chunkedBounds;if(r)for(let t=r.length;t--;){n=r[t].end;let a=r[t].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}a(this,n)}}function r(e,t,n,r){const a=e.getAttribute(t);n?a&&a.array.length===n.length?(a.array.set(n),a.needsUpdate=!0):(e.setAttribute(t,new Tr.InstancedBufferAttribute(n,r)),delete e._maxInstanceCount,e.dispose()):a&&e.deleteAttribute(t)}function a(e,t){e[e.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=t}return n.prototype.setAttribute||(n.prototype.setAttribute=function(e,t){return this.attributes[e]=t,this}),n})(),Pl=(()=>{const e=new Tr.MeshBasicMaterial({color:16777215,side:Tr.DoubleSide,transparent:!0}),t=8421504,n=new Tr.Matrix4,r=new Tr.Vector3,a=new Tr.Vector3,i=[],o=new Tr.Vector3,s="+x+y";function l(e){return Array.isArray(e)?e[0]:e}let u=()=>{const t=new Tr.Mesh(new Tr.PlaneBufferGeometry(1,1),e);return u=()=>t,t},c=()=>{const t=new Tr.Mesh(new Tr.PlaneBufferGeometry(1,1,32,1),e);return c=()=>t,t};const d={type:"syncstart"},h={type:"synccomplete"},f=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],p=f.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class m extends Tr.Mesh{constructor(){super(new Dl,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=t,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=s,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(d),_l({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize},(t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const n=this._queuedSyncs;n&&(this._queuedSyncs=null,this._needsSync=!0,this.sync((()=>{n.forEach((e=>e&&e()))}))),this.dispatchEvent(h),e&&e()}))))}onBeforeRender(e,t,n,r,a,i){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a),a._hadOwnSide=a.hasOwnProperty("side"),this.geometry.setSide(a._actualSide=a.side),a.side=Tr.FrontSide}onAfterRender(e,t,n,r,a,i){a._hadOwnSide?a.side=a._actualSide:delete a.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let t=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=e.clone());if(t&&t.baseMaterial===n||(t=this._derivedMaterial=function(e){const t=fl(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Tr.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Tr.Vector4(0,0,0,0)},uTroikaClipRect:{value:new Tr.Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Tr.Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Tr.Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Tr.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:"\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n",fragmentDefs:"\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaOutlineOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of encoding in SDFGenerator.js\n  \n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  \n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  \n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n",fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat distance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(distance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  distance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter({vertexShader:e,fragmentShader:t}){let n=/\buniform\s+vec3\s+diffuse\b/;return n.test(t)&&(t=t.replace(n,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),n.test(e)||(e=e.replace(il,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:e,fragmentShader:t}}});return t.transparent=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}(n),n.addEventListener("dispose",(function e(){n.removeEventListener("dispose",e),t.dispose()}))),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let e=t._outlineMtl;return e||(e=t._outlineMtl=Object.create(t,{id:{value:t.id+.1}}),e.isTextOutlineMaterial=!0,e.depthWrite=!1,e.map=null,t.addEventListener("dispose",(function n(){t.removeEventListener("dispose",n),e.dispose()}))),[e,t]}return t}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return l(this.material).getDepthMaterial()}get customDistanceMaterial(){return l(this.material).getDistanceMaterial()}_prepareForRender(e){const i=e.isTextOutlineMaterial,l=e.uniforms,u=this.textRenderInfo;if(u){const{sdfTexture:e,blockBounds:n}=u;l.uTroikaSDFTexture.value=e,l.uTroikaSDFTextureSize.value.set(e.image.width,e.image.height),l.uTroikaSDFGlyphSize.value=u.sdfGlyphSize,l.uTroikaSDFExponent.value=u.sdfExponent,l.uTroikaTotalBounds.value.fromArray(n),l.uTroikaUseGlyphColors.value=!i&&!!u.glyphColors;let r,a,o,s=0,c=0,d=0,h=0,f=0;if(i){let{outlineWidth:e,outlineOffsetX:t,outlineOffsetY:n,outlineBlur:a,outlineOpacity:i}=this;s=this._parsePercent(e)||0,c=Math.max(0,this._parsePercent(a)||0),r=i,h=this._parsePercent(t)||0,f=this._parsePercent(n)||0}else d=Math.max(0,this._parsePercent(this.strokeWidth)||0),d&&(o=this.strokeColor,l.uTroikaStrokeColor.value.set(null==o?t:o),a=this.strokeOpacity,null==a&&(a=1)),r=this.fillOpacity;l.uTroikaDistanceOffset.value=s,l.uTroikaPositionOffset.value.set(h,f),l.uTroikaBlurRadius.value=c,l.uTroikaStrokeWidth.value=d,l.uTroikaStrokeOpacity.value=a,l.uTroikaFillOpacity.value=null==r?1:r,l.uTroikaCurveRadius.value=this.curveRadius||0;let p=this.clipRect;if(p&&Array.isArray(p)&&4===p.length)l.uTroikaClipRect.value.fromArray(p);else{const e=100*(this.fontSize||.1);l.uTroikaClipRect.value.set(n[0]-e,n[1]-e,n[2]+e,n[3]+e)}this.geometry.applyClipRect(l.uTroikaClipRect.value)}l.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const c=i?this.outlineColor||0:this.color;if(null==c)delete e.color;else{const t=e.hasOwnProperty("color")?e.color:e.color=new Tr.Color;c===t._input&&"object"!=typeof c||t.set(t._input=c)}let d=this.orientation||s;if(d!==e._orientation){let t=l.uTroikaOrient.value;d=d.replace(/[^-+xyz]/g,"");let i=d!==s&&d.match(/^([-+])([xyz])([-+])([xyz])$/);if(i){let[,e,s,l,u]=i;r.set(0,0,0)[s]="-"===e?1:-1,a.set(0,0,0)[u]="-"===l?-1:1,n.lookAt(o,r.cross(a),a),t.setFromMatrix4(n)}else t.identity();e._orientation=d}}_parsePercent(e){if("string"==typeof e){let t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new Tr.Vector2){t.copy(e);const n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}worldPositionToTextCoords(e,t=new Tr.Vector2){return r.copy(e),this.localPositionToTextCoords(this.worldToLocal(r),t)}raycast(e,t){const{textRenderInfo:n,curveRadius:r}=this;if(n){const a=n.blockBounds,o=r?c():u(),s=o.geometry,{position:l,uv:d}=s.attributes;for(let e=0;e<d.count;e++){let t=a[0]+d.getX(e)*(a[2]-a[0]);const n=a[1]+d.getY(e)*(a[3]-a[1]);let i=0;r&&(i=r-Math.cos(t/r)*r,t=Math.sin(t/r)*r),l.setXYZ(e,t,n,i)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,i.length=0,o.raycast(e,i);for(let e=0;e<i.length;e++)i[e].object=this,t.push(i[e])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,p.forEach((t=>{this[t]=e[t]})),this}clone(){return(new this.constructor).copy(this)}}f.forEach((e=>{const t="_private_"+e;Object.defineProperty(m.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}));let g=!1;return Object.defineProperty(m.prototype,"anchor",{get(){return this._deprecated_anchor},set(e){this._deprecated_anchor=e,g||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),g=!0),Array.isArray(e)?(this.anchorX=100*(+e[0]||0)+"%",this.anchorY=100*(+e[1]||0)+"%"):this.anchorX=this.anchorY=0}}),m})();new WeakMap,new WeakMap;var Ol=n(99477);Pl.prototype.isTroikaText=!0;const Rl={front:Ol.FrontSide,back:Ol.BackSide,double:Ol.DoubleSide};function Zl(e){return{default:e,parse:function(e){return"string"==typeof e&&e.indexOf("%")>0?e:(e=+e,isNaN(e)?0:e)},stringify:function(e){return""+e}}}AFRAME.registerComponent("text",{schema:{textAlign:{type:"string",default:"left",oneOf:["left","right","center","justify"]},anchorX:{default:"center",oneOf:["left","right","center"]},anchorY:{default:"middle",oneOf:["top","top-baseline","middle","bottom-baseline","bottom"]},clipRect:{type:"string",default:"",parse:function(e){return e&&(e=e.split(/[\s,]+/).reduce((function(e,t){return t=+t,isNaN(t)||e.push(t),e}),[])),e&&4===e.length?e:null},stringify:function(e){return e?e.join(" "):""}},color:{type:"color",default:"#FFF"},curveRadius:{type:"number",default:0},depthOffset:{type:"number",default:0},direction:{type:"string",default:"auto",oneOf:["auto","ltr","rtl"]},fillOpacity:{type:"number",default:1},fontUrl:{type:"string"},fontSize:{type:"number",default:.075},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},maxWidth:{type:"number",default:1/0},outlineBlur:Zl(0),outlineColor:{type:"color",default:"#000"},outlineOffsetX:Zl(0),outlineOffsetY:Zl(0),outlineOpacity:{type:"number",default:1},outlineWidth:Zl(0),overflowWrap:{type:"string",default:"normal",oneOf:["normal","break-word"]},strokeColor:{type:"color",default:"grey"},strokeOpacity:{type:"number",default:1},strokeWidth:Zl(0),value:{type:"string",default:""},textIndent:{type:"number",default:0},whiteSpace:{default:"normal",oneOf:["normal","nowrap"]},opacity:{type:"number",default:1},side:{default:"front",oneOf:["front","back","double"]}},init:function(){this.troikaTextMesh=new Pl,this.troikaTextMesh.material.toneMapped=!1,this.el.setObject3D("text",this.troikaTextMesh)},update:function(){const e=this.data,t=this.troikaTextMesh;t.text=e.value||"",t.textAlign=e.textAlign,t.anchorX=e.anchorX,t.anchorY=e.anchorY,t.color=e.color,t.material.side=Rl[e.side],t.material.opacity=e.opacity,t.curveRadius=e.curveRadius,t.depthOffset=e.depthOffset||0,t.direction=e.direction,t.fillOpacity=e.fillOpacity,t.font=e.fontUrl,t.fontSize=e.fontSize,t.letterSpacing=e.letterSpacing||0,t.clipRect=e.clipRect,t.lineHeight=e.lineHeight||"normal",t.outlineBlur=e.outlineBlur,t.outlineColor=e.outlineColor,t.outlineOffsetX=e.outlineOffsetX,t.outlineOffsetY=e.outlineOffsetY,t.outlineOpacity=e.outlineOpacity,t.outlineWidth=e.outlineWidth,t.overflowWrap=e.overflowWrap,t.strokeColor=e.strokeColor,t.strokeOpacity=e.strokeOpacity,t.strokeWidth=e.strokeWidth,t.textIndent=e.textIndent,t.whiteSpace=e.whiteSpace,t.maxWidth=e.maxWidth,t.sync((()=>{this.el.emit("text-updated",this)}))},remove:function(){this.troikaTextMesh.dispose()},getSize:function(){const e=new Ol.Vector3;return function(t){this.troikaTextMesh.geometry.boundingBox.getSize(e),t.set(e.x*this.troikaTextMesh.scale.x,e.y*this.troikaTextMesh.scale.y,e.z*this.troikaTextMesh.scale.z)}}()}),n(88667),n(69318),n(17875);var Fl=n(99477);const{Pathfinding:Il}=n(56594);AFRAME.registerSystem("nav",{init:function(){this.pathfinder=new Il,this.mesh=null,this.el.addEventListener("reset_scene",this.removeNavMeshData.bind(this)),this.el.addEventListener("leaving_loading_environment",this.removeNavMeshData.bind(this))},loadMesh:function(e,t){this.mesh&&(console.error("tried to load multiple nav meshes"),this.removeNavMeshData());const n=e.geometry.clone();e.updateMatrices(),n.applyMatrix4(e.matrixWorld),this.pathfinder.setZoneData(t,Il.createZone(n)),this.mesh=e;const r=document.querySelectorAll("[teleporter]");for(let e=0;e<r.length;e++)r[e].components.teleporter.queryCollisionEntities();this.el.sceneEl.emit("nav-mesh-loaded"),K("debugNavmesh")&&(this.helperMesh=new Fl.Mesh(n,new Fl.MeshBasicMaterial({wireframe:!0})),this.el.sceneEl.object3D.add(this.helperMesh))},removeNavMeshData(){var e,t;this.mesh&&this.mesh.geometry&&this.mesh.geometry.dispose&&this.mesh._hubs_audio_debug_prev_material&&(this.mesh.material=this.mesh._hubs_audio_debug_prev_material,this.mesh._hubs_audio_debug_prev_material=null),this.helperMesh&&(null===(e=this.helperMesh.material)||void 0===e||e.dispose(),null===(t=this.helperMesh.geometry)||void 0===t||t.dispose(),this.helperMesh.removeFromParent(),this.helperMesh=null),this.mesh=null,this.pathfinder.zones={}}});var Ul=n(73935),Nl=n(94184),jl=n.n(Nl),zl=n(44012),Bl=n(74806);function Gl(e){return P.feature(e.name)&&e.children||null}var Hl,Vl="scene-ui__ui__f9XIF",ql="scene-ui__scenePreviewButton__q9_aD",Wl="scene-ui__attribution__b9QYZ";function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$l.apply(this,arguments)}const Kl=e=>{let{title:t,titleId:n,...r}=e;return a.createElement("svg",$l({width:20,height:18,viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?a.createElement("title",{id:n},t):null,Hl||(Hl=a.createElement("path",{d:"M17.953 4.855c.012.19.012.38.012.571C17.965 11.266 13.837 18 6.29 18v-.003C4.06 18 1.877 17.312 0 16.015c.324.042.65.063.977.064 1.847.002 3.642-.666 5.096-1.895-1.756-.036-3.296-1.27-3.834-3.07a3.807 3.807 0 0 0 1.853-.075C2.178 10.622.8 8.81.8 6.707v-.056c.57.342 1.21.532 1.863.553-1.803-1.298-2.36-3.88-1.27-5.9C3.476 4.063 6.55 5.742 9.849 5.92c-.33-1.534.121-3.143 1.187-4.222C12.69.025 15.288.111 16.842 1.89A7.887 7.887 0 0 0 19.448.817C19.14 1.84 18.5 2.709 17.644 3.26A7.71 7.71 0 0 0 20 2.565a8.723 8.723 0 0 1-2.047 2.29Z",fill:"#fff"})))};var Yl;function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xl.apply(this,arguments)}const Ql=e=>{let{title:t,titleId:n,...r}=e;return a.createElement("svg",Xl({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?a.createElement("title",{id:n},t):null,Yl||(Yl=a.createElement("path",{d:"M20 5.625C20 3.898 18.135 2.5 15.833 2.5c-2.302 0-4.166 1.398-4.166 3.125 0 1.422 1.265 2.621 2.995 3-.032.629-.22 1.113-.574 1.441-.801.75-2.567.875-4.437 1.004-1.469.102-2.99.211-4.234.66V6.105c1.692-.398 2.916-1.582 2.916-2.98C8.333 1.398 6.47 0 4.167 0 1.865 0 0 1.398 0 3.125c0 1.398 1.224 2.582 2.917 2.98v7.786C1.224 14.293 0 15.477 0 16.875 0 18.602 1.865 20 4.167 20c2.302 0 4.166-1.398 4.166-3.125 0-1.328-1.104-2.465-2.666-2.914.161-.203.406-.383.776-.524.843-.32 2.104-.406 3.442-.5 2.198-.152 4.688-.328 6.157-1.695.729-.68 1.099-1.555 1.125-2.652C18.812 8.168 20 7 20 5.625ZM4.167 2.5c.458 0 .833.281.833.625s-.375.625-.833.625c-.459 0-.834-.281-.834-.625s.375-.625.834-.625Zm0 15c-.459 0-.834-.281-.834-.625s.375-.625.834-.625c.458 0 .833.281.833.625s-.375.625-.833.625ZM15.833 5c.459 0 .834.281.834.625s-.375.625-.834.625c-.458 0-.833-.281-.833-.625S15.375 5 15.833 5Z",fill:"#fff"})))};var Jl,eu;function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(this,arguments)}const nu=e=>{let{title:t,titleId:n,...r}=e;return a.createElement("svg",tu({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?a.createElement("title",{id:n},t):null,Jl||(Jl=a.createElement("path",{d:"M4.024 18.125H1.875v-2.148L13.99 3.832 16.17 6.01 4.024 18.125Z",fill:"currentColor"})),eu||(eu=a.createElement("path",{d:"M16.63 5.547 14.453 3.37l1.237-1.197c.19-.193.484-.298.755-.298a1.011 1.011 0 0 1 .72.298l.664.664a1.01 1.01 0 0 1 .296.718c0 .273-.106.564-.298.756L16.63 5.547Z",fill:"currentColor"})))};var ru,au,iu;function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ou.apply(this,arguments)}const su=e=>{let{title:t,titleId:n,...r}=e;return a.createElement("svg",ou({xmlns:"http://www.w3.org/2000/svg",width:666.667,height:266.667,viewBox:"0 0 500 200","aria-labelledby":n},r),t?a.createElement("title",{id:n},t):null,ru||(ru=a.createElement("path",{d:"M283.6 96.7c-4.3 17.5-8 32.6-8.2 33.5-.5 1.6.3 1.8 7.5 1.8 4.5 0 8.1-.2 8.1-.5 0-1.3 6.1-29 6.5-29.4.7-.6.2-1.3 9.6 14.7 7.4 12.6 8.5 14.1 9.7 12.5.7-.9 4.4-7.5 8.3-14.5 3.9-7 7.4-12.8 7.8-12.8.4 0 2.3 6.6 4.2 14.7l3.5 14.8 8.1.3 8 .3-8.1-33c-4.4-18.2-8.4-33.1-8.7-33.1-.3 0-5.7 8.4-11.9 18.6-6.3 10.2-11.7 18.7-12 18.9-.3.2-5.9-8.4-12.5-19.1-6.5-10.7-11.9-19.4-12-19.4-.1 0-3.7 14.3-7.9 31.7z"})),au||(au=a.createElement("path",{d:"M364 71v6h17c9.4 0 17 .2 17 .5 0 .2-8.1 12.4-18 26.9-9.9 14.5-18 26.7-18 27 0 .3 14.2.6 31.5.6H425v-12h-18c-12.1 0-18-.4-18-1.1 0-.6 1.1-2.5 2.3-4.2 1.3-1.8 9.4-13.7 18-26.5L425 65h-61v6z"})),iu||(iu=a.createElement("path",{d:"M261 75.5c0 .8-.4 1.5-1 1.5-.5 0-1.2 1.1-1.6 2.5-.3 1.4-1 2.5-1.4 2.5-1.8 0-1.7 4.6.2 8.3 2.9 5.7 2.2 14.9-1.4 20.5-3.3 4.9-11.4 9.2-17.3 9.2-6 0-14-4.3-17.3-9.3-2.3-3.5-2.7-5.1-2.7-11.4 0-4-.1-7.3-.2-7.3s-1.4 3.9-2.9 8.7c-1.5 4.9-3.7 10.9-4.9 13.5l-2.3 4.7 4.5 4.5c4.9 5 12.7 9.2 18.9 10.2 4.1.6 4.2.5 4.9-2.5.9-4 2.5-4 2.5 0 0 3.1 0 3.2 4.4 2.7 9.9-1.1 21.9-9.5 26.4-18.5 5-9.8 5.2-20.5.6-30.4-3.6-7.6-9.4-13.5-9.4-9.4z"})))};function lu(e){let{className:t,forceConfigurableLogo:n}=e;const r=F();return P.feature("show_cloud")&&!n?a.createElement(su,{className:"hmc-logo"}):a.createElement("img",{className:t,alt:P.translation("app-name"),src:r})}lu.propTypes={className:o().string,forceConfigurableLogo:o().bool};var uu=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),cu="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,du=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),hu="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(du):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},fu=["top","right","bottom","left","width","height","size","weight"],pu="undefined"!=typeof MutationObserver,mu=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function i(){n&&(n=!1,e()),r&&s()}function o(){hu(i)}function s(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(o,20);a=e}return s}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){cu&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),pu?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){cu&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=fu.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),gu=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},vu=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||du},yu=ku(0,0,0,0);function bu(e){return parseFloat(e)||0}function wu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+bu(e["border-"+n+"-width"])}),0)}var xu="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof vu(e).SVGGraphicsElement}:function(e){return e instanceof vu(e).SVGElement&&"function"==typeof e.getBBox};function Lu(e){return cu?xu(e)?function(e){var t=e.getBBox();return ku(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return yu;var r=vu(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],i=e["padding-"+a];t[a]=bu(i)}return t}(r),i=a.left+a.right,o=a.top+a.bottom,s=bu(r.width),l=bu(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=wu(r,"left","right")+i),Math.round(l+o)!==n&&(l-=wu(r,"top","bottom")+o)),!function(e){return e===vu(e).document.documentElement}(e)){var u=Math.round(s+i)-t,c=Math.round(l+o)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return ku(a.left,a.top,s,l)}(e):yu}function ku(e,t,n,r){return{x:e,y:t,width:n,height:r}}var Su=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ku(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Lu(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Au=function(e,t){var n,r,a,i,o,s,l,u=(r=(n=t).x,a=n.y,i=n.width,o=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),gu(l,{x:r,y:a,width:i,height:o,top:a,right:r+i,bottom:o+a,left:r}),l);gu(this,{target:e,contentRect:u})},_u=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new uu,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof vu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Su(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof vu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Au(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Eu="undefined"!=typeof WeakMap?new WeakMap:new uu,Mu=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=mu.getInstance(),r=new _u(t,n,this);Eu.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Mu.prototype[e]=function(){var t;return(t=Eu.get(this))[e].apply(t,arguments)}}));var Cu=void 0!==du.ResizeObserver?du.ResizeObserver:Mu;const Tu=Fe(),Du=()=>("undefined"!=typeof ScreenOrientation?screen.orientation.angle:window.orientation)%180==0,Pu=e=>{const t=e.state.preferences,n=Du()?t.maxResolutionWidth:t.maxResolutionHeight;return void 0!==n?n:Tu?Du()?screen.width:screen.height:screen.width},Ou=e=>{const t=e.state.preferences,n=Du()?t.maxResolutionHeight:t.maxResolutionWidth;return void 0!==n?n:Tu?Du()?screen.height:screen.width:screen.height};function Ru(e){let{store:t,scene:n}=e;return function(e,t,n){const[r,i]=(0,a.useState)({width:Pu(t),height:Ou(t)});(0,a.useEffect)((()=>{function e(){i({width:Pu(t),height:Ou(t)})}return e(),t.addEventListener("statechanged",e),()=>{t.removeEventListener("statechanged",e)}}),[t]),(0,a.useEffect)((()=>{const t=new Cu((e=>{const t=n.renderer.xr.isPresenting,a=n.renderer.xr.enabled&&t;if(!n.camera||!n.canvas||n.is("vr-mode")&&(n.isMobile||a))return;const i=e[0].contentRect,o=function(e,t,n){if(n)return e;const r=window.devicePixelRatio,a=t.width/r,i=t.height/r;if(e.width<=a&&e.height<=i)return e;const o=Math.min(a/e.width,i/e.height);return{width:Math.round(e.width*o),height:Math.round(e.height*o)}}(i,r,a),s=n.canvas;s.style.width=i.width+"px",s.style.height=i.height+"px",n.renderer.setSize(o.width,o.height,!1),n.camera.aspect=o.width/o.height,n.camera.updateProjectionMatrix(),n.renderer.render(n.object3D,n.camera),n.emit("rendererresize",null,!1)}));return t.observe(e.current),()=>{t.disconnect()}}),[e,n,r]),(0,a.useEffect)((()=>{function e(){i({width:Pu(t),height:Ou(t)})}return function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"undefined"!=typeof ScreenOrientation?screen.orientation.addEventListener("change",e,t):window.addEventListener("orientationchange",e,t)}(e),()=>{!function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"undefined"!=typeof ScreenOrientation?screen.orientation.removeEventListener("change",e,t):window.removeEventListener("orientationchange",e,t)}(e)}}),[t])}((0,a.useRef)(document.body),t,n),a.createElement(a.Fragment,null)}class Zu extends a.Component{constructor(e){super(e),this.state={showScreenshot:!1},this.createRoom=()=>{!function(e,t,n){At.apply(this,arguments)}(void 0,this.props.sceneId)},setTimeout((()=>{this.props.sceneLoaded||this.setState({showScreenshot:!0})}),5e3)}componentDidMount(){this.props.scene.addEventListener("loaded",this.onSceneLoaded)}componentWillUnmount(){this.props.scene.removeEventListener("loaded",this.onSceneLoaded)}render(){if(this.props.unavailable)return a.createElement("div",{className:Vl},a.createElement("div",{className:"scene-ui__unavailable__KdB4n"},a.createElement("div",null,a.createElement(zl.Z,{id:"scene-page.unavailable",defaultMessage:"This scene is no longer available."}))));const{sceneAllowRemixing:e,isOwner:t,sceneProjectId:n,parentScene:r,sceneId:i,intl:o}=this.props,s=[location.protocol,"//",location.host,location.pathname].join(""),l=o.formatMessage({id:"scene-page.default-tweet",defaultMessage:"{sceneName} in {shareHashtag}"},{sceneName:this.props.sceneName,shareHashtag:P.translation("share-hashtag")}),u=`https://twitter.com/share?url=${encodeURIComponent(s)}&text=${encodeURIComponent(l)}`,c=o.formatMessage({id:"scene-page.unknown",defaultMessage:"unknown"});let d;const h=e=>{let{title:t,name:n,url:r,author:i,remix:o}=e,s="";if(!i&&!r)return null;const l=n||t||c,u=i||c;if(s=r&&r.includes("sketchfab.com")?"Sketchfab":"",!o)return s?a.createElement("span",{key:r},a.createElement(zl.Z,{id:"scene-page.attribution-with-source",defaultMessage:"<a>{name} by {author} on {source}</a>",values:{name:l,author:u,source:s,a:e=>r?a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer"},e):a.createElement(a.Fragment,null,e)}})):a.createElement("span",{key:`${l} ${u}`},a.createElement(zl.Z,{id:"scene-page.attribution",defaultMessage:"<a>{name} by {author}</a>",values:{name:l,author:u,a:e=>r?a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer"},e):a.createElement(a.Fragment,null,e)}}));zl.Z};return this.props.sceneAttributions&&(d=this.props.sceneAttributions.extras?a.createElement("span",null,this.props.sceneAttributions.extras):a.createElement("span",null,a.createElement("span",null,this.props.sceneAttributions.creator?a.createElement(zl.Z,{id:"scene-page.scene-attribution",defaultMessage:"by {creator}",values:{creator:this.props.sceneAttributions.creator||c}}):""),r&&r.attributions&&r.attributions.creator&&h({name:r.name,url:r.url,author:r.attributions.creator,remix:!0}),a.createElement("br",null),a.createElement("div",{className:Wl},this.props.sceneAttributions.content&&this.props.sceneAttributions.content.map(h)))),a.createElement("div",{className:Vl},a.createElement("div",{className:jl()({"scene-ui__screenshot__pET8e":!0,"scene-ui__screenshotHidden___ovbI":this.props.sceneLoaded})},this.state.showScreenshot&&a.createElement("img",{src:this.props.sceneScreenshotURL})),a.createElement("div",{className:"scene-ui__grid__td7iK"},a.createElement("div",{className:"scene-ui__mainPanel__ZFpVM"},a.createElement("a",{href:"/",className:"scene-ui__logo__tBYTi"},a.createElement(lu,null)),a.createElement("div",{className:"scene-ui__logoTagline__Di9G0"},P.translation("app-tagline")),a.createElement("div",{className:"scene-ui__scenePreviewButtonWrapper__dLufi"},this.props.showCreateRoom&&a.createElement("button",{className:ql,onClick:this.createRoom},a.createElement(zl.Z,{id:"scene-page.create-button",defaultMessage:"Create a room with this scene"})),a.createElement(Gl,{name:"enable_spoke"},t&&n?a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:gt(`/spoke/projects/${n}`),className:ql},a.createElement(nu,null),a.createElement(zl.Z,{id:"scene-page.edit-button",defaultMessage:"Edit in {editorName}",values:{editorName:P.translation("editor-name")}})):e&&a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:gt(`/spoke/projects/new?sceneId=${i}`),className:ql},a.createElement(Ql,null),a.createElement(zl.Z,{id:"scene-page.remix-button",defaultMessage:"Remix in {editorName}",values:{editorName:P.translation("editor-name")}}))),a.createElement("a",{href:u,rel:"noopener noreferrer",target:"_blank",className:ql},a.createElement(Kl,null),a.createElement("div",null,a.createElement(zl.Z,{id:"scene-page.tweet-button",defaultMessage:"Share on Twitter"}))))),a.createElement("div",{className:"scene-ui__info__JtVLr"},a.createElement("div",{className:"scene-ui__name__rgFbt"},this.props.sceneName),a.createElement("div",{className:Wl},d))),a.createElement(Ru,{store:this.props.store,scene:this.props.scene}))}}Zu.propTypes={intl:o().object,scene:o().object,store:o().object,sceneLoaded:o().bool,sceneId:o().string,sceneName:o().string,sceneDescription:o().string,sceneAttributions:o().object,sceneScreenshotURL:o().string,sceneProjectId:o().string,sceneAllowRemixing:o().bool,showCreateRoom:o().bool,unavailable:o().bool,isOwner:o().bool,parentScene:o().object};var Fu=(0,Bl.ZP)(Zu);const Iu=Fe();let Uu,Nu;class ju{constructor(){this.entities=[]}register(e){this.entities.push(e)}unregister(e){this.entities.splice(this.entities.indexOf(e),1)}tick(){Uu=Uu||document.getElementById("viewing-camera"),Nu=Nu||document.getElementById("ui-root");const e=Uu&&Uu.sceneEl.is("entered"),t=!e&&Nu&&Nu.firstChild&&Nu.firstChild.classList.contains("isGhost");for(let n=0;n<this.entities.length;n++){const r=this.entities[n],a=AFRAME.scenes[0].systems["hubs-systems"];!r||a&&(3===a.cameraSystem.mode||t||e)||(r.components["scene-preview-camera"].tick2(),a&&Uu&&(r.object3D.updateMatrices(),Ba(Uu.object3DMap.camera,r.object3D.matrixWorld)))}}}var zu=n(99477);const Bu=new zu.Box3,Gu=new zu.Matrix4,Hu=new zu.Box3,Vu=[new zu.Vector3,new zu.Vector3,new zu.Vector3,new zu.Vector3,new zu.Vector3,new zu.Vector3,new zu.Vector3,new zu.Vector3];class qu{constructor(e){this.sceneEl=e,this.shadowCameraBoundingBox=new zu.Box3,this.previousShadowsEnabled=this.realtimeShadowsEnabled=null,e.renderer.shadowMap.enabled=!1,e.renderer.shadowMap.type=zu.PCFSoftShadowMap,e.renderer.shadowMap.autoUpdate=!0,window.APP.store.addEventListener("statechanged",this.updatePrefs.bind(this)),this.updatePrefs()}updatePrefs(){this.realtimeShadowsEnabled=!0===window.APP.store.state.preferences.enableDynamicShadows&&"low"!==window.APP.store.materialQualitySetting,this.previousShadowsEnabled!==this.realtimeShadowsEnabled&&(this.sceneEl.renderer.shadowMap.enabled=this.realtimeShadowsEnabled,this.sceneEl.hasLoaded&&this.sceneEl.object3D.traverse((e=>{e.receiveShadow&&e.material&&Mt(e,(e=>(e.needsUpdate=!0,e)))}))),this.previousShadowsEnabled=this.realtimeShadowsEnabled}tick(){this.realtimeShadowsEnabled&&(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zu.Box3;t.makeEmpty(),e.updateMatrixWorld(),e.traverse((e=>{const n=e.geometry;n&&e.castShadow&&(n.boundingBox||n.computeBoundingBox(),Hu.copy(n.boundingBox),Hu.applyMatrix4(e.matrixWorld),t.union(Hu))})),Hu.makeEmpty()}(this.sceneEl.object3D,this.shadowCameraBoundingBox),this.sceneEl.object3D.traverse((e=>{e.isDirectionalLight&&function(e,t){Bu.makeEmpty();const n=t.min,r=t.max;Vu[0].set(n.x,n.y,n.z),Vu[1].set(n.x,n.y,r.z),Vu[2].set(n.x,r.y,n.z),Vu[3].set(n.x,r.y,r.z),Vu[4].set(r.x,n.y,n.z),Vu[5].set(r.x,n.y,r.z),Vu[6].set(r.x,r.y,n.z),Vu[7].set(r.x,r.y,r.z),e.updateMatrices(),e.target.updateMatrices(),e.shadow.updateMatrices(e),Gu.copy(e.shadow.camera.matrixWorld).invert();for(let e=0;e<Vu.length;e++)Vu[e].applyMatrix4(Gu),Bu.expandByPoint(Vu[e]);const a=e.shadow.camera;a.left=Bu.min.x-1,a.right=Bu.max.x+1,a.bottom=Bu.min.y-1,a.top=Bu.max.y+1,a.near=Bu.min.z+-500,a.far=Bu.max.z+500,a.updateProjectionMatrix()}(e,this.shadowCameraBoundingBox)})))}}AFRAME.registerSystem("scene-systems",{init(){N().then((()=>{this.DOMContentDidLoad=!0})),this.scenePreviewCameraSystem=new ju,this.animationMixerSystem=new re,this.shadowSystem=new qu(this.el)},tick(e,t){this.DOMContentDidLoad&&(this.animationMixerSystem.tick(t),this.scenePreviewCameraSystem.tick(),this.shadowSystem.tick())}});var Wu=n(17967);function $u(e,t,n){const r=n[e];if(!r)throw new Error(`Component "${e}" is not public.`);const a=r.publicProperties[t];if(!a)throw new Error(`Component "${e}"'s property "${t}" is not public.`);return{mappedComponent:r.mappedComponent,mappedProperty:a.mappedProperty,getMappedValue:a.getMappedValue}}var Ku=n(58061);const Yu=(0,Ft.defineQuery)([xn,qt,(0,Ft.Not)(Vt)]),Xu=((0,Ft.enterQuery)(Yu),(0,Ft.exitQuery)(Yu),(0,Ft.exitQuery)((0,Ft.defineQuery)([Ln])),1);var Qu=n(99477);const Ju={bounds:{x:1,y:1,z:1},mediaType:"all"};var ec=n(99477),tc=n(99477),nc=n(99477);const rc={front:nc.FrontSide,back:nc.BackSide,double:nc.DoubleSide},ac={textAlign:"center",anchorX:"center",anchorY:"middle"};var ic=n(99477);function oc(e){return void 0===e?(console.warn("found undefined node"),!1):"string"!=typeof e||(console.warn("found text node",e),!1)}!function({font:e,characters:t,sdfGlyphSize:n},r){_l({font:e,sdfGlyphSize:n,text:Array.isArray(t)?t.join("\n"):""+t},r)}({characters:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_<()>[]|0123456789"},(function(){}));const sc=["position","rotation","scale","visible","name","layers"];function lc(e,t){return null===t.current&&(t.current=(0,Ft.addEntity)(e)),t.current}function uc(e,t,n){if((0,Ft.hasComponent)(APP.world,qt,t))throw new Error("Tried to an object3D tag to an entity that already has one");return(0,Ft.addComponent)(APP.world,qt,t),e.eid2obj.set(t,n),n.eid=t,t}const cc=Object.getOwnPropertySymbols(En.screenRef).find((e=>"isEidType"===e.description));console.log(cc);const dc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n,r,a)=>{a=Object.assign({},t,a),(0,Ft.addComponent)(n,e,r,!0),Object.keys(a).forEach((t=>{const i=e[t];if(!i)return void console.error(`${t} is not a valid property of`,e);const o=a[t];i[r]=i[cc]?lc(n,o):o}))}},hc={"cursor-raycastable":dc($t),"remote-hover-target":dc(Kt),"hand-collision-target":dc(ln),"offers-remote-constraint":dc(sn),"offers-hand-constraint":dc(un),"single-action-button":dc(pn),"holdable-button":dc(fn),"text-button":dc(hn),"hover-button":dc(dn),holdable:dc(Xt),rigidbody:dc(xn),"physics-shape":dc(Ln),"floaty-object":dc(An),"make-kinematic-on-release":dc(_n),"destroy-at-extreme-distance":dc(kn),"networked-transform":dc(Ht),networked:dc(Ut),"camera-tool":dc(En,{captureDurIdx:1}),"media-frame":function(e,t,n){n=Object.assign({},Ju,n);const r=new Qu.Mesh(new Qu.BoxBufferGeometry(n.bounds.x,n.bounds.y,n.bounds.z),new Qu.ShaderMaterial({uniforms:{color:{value:new Qu.Color(3113197)}},vertexShader:"\n            varying vec2 vUv;\n            void main()\n            {\n              gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n              vUv = uv;\n            }\n          ",fragmentShader:"\n            // adapted from https://www.shadertoy.com/view/Mlt3z8\n            float bayerDither2x2( vec2 v ) {\n              return mod( 3.0 * v.y + 2.0 * v.x, 4.0 );\n            }\n            float bayerDither4x4( vec2 v ) {\n              vec2 P1 = mod( v, 2.0 );\n              vec2 P2 = mod( floor( 0.5  * v ), 2.0 );\n              return 4.0 * bayerDither2x2( P1 ) + bayerDither2x2( P2 );\n            }\n\n            varying vec2 vUv;\n            uniform vec3 color;\n            void main() {\n              float alpha = max(step(0.45, abs(vUv.x - 0.5)), step(0.45, abs(vUv.y - 0.5))) - 0.5;\n              if( ( bayerDither4x4( floor( mod( gl_FragCoord.xy, 4.0 ) ) ) ) / 16.0 >= alpha ) discard;\n              gl_FragColor = vec4(color, 1.0);\n            }\n          ",side:Qu.DoubleSide}));r.layers.set(8),r.parent=new Qu.Group,uc(e,t,r),(0,Ft.addComponent)(e,zt,t,!0),(0,Ft.addComponent)(e,jt,t,!0),(0,Ft.hasComponent)(e,Ut,t)||(0,Ft.addComponent)(e,Ut,t),zt.mediaType[t]={all:ur.ALL,"all-2d":ur.ALL_2D,model:ur.MODEL,image:ur.IMAGE,video:ur.VIDEO,pdf:ur.PDF}[n.mediaType],zt.bounds[t].set([n.bounds.x,n.bounds.y,n.bounds.z]),(0,Ft.addComponent)(e,xn,t),xn.collisionGroup[t]=Ku.COLLISION_LAYERS.MEDIA_FRAMES,xn.collisionMask[t]=Ku.COLLISION_LAYERS.INTERACTABLES,xn.flags[t]=Xu,(0,Ft.addComponent)(e,Ln,t),Ln.halfExtents[t].set([n.bounds.x/2,n.bounds.y/2,n.bounds.z/2])},object3D:uc,slice9:function(e,t,n){let{size:r,insets:a,texture:i}=n;const o=new tc.PlaneBufferGeometry(1,1,3,3),s=new tc.MeshBasicMaterial({map:i,transparent:!0,toneMapped:!1});uc(e,t,new tc.Mesh(o,s)),(0,Ft.addComponent)(e,Gt,t),Gt.insets[t].set(a),Gt.size[t].set(r),function(e,t){const n=e.eid2obj.get(t).geometry,r=n.attributes.position.array,a=n.attributes.uv.array,[i,o]=Gt.size[t],[s,l,u,c]=Gt.insets[t];function d(e,t,n){r[3*e]=t,r[3*e+1]=n}function h(e,t,n){a[2*e]=t,a[2*e+1]=n}const f={left:u/128,right:c/128,top:s/128,bottom:l/128};h(1,f.left,1),h(2,f.right,1),h(4,0,f.bottom),h(5,f.left,f.bottom),h(6,f.right,f.bottom),h(7,1,f.bottom),h(8,0,f.top),h(9,f.left,f.top),h(10,f.right,f.top),h(11,1,f.top),h(13,f.left,0),h(14,f.right,0);const p=i/2,m=o/2,g=.1-p,v=p-.1,y=m-.1,b=.1-m;d(0,-p,m),d(1,g,m),d(2,v,m),d(3,p,m),d(4,-p,y),d(5,g,y),d(6,v,y),d(7,p,y),d(8,-p,b),d(9,g,b),d(10,v,b),d(11,p,b),d(13,g,-m),d(14,v,-m),d(12,-p,-m),d(15,p,-m),n.attributes.position.needsUpdate=!0,n.attributes.uv.needsUpdate=!0}(e,t)},text:function(e,t,n){n=Object.assign({},ac,n),(0,Ft.addComponent)(e,Bt,t);const r=new Pl;Object.entries(n).forEach((e=>{let[t,n]=e;switch(t){case"value":r.text=n;break;case"side":r.material.side=rc[n];break;case"opacity":r.material.side=n;break;case"fontUrl":r.font=n;break;default:r[t]=n}})),r.sync(),uc(e,t,r)},model:function(e,t,n){let{src:r}=n;const a=new ec.Group;uc(e,t,a),bi(r,null,!0).then((t=>{const n=(0,Ft.addEntity)(e);uc(e,n,t.scene),(0,Ft.addComponent)(e,Wt,n),t.scene.userData.gltfSrc=r,a.add(t.scene)}))}};function fc(e,t){const n=t.ref?lc(e,t.ref):(0,Ft.addEntity)(e);Object.keys(t.components).forEach((r=>{if(!hc[r])throw new Error(`Failed to inflate unknown component called ${r}`);hc[r](e,n,t.components[r])}));let r=e.eid2obj.get(n);return r||(r=new ic.Group,uc(e,n,r)),t.attrs.position&&r.position.fromArray(t.attrs.position),t.attrs.rotation&&r.rotation.fromArray(t.attrs.rotation),t.attrs.scale&&r.scale.fromArray(t.attrs.scale),t.attrs.name&&(r.name=t.attrs.name),void 0!==t.attrs.layers&&(r.layers.mask=t.attrs.layers),void 0!==t.attrs.visible&&(r.visible=t.attrs.visible),t.children.forEach((t=>{if("a-entity"===t.type)throw new Error("a-entity can only be children of a-entity");{const n=fc(e,t);r.add(e.eid2obj.get(n))}})),n}var pc=n(99477);function mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mc(Object(n),!0).forEach((function(t){vc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yc(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function bc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){yc(i,r,a,o,s,"next",e)}function s(e){yc(i,r,a,o,s,"throw",e)}o(void 0)}))}}const wc=n(58061).COLLISION_LAYERS;function xc(e,t,n,r){return Lc.apply(this,arguments)}function Lc(){return Lc=bc((function*(e,t,n,r){let a=!0;if("link"===t&&(r.video||r.image))return;if(r.networked){a=n.controls||"link"===t;const i="video"===t||"audio"===t,o="model"===t||a||i?"#static-controlled-media":"#static-media";e.setAttribute("networked",{template:o,owner:"scene",persistent:!0,networkId:r.networked.id})}const i={};if("video"!==t&&"image"!==t||(i.projection=n.projection,i.alphaMode=n.alphaMode,i.alphaCutoff=n.alphaCutoff),"video"===t||"audio"===t){if(i.videoPaused=!n.autoPlay,i.loop=n.loop,i.hidePlaybackControls=!a,n.audioType){APP.audioOverrides.set(e,{audioType:n.audioType,distanceModel:n.audioType===Oi?Zi:n.distanceModel,rolloffFactor:n.audioType===Oi?0:n.rolloffFactor,refDistance:n.refDistance,maxDistance:n.maxDistance,coneInnerAngle:n.coneInnerAngle,coneOuterAngle:n.coneOuterAngle,coneOuterGain:n.coneOuterGain,gain:n.volume}),APP.sourceType.set(e,Pi.MEDIA_VIDEO);const t=APP.audios.get(e);t&&Bi(e,t)}e.setAttribute("video-pause-state",{paused:i.videoPaused})}"video"!==t&&"image"!==t||!r.link||(i.href=(0,Wu.N)(r.link.href));const o="link"===t?n.href:n.src;e.setAttribute("media-loader",{src:(0,Wu.N)(o),fitToBox:!0,resolve:!0,fileIsOwned:!0,animate:!1,mediaOptions:i,moveTheParentNotTheMesh:!0})})),Lc.apply(this,arguments)}AFRAME.GLTFModelPlus.registerComponent("duck","duck",(e=>{e.setAttribute("duck",""),e.setAttribute("quack",{quackPercentage:.1})})),AFRAME.GLTFModelPlus.registerComponent("quack","quack"),AFRAME.GLTFModelPlus.registerComponent("sound","sound"),AFRAME.GLTFModelPlus.registerComponent("css-class","css-class"),AFRAME.GLTFModelPlus.registerComponent("interactable","css-class",((e,t)=>{e.setAttribute(t,"interactable")})),AFRAME.GLTFModelPlus.registerComponent("super-spawner","super-spawner",((e,t,n)=>{e.setAttribute("is-remote-hover-target",""),e.setAttribute("tags",{isHandCollisionTarget:!0}),e.setAttribute("hoverable-visuals",""),e.setAttribute(t,n)})),AFRAME.GLTFModelPlus.registerComponent("gltf-model-plus","gltf-model-plus"),AFRAME.GLTFModelPlus.registerComponent("media-loader","media-loader"),AFRAME.GLTFModelPlus.registerComponent("body","body-helper",(e=>{e.setAttribute("body-helper",{mass:0,type:$i.TYPE.STATIC,collisionFilterGroup:wc.INTERACTABLES,collisionFilterMask:wc.DEFAULT_SPAWNER})})),AFRAME.GLTFModelPlus.registerComponent("ammo-shape","shape-helper"),AFRAME.GLTFModelPlus.registerComponent("hide-when-quality","hide-when-quality"),AFRAME.GLTFModelPlus.registerComponent("light","light",((e,t,n)=>{0===n.distance&&(n.decay=0),e.setAttribute(t,n),n.castShadow&&setTimeout((()=>{e.components.light.light.shadow.camera.matrixNeedsUpdate=!0}),0)})),AFRAME.GLTFModelPlus.registerComponent("ambient-light","ambient-light"),AFRAME.GLTFModelPlus.registerComponent("directional-light","directional-light"),AFRAME.GLTFModelPlus.registerComponent("hemisphere-light","hemisphere-light"),AFRAME.GLTFModelPlus.registerComponent("point-light","point-light"),AFRAME.GLTFModelPlus.registerComponent("spot-light","spot-light"),AFRAME.GLTFModelPlus.registerComponent("billboard","billboard"),AFRAME.GLTFModelPlus.registerComponent("simple-water","simple-water"),AFRAME.GLTFModelPlus.registerComponent("skybox","skybox"),AFRAME.GLTFModelPlus.registerComponent("layers","layers"),AFRAME.GLTFModelPlus.registerComponent("shadow","shadow"),AFRAME.GLTFModelPlus.registerComponent("water","water"),AFRAME.GLTFModelPlus.registerComponent("scale-audio-feedback","scale-audio-feedback"),AFRAME.GLTFModelPlus.registerComponent("morph-audio-feedback","morph-audio-feedback"),AFRAME.GLTFModelPlus.registerComponent("animation-mixer","animation-mixer"),AFRAME.GLTFModelPlus.registerComponent("loop-animation","loop-animation"),AFRAME.GLTFModelPlus.registerComponent("uv-scroll","uv-scroll"),AFRAME.GLTFModelPlus.registerComponent("frustrum","frustrum"),AFRAME.GLTFModelPlus.registerComponent("mirror","mirror"),AFRAME.GLTFModelPlus.registerComponent("box-collider","shape-helper",(()=>{const e=new pc.Euler;return(t,n,r)=>{const{scale:a,rotation:i}=r;e.set(i.x,i.y,i.z);const o=(new pc.Quaternion).setFromEuler(e);t.setAttribute(n,{type:$i.SHAPE.BOX,fit:$i.FIT.MANUAL,offset:r.position,halfExtents:{x:a.x/2,y:a.y/2,z:a.z/2},orientation:{x:o.x,y:o.y,z:o.z,w:o.w}})}})()),AFRAME.GLTFModelPlus.registerComponent("visible","visible",((e,t,n)=>{"object"==typeof n?e.setAttribute(t,n.visible):e.setAttribute(t,n)})),AFRAME.GLTFModelPlus.registerComponent("spawn-point","spawn-point",(e=>{e.setAttribute("waypoint",{canBeSpawnPoint:!0,canBeOccupied:!1,canBeClicked:!1,willDisableMotion:!1,willDisableTeleporting:!1,willMaintainWorldUp:!0})})),AFRAME.GLTFModelPlus.registerComponent("nav-mesh","nav-mesh"),AFRAME.GLTFModelPlus.registerComponent("pinnable","pinnable"),AFRAME.GLTFModelPlus.registerComponent("waypoint","waypoint",((e,t,n,r)=>{n.canBeOccupied&&e.setAttribute("networked",{template:"#template-waypoint-avatar",attachTemplateToLocal:!1,owner:"scene",persistent:!0,networkId:r.networked.id}),e.setAttribute("waypoint",n)})),AFRAME.GLTFModelPlus.registerComponent("media-frame","media-frame",((e,t,n)=>{const r=fc(APP.world,function(e,t){t=t||{};for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if("function"==typeof e)return e(t,r);if("entity"===e){const e={},n=[];let a=null;for(const r in t)sc.includes(r)?e[r]=t[r]:"ref"===r?a=t[r]:n[r]=!0===t[r]?{}:t[r];return{attrs:e,components:n,children:r.flat().filter(oc),ref:a}}throw new Error("invalid tag",e)}("entity",{"media-frame":n}));(0,Ft.addComponent)(APP.world,Ut,r);const a=ae(e,"networked"),i=a&&a.components.networked.data.networkId||"scene";Ut.id[r]=APP.getSid(`${i}.${e.object3D.children[0].userData.gltfIndex}`),APP.world.nid2eid.set(Ut.id[r],r),e.object3D.add(APP.world.eid2obj.get(r))})),AFRAME.GLTFModelPlus.registerComponent("media","media",((e,t,n)=>{n.id&&e.setAttribute("networked",{template:"#interactable-media",owner:"scene",persistent:!0,networkId:n.id});const r={src:(0,Wu.N)(n.src),fitToBox:!n.contentSubtype,resolve:!0,fileIsOwned:!0,animate:!1,contentSubtype:n.contentSubtype};n.version&&(r.version=n.version),e.setAttribute("media-loader",r),n.pageIndex&&(e.setAttribute("media-pdf",{index:n.pageIndex}),e.setAttribute("media-pager",{index:n.pageIndex})),void 0!==n.paused&&e.setAttribute("media-video",{videoPaused:n.paused}),n.time&&e.setAttribute("media-video",{time:n.time})})),AFRAME.GLTFModelPlus.registerComponent("model","model",xc),AFRAME.GLTFModelPlus.registerComponent("image","image",xc),AFRAME.GLTFModelPlus.registerComponent("audio","audio",xc,((e,t,n)=>"paused"===t?{name:"video-pause-state",property:t,value:n}:null)),AFRAME.GLTFModelPlus.registerComponent("video","video",xc,((e,t,n)=>"paused"===t?{name:"video-pause-state",property:t,value:n}:null)),AFRAME.GLTFModelPlus.registerComponent("link","link",xc),AFRAME.GLTFModelPlus.registerComponent("hoverable","is-remote-hover-target",(e=>{e.setAttribute("is-remote-hover-target",""),e.setAttribute("tags",{isHandCollisionTarget:!0})})),AFRAME.GLTFModelPlus.registerComponent("spawner","spawner",((e,t,n)=>{e.setAttribute("media-loader",{src:(0,Wu.N)(n.src),resolve:!0,fileIsOwned:!0,animate:!1,moveTheParentNotTheMesh:!0}),e.setAttribute("css-class","interactable"),e.setAttribute("super-spawner",{src:(0,Wu.N)(n.src),resolve:!0,template:"#interactable-media",mediaOptions:n.mediaOptions||{}}),e.setAttribute("hoverable-visuals",""),e.setAttribute("body-helper",{mass:0,type:$i.TYPE.STATIC,collisionFilterGroup:wc.INTERACTABLES,collisionFilterMask:wc.DEFAULT_SPAWNER}),e.setAttribute("is-remote-hover-target",""),e.setAttribute("tags",{isHandCollisionTarget:!0})}));const kc={video:{mappedComponent:"video-pause-state",publicProperties:{paused:{mappedProperty:"paused",getMappedValue:e=>!!e}}},"loop-animation":{mappedComponent:"loop-animation",publicProperties:{paused:{mappedProperty:"paused",getMappedValue:e=>!!e}}}};AFRAME.GLTFModelPlus.registerComponent("trigger-volume","trigger-volume",((e,t,n,r,a)=>{const{size:i,target:o,enterComponent:s,enterProperty:l,enterValue:u,leaveComponent:c,leaveProperty:d,leaveValue:h}=n;let f,p,m;try{if(f=$u(s,l,kc),p=$u(c,d,kc),m="number"==typeof o?a[o]:null==o?void 0:o.el,!m)throw new Error(`Couldn't find target entity with index: ${o}.`)}catch(e){return void console.warn(`Error inflating gltf component "trigger-volume": ${e.message}`)}e.setAttribute("trigger-volume",{colliders:"#avatar-pov-node",size:i,target:m,enterComponent:f.mappedComponent,enterProperty:f.mappedProperty,enterValue:f.getMappedValue(u),leaveComponent:p.mappedComponent,leaveProperty:p.mappedProperty,leaveValue:p.getMappedValue(h)})})),AFRAME.GLTFModelPlus.registerComponent("heightfield","heightfield",((e,t,n)=>{e.setAttribute("shape-helper__heightfield",{type:$i.SHAPE.HEIGHTFIELD,margin:.01,fit:$i.FIT.MANUAL,heightfieldDistance:n.distance,offset:n.offset,heightfieldData:n.data})})),AFRAME.GLTFModelPlus.registerComponent("trimesh","trimesh",(e=>{e.setAttribute("shape-helper__trimesh",{type:$i.SHAPE.MESH,margin:.01,fit:$i.FIT.ALL,includeInvisible:!0})})),AFRAME.GLTFModelPlus.registerComponent("particle-emitter","particle-emitter"),AFRAME.GLTFModelPlus.registerComponent("networked-drawing-buffer","networked-drawing-buffer"),AFRAME.GLTFModelPlus.registerComponent("audio-settings","audio-settings",((e,t,n)=>{const r=e=>Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return void 0!==r&&(e[n]=r),e}),{});APP.sceneAudioDefaults.set(Pi.MEDIA_VIDEO,r({distanceModel:n.mediaDistanceModel,rolloffFactor:n.mediaRolloffFactor,refDistance:n.mediaRefDistance,maxDistance:n.mediaMaxDistance,coneInnerAngle:n.mediaConeInnerAngle,coneOuterAngle:n.mediaConeOuterAngle,coneOuterGain:n.mediaConeOuterGain,gain:n.mediaVolume})),APP.sceneAudioDefaults.set(Pi.AVATAR_AUDIO_SOURCE,r({distanceModel:n.avatarDistanceModel,rolloffFactor:n.avatarRolloffFactor,refDistance:n.avatarRefDistance,maxDistance:n.avatarMaxDistance,coneInnerAngle:n.avatarConeInnerAngle,coneOuterAngle:n.avatarConeOuterAngle,coneOuterGain:n.avatarConeOuterGain,gain:n.avatarVolume}));for(const[e,t]of APP.audios.entries())Bi(e,t)})),AFRAME.GLTFModelPlus.registerComponent("video-texture-target","video-texture-target",((e,t,n,r,a)=>{const{targetBaseColorMap:i,targetEmissiveMap:o,srcNode:s}=n;let l;void 0!==s&&(l="number"==typeof s?a[s]:null==s?void 0:s.el,l||console.warn(`Error inflating gltf component "video-texture-srcEl": Couldn't find srcEl entity with index ${s}`)),e.setAttribute(t,{src:l?"el":"",targetBaseColorMap:i,targetEmissiveMap:o,srcEl:l})})),AFRAME.GLTFModelPlus.registerComponent("video-texture-source","video-texture-source"),AFRAME.GLTFModelPlus.registerComponent("text","text"),AFRAME.GLTFModelPlus.registerComponent("audio-target","audio-target",((e,t,n,r,a)=>{const{srcNode:i}=n;let o;if(void 0!==i&&(o="number"==typeof i?a[i]:null==i?void 0:i.el,o||console.warn(`Error inflating gltf component ${t}: Couldn't find srcEl entity with index ${i}`)),void 0!==n.positional){APP.audioOverrides.set(e,{audioType:n.positional?Ri:Oi,distanceModel:n.distanceModel,rolloffFactor:n.rolloffFactor,refDistance:n.refDistance,maxDistance:n.maxDistance,coneInnerAngle:n.coneInnerAngle,coneOuterAngle:n.coneOuterAngle,coneOuterGain:n.coneOuterGain,gain:n.gain}),APP.sourceType.set(e,Pi.AUDIO_TARGET);const t=APP.audios.get(e);t&&Bi(e,t)}e.setAttribute(t,{minDelay:n.minDelay,maxDelay:n.maxDelay,debug:n.debug,srcEl:o})})),AFRAME.GLTFModelPlus.registerComponent("zone-audio-source","zone-audio-source"),AFRAME.GLTFModelPlus.registerComponent("audio-params","audio-params",((e,t,n)=>{APP.audioOverrides.set(e,n);const r=APP.audios.get(e);r&&Bi(e,r)})),AFRAME.GLTFModelPlus.registerComponent("audio-zone","audio-zone",((e,t,n)=>{e.setAttribute(t,gc({},n))})),AFRAME.GLTFModelPlus.registerComponent("background","background",((e,t,n)=>{console.warn("The `background` component is deprecated, use `backgroundColor` on the `environment-settings` component instead."),e.setAttribute("environment-settings",{backgroundColor:new pc.Color(n.color)})})),AFRAME.GLTFModelPlus.registerComponent("fog","fog",((e,t,n)=>{e.setAttribute("environment-settings",{fogType:n.type,fogColor:new pc.Color(n.color),fogNear:n.near,fogFar:n.far,fogDensity:n.density})})),AFRAME.GLTFModelPlus.registerComponent("environment-settings","environment-settings",((e,t,n)=>{e.setAttribute(t,gc(gc({},n),{},{backgroundColor:new pc.Color(n.backgroundColor)}))})),AFRAME.GLTFModelPlus.registerComponent("reflection-probe","reflection-probe",((e,t,n)=>{n.envMapTexture.flipY=!0,n.envMapTexture.mapping=pc.EquirectangularReflectionMapping,e.setAttribute(t,n)}));var Sc=n(13659),Ac=n(25424),_c=n.p+"src/assets\\blender-lut-e6acb8ca8505336d09c6..cube",Ec=n(99477);function Mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mc(Object(n),!0).forEach((function(t){Tc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dc={None:"NoToneMapping",Linear:"LinearToneMapping",Reinhard:"ReinhardToneMapping",Cineon:"CineonToneMapping",ACESFilmic:"ACESFilmicToneMapping",CustomToneMapping:"CustomToneMapping",LUTToneMapping:"LUTToneMapping"},Pc={LinearEncoding:"LinearEncoding",sRGBEncoding:"sRGBEncoding",GBEEncoding:"GBEEncoding",GBM7Encoding:"GBM7Encoding",GBDEncoding:"GBDEncoding",BasicDepthPacking:"BasicDepthPacking",GBADepthPacking:"GBADepthPackig"},Oc={toneMapping:Dc.Linear,outputEncoding:Pc.sRGBEncoding,toneMappingExposure:1,physicallyCorrectLights:!0,envMapTexture:null,backgroundTexture:null,backgroundColor:new Ec.Color("#000000"),fogType:null,fogColor:new Ec.Color("#ffffff"),fogDensity:25e-5,fogFar:1e3,fogNear:1};let Rc;class Zc{constructor(e){this.scene=e.object3D,this.renderer=e.renderer,this.pmremGenerator=new Ec.PMREMGenerator(this.renderer),this.applyEnvSettings(Oc),K("envSettingsDebug")&&this.setupDebugView()}setupDebugView(){const e=Cc({},Oc),t=()=>{this.applyEnvSettings(e)},n=new Sc.XS;n.add(e,"toneMapping",Object.values(Dc)).onChange(t).listen(),n.add(e,"toneMappingExposure",0,4,.01).onChange(t).listen(),n.add(e,"outputEncoding",Object.values(Pc)).onChange(t).listen(),n.add(e,"physicallyCorrectLights",!0).onChange(t).listen(),n.open(),this.debugGui=n,this.debugSettings=e,this.debugMode=!0,window.$E=this}updateEnvironment(e){const t=e.querySelector("[environment-settings]"),n=e.querySelector("[skybox]"),r=e.querySelector("[nav-mesh]"),a=Cc(Cc({},Oc),{},{skybox:null==n?void 0:n.components.skybox});t&&Object.assign(a,t.components["environment-settings"].data);const i=null==r?void 0:r.object3D.getObjectByProperty("isMesh",!0);i&&AFRAME.scenes[0].systems.nav.loadMesh(i,r.components["nav-mesh"].data.zone),e.object3D.traverse((e=>{e.isMesh&&(e.reflectionProbeMode="static")})),this.applyEnvSettings(a)}applyEnvSettings(e){var t;this.debugSettings&&Object.assign(this.debugSettings,e);let n=!1;this.debugMode&&console.log("Applying environment settings",e),this.renderer.physicallyCorrectLights!==e.physicallyCorrectLights&&(this.renderer.physicallyCorrectLights=e.physicallyCorrectLights,n=!0);const r=Ec[e.toneMapping];this.renderer.toneMapping!==r&&(this.renderer.toneMapping=r,n=!0,r===Ec.LUTToneMapping?(Rc||(Rc=new Promise((function(e,t){(new Ac.X).load(_c,(t=>{let{texture3D:n}=t;return e(n)}),null,t)}))),Rc.then((e=>{this.renderer.tonemappingLUT=e})).catch((function(e){console.error("Error loading Blender LUT",e),Rc=null}))):this.renderer.tonemappingLUT=null),this.renderer.toneMappingExposure=e.toneMappingExposure;const a=Ec[e.outputEncoding];this.renderer.outputEncoding!==a&&(this.renderer.outputEncoding=a,n=!0),this.scene.remove(window.lp),e.backgroundTexture?(e.backgroundTexture.mapping=Ec.EquirectangularReflectionMapping,this.scene.background=e.backgroundTexture):this.scene.background=e.backgroundColor,e.envMapTexture?this.prevEnvMapTextureUUID!==e.envMapTexture.uuid&&(this.prevEnvMapTextureUUID=e.envMapTexture.uuid,e.envMapTexture.flipY=!0,e.envMapTexture.mapping=Ec.EquirectangularReflectionMapping,this.scene.environment=e.envMapTexture):e.skybox?this.prevEnvMapTextureUUID!==e.skybox.uuid&&(this.prevEnvMapTextureUUID=e.skybox.uuid,this.scene.environment=e.skybox.sky.generateEnvironmentMap(this.renderer)):(this.scene.environment=null,this.prevEnvMapTextureUUID=null),(null===(t=this.scene.fog)||void 0===t?void 0:t.name)!==e.fogType?("linear"===e.fogType?this.scene.fog=new Ec.Fog(e.fogColor,e.fogNear,e.fogFar):"exponential"===e.fogType?this.scene.fog=new Ec.FogExp2(e.fogColor,e.fogDensity):this.scene.fog=null,n=!0):e.fogType&&(this.scene.fog.color.copy(e.fogColor),"linear"===e.fogType?(this.scene.fog.near=e.fogNear,this.scene.fog.far=e.fogFar):"exponential"===e.fogType&&(this.scene.fog.density=e.fogDensity)),n&&(this.debugMode&&console.log("materials need updating"),this.scene.traverse((e=>{e.material&&(e.material.needsUpdate=!0)})))}}function Fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uc(e,t,n){!function(e,t,n,r,a,i,o){let s={};const l=(e.location.state&&e.location.state.__historyLength||0)+(t?0:1);(n||i||o)&&(s=e.location.state?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fc(Object(n),!0).forEach((function(t){Ic(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.location.state):{},delete s.__duplicate,n&&(s[n]=r,s.key=n,s.value=r,s.detail=a));const u=void 0!==i?i:"/"===e.location.pathname?"":e.location.pathname,c=void 0!==o?o:e.location.search,d=e.location.hash,h=e.location.state&&e.location.state.__duplicate,f=t||h?e.replace:e.push;s.__historyLength=l,f({pathname:u,search:c,state:s,hash:d})}(e,!1,null,null,null,t,n)}function Nc(e){return`/${e.pathname.split("/").slice(2).join("/")}`}function jc(e,t){return`/${e.pathname.split("/")[1]}${t}`}function zc(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function Bc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){zc(i,r,a,o,s,"next",e)}function s(e){zc(i,r,a,o,s,"throw",e)}o(void 0)}))}}AFRAME.registerComponent("nav-mesh",{schema:{zone:{default:"character"}}}),AFRAME.registerComponent("environment-settings",{schema:{toneMapping:{default:Oc.toneMapping,oneOf:Object.values(Dc)},toneMappingExposure:{default:Oc.toneMappingExposure},backgroundColor:{type:"color",default:Oc.background},fogType:{type:"string",default:Oc.fogType},fogColor:{type:"color",default:Oc.fogColor},fogDensity:{type:"number",default:Oc.fogDensity},fogNear:{type:"number",default:Oc.forNear},fogFar:{type:"number",default:Oc.fogFar}}}),AFRAME.registerComponent("reflection-probe",{schema:{size:{default:1},envMapTexture:{type:"map"}},init:function(){this.el.object3D.updateMatrices();const e=(new Ec.Box3).setFromCenterAndSize(new Ec.Vector3,(new Ec.Vector3).setScalar(2*this.data.size)).applyMatrix4(this.el.object3D.matrixWorld);if(this.el.setObject3D("probe",new Ec.ReflectionProbe(e,this.data.envMapTexture)),this.el.sceneEl.systems["hubs-systems"].environmentSystem.debugMode){const e=(new Ec.Box3).setFromCenterAndSize(new Ec.Vector3,(new Ec.Vector3).setScalar(2*this.data.size));this.el.setObject3D("helper",new Ec.Box3Helper(e,new Ec.Color(Math.random(),Math.random(),Math.random())))}}}),[["remote-right",tn],["remote-left",nn],["hand-right",Jt],["hand-left",en],["is-remote-hover-target",Kt],["is-not-remote-hover-target",Yt],["remove-networked-object-button",Qt],["destroy-at-extreme-distances",kn]].forEach((e=>{let[t,n]=e;AFRAME.registerComponent(t,{init:function(){(0,Ft.addComponent)(APP.world,n,this.el.object3D.eid)},remove:function(){(0,Ft.removeComponent)(APP.world,n,this.el.object3D.eid)}})}));const Gc={entries:[],meta:{}},Hc={scenes:"scene_listings",images:"bing_images",videos:"bing_videos",youtube:"youtube_videos",gifs:"tenor",sketchfab:"sketchfab",twitch:"twitch",favorites:"favorites"},Vc=["sketchfab","videos","scenes","avatars","gifs","images"].filter((e=>{const t=Hc[e];return P.integration(t)})),qc={gifs:"trending",sketchfab:"featured",scenes:"featured",favorites:"my-favorites"},Wc=["q","filter","cursor","similar_to"];class $c extends Ne.EventTarget{constructor(){var e;super(),e=this,this._update=function(){var t=Bc((function*(t){e.result=null,e.dispatchEvent(new CustomEvent("statechanged"));const n=e.getUrlMediaSource(t);if(!n)return;e.previousSource&&e.previousSource===n||(e.dispatchEvent(new CustomEvent("sourcechanged")),e.previousSource=n);const r=new URLSearchParams(t.search);e.requestIndex++;const a=e.requestIndex,i=new URLSearchParams,o=new URLSearchParams(t.search),s=o.get("filter")&&o.get("filter").startsWith("my-");for(const e of Wc)r.get(e)&&i.set(e,r.get(e));let l;if(i.get("locale",navigator.languages[0]),"avatars"===n||"scenes"===n){const e="avatars"===n?"avatar":"scene";l=s?`${e}s`:`${e}_listings`}else l=Hc[n];i.set("source",l);let u=!0;"avatars"!==l&&"scenes"!==l&&"favorites"!==l||s&&(window.APP.store.credentialsAccountId?i.set("user",window.APP.store.credentialsAccountId):u=!1);const c=`/api/v1/media/search?${i.toString()}`,d=gt(c);if(e.lastSavedUrl===d)return;e.isFetching=!0,e.dispatchEvent(new CustomEvent("statechanged"));const h=u?yield St(c):Gc;e.requestIndex==a&&(e.result=h,e.nextCursor=e.result&&e.result.meta&&e.result.meta.next_cursor,e.lastFetchedUrl=d,e.isFetching=!1,e.dispatchEvent(new CustomEvent("statechanged")))}));return function(e){return t.apply(this,arguments)}}(),this.pageNavigate=e=>{if(-1===e)this.history.goBack();else{const e=this.history.location,t=new URLSearchParams(e.search);t.set("cursor",this.nextCursor),Uc(this.history,e.pathname,t.toString())}},this.filterQueryNavigate=(e,t)=>{const n=this.history.location,r=new URLSearchParams(n.search);r.delete("similar_to"),r.delete("similar_name"),t?r.set("q",t):r.delete("q"),e?r.set("filter",e):r.delete("filter"),e?r.set("cursor",e):r.delete("cursor"),Uc(this.history,n.pathname,r.toString())},this.getSearchClearedSearchParams=(e,t,n,r)=>{const a=new URLSearchParams(e.search);return a.delete("q"),a.delete("filter"),a.delete("cursor"),a.delete("similar_to"),a.delete("similar_name"),n||a.delete("media_nav"),t||a.delete("media_source"),r||a.delete("selectAction"),a},this._stashLastSearchParams=e=>{const t=new URLSearchParams(e.search);this._stashedParams={},this._stashedSource=null;const n=this.getUrlMediaSource(e);if("favorites"!==n){this._stashedSource=n;for(const e of Wc){const n=t.get(e);n&&(this._stashedParams[e]=n)}}},this.clearStashedQuery=()=>{this._stashedParams&&delete this._stashedParams.q},this.sourceNavigate=e=>{this._sourceNavigate(e,!1,!0)},this.sourceNavigateToDefaultSource=()=>{this._sourceNavigate(this._stashedSource?this._stashedSource:Vc[0],!1,!0)},this.sourceNavigateWithNoNav=(e,t)=>{this._sourceNavigate(e,!0,!1,t)},this._sourceNavigate=function(){var t=Bc((function*(t,n,r,a){const i=new URLSearchParams(e.history.location.search).get("q"),o=e.getSearchClearedSearchParams(e.history.location);if(i)o.set("q",i);else if(r&&e._stashedParams)for(const n of Wc){const r=e._stashedParams[n],a="q"===n||e._stashedSource===t;r&&a&&o.set(n,r)}else if("avatars"===t){const t=yield e._hasAccountWithAvatars();o.set("filter",t?"my-avatars":"featured")}else qc[t]&&o.set("filter",qc[t]);e._stashedParams=null,e._stashedSource=null,n&&o.set("media_nav","false"),a&&o.set("selectAction",a),ct()&&document.location.host!==P.RETICULUM_SERVER?(o.set("media_source",t),Uc(e.history,e.history.location.pathname,o.toString())):Uc(e.history,jc(e.history.location,`/media/${t}`),o.toString())}));return function(e,n,r,a){return t.apply(this,arguments)}}(),this._hasAccountWithAvatars=Bc((function*(){const{credentialsAccountId:e}=window.APP.store;if(!e)return!1;const t=new URLSearchParams;t.set("source","avatars"),t.set("user",e);const n=yield St(`/api/v1/media/search?${t.toString()}`);return!(!n||!n.entries)&&n.entries.length>0})),this.getUrlMediaSource=e=>{const{search:t}=e,n=new URLSearchParams(t),r=Nc(e);return r.startsWith("/media")||n.get("media_source")?n.get("media_source")||r.substring(7):null},this.pushExitMediaBrowserHistory=function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t||(t=e.history),n&&e._stashLastSearchParams(t.location);const{pathname:r}=t.location,a=Nc(t.location).startsWith("/media");Uc(t,a?jc(t.location,"/"):r,e.getSearchClearedSearchParams(t.location).toString()),e.dispatchEvent(new CustomEvent("media-exit"))},this.requestIndex=0}setHistory(e){this.history=e,this._update(this.history.location),this.history.listen((e=>{this._update(e)}))}}var Kc=n(99477);window.$B=Ft,n(24842);var Yc=n(28341),Xc=n.n(Yc);const Qc=window.ga;function Jc(e,t){const n=P.SENTRY_DSN,r=P.GA_TRACKING_ID;n&&(console.log("Tracking: Sentry DSN: "+n),Xc().config(n).install()),Qc&&r&&(console.log("Tracking: Google Analytics ID: "+r),Qc("create",r,"auto"),e&&Qc("set","page",e),t&&Qc("set","title",t),Qc("send","pageview"))}var ed=n(3103);n(31942),n(74462),n(17689),n(75029),n(5547);class td extends a.Component{constructor(){super(...arguments),this.state={locale:y(),messages:b()},this.updateLocale=()=>{this.setState({locale:y(),messages:b()})}}componentDidMount(){this.updateLocale(),window.addEventListener("locale-updated",this.updateLocale)}componentWillUnmount(){window.removeEventListener("locale-updated",this.updateLocale)}render(){return a.createElement(ed.Z,{locale:this.state.locale,messages:this.state.messages},this.props.children)}}function nd(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rd(Object(n),!0).forEach((function(t){id(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function id(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}td.propTypes={children:o().node.isRequired},console.log("Hubs version: 1.0.0.20230327124534"),function(){if(/Android.+Firefox/.test(navigator.userAgent)){const e=WebGLRenderingContext.prototype.getExtension,t=function(){const e=new ee.WebGLRenderer({forceWebVR:!0}),t=new ee.Scene,n=new Float32Array(16),r=new ee.DataTexture(n,2,2,ee.RGBAFormat,ee.FloatType),a=new ee.Mesh(new ee.PlaneBufferGeometry(1,1),new ee.MeshBasicMaterial({map:r}));a.material.map.needsUpdate=!0,t.add(a),e.render(t,new ee.Camera);const i=0===e.getContext().getError();return e.dispose(),i}();WebGLRenderingContext.prototype.getExtension=function(n){return"OES_texture_float"!==n||t?e.call(this,n):null}}}(),window.APP=new class{constructor(){this.scene=null,this.store=new st,this.mediaSearchStore=new $c,this.hubChannel=null,this.mediaDevicesManager=null,this.audios=new Map,this.sourceType=new Map,this.audioOverrides=new Map,this.zoneOverrides=new Map,this.audioDebugPanelOverrides=new Map,this.sceneAudioDefaults=new Map,this.gainMultipliers=new Map,this.supplementaryAttenuation=new Map,this.clippingState=new Set,this.mutedState=new Set,this.isAudioPaused=new Set,this.world=(0,Ft.createWorld)(),this.world.eid2obj=new Map,this.world.nid2eid=new Map,this.world.deletedNids=new Set,this.world.ignoredNids=new Set,this.str2sid=new Map([[null,0]]),this.sid2str=new Map([[0,null]]),this.nextSid=1,window.$o=e=>{this.world.eid2obj.get(e)},(0,Ft.addEntity)(this.world),this.world.nameToComponent={object3d:qt,networked:Ut,owned:Nt,AEntity:Vt}}getSid(e){if(!this.str2sid.has(e)){const t=this.nextSid;return this.nextSid=this.nextSid+1,this.str2sid.set(e,t),this.sid2str.set(t,e),t}return this.str2sid.get(e)}getString(e){return this.sid2str.get(e)}setupRenderer(e){const t=document.createElement("canvas");t.classList.add("a-canvas"),t.dataset.aframeCanvas=!0,t.addEventListener("touchmove",(function(e){e.preventDefault()}));const n=new Kc.WebGLRenderer({alpha:!0,antialias:!0,depth:!0,stencil:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,logarithmicDepthBuffer:!1,powerPreference:"high-performance",canvas:t});n.setPixelRatio(window.devicePixelRatio),n.debug.checkShaderErrors=K("checkShaderErrors"),n.physicallyCorrectLights=!0,n.outputEncoding=Kc.sRGBEncoding,e.appendChild(n.domElement);const r=new Kc.PerspectiveCamera(80,window.innerWidth/window.innerHeight,.05,1e4),a=new Kc.AudioListener;APP.audioListener=a,r.add(a);const i=new Kc.Clock;function o(t,a){const o=1e3*i.getDelta(),s=1e3*i.elapsedTime;e.frame=a,(e=>{const{time:t}=e,n=performance.now(),r=n-t.then;t.delta=r,t.elapsed+=r,t.then=n,t.tick++})(APP.world),e.isPlaying&&e.tick(s,o),n.render(e.object3D,r)}return e.clock=i,APP.world.time={delta:0,elapsed:0,then:performance.now(),tick:0},APP.world.scene=e.object3D,e.addEventListener("loaded",(()=>{n.setAnimationLoop(o),e.renderStarted=!0})),{renderer:n,camera:r,audioListener:a}}};const od=new URLSearchParams(location.search);function sd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ul.render(a.createElement(td,null,a.createElement(I,{store:window.APP.store},a.createElement(Fu,ad({scene:e,store:window.APP.store},t)))),document.getElementById("ui-root"))}!function(){if(!Iu)return;let e=0;document.addEventListener("touchmove",(e=>{1!==e.scale&&e.preventDefault()})),document.addEventListener("touchend",(t=>{const n=(new Date).getTime(),r=n-e<=300;e=n,r&&t.preventDefault()}))}();const ld=function(){var e,t=(e=function*(){console.log("Scene is ready");const e=document.querySelector("a-scene");window.APP.scene=e;const t=od.get("scene_id")||document.location.pathname.substring(1).split("/")[1];console.log(`Scene ID: ${t}`);let n={sceneId:t};sd(e);const r=t=>{n=ad(ad({},n),t),sd(e,n)},a=document.querySelector("#scene-root"),i=document.createElement("a-entity"),o=document.createElement("a-entity"),s=document.getElementById("camera");(function(){return kt.apply(this,arguments)})().then((e=>{const t={hub_id:"scene"};window.APP.store.state.credentials&&window.APP.store.state.credentials.token&&(t.token=window.APP.store.state.credentials.token);const n=e.channel("ret",t);n.join().receive("ok",(()=>{n.push("refresh_perms_token").receive("ok",(t=>{let{perms_token:a}=t;const i=De()(a);r({showCreateRoom:!!i.create_hub}),n.leave(),e.disconnect()}))}))}));const l=new Zc(e);i.addEventListener("environment-scene-loaded",(()=>{r({sceneLoaded:!0});const e=o.object3D.getObjectByName("scene-preview-camera");e?(console.log("Setting up preview camera"),s.object3D.position.copy(e.position),s.object3D.rotation.copy(e.rotation),s.object3D.matrixNeedsUpdate=!0):console.warn("No preview camera found"),s.setAttribute("scene-preview-camera","");const t=i.childNodes[0];l.updateEnvironment(t)}));const u=(yield St(`/api/v1/scenes/${t}`)).scenes[0];if(!u)return void r({unavailable:!0});u.allow_promotion?Jc(`/scene/${t}`,`Hubs Scene: ${u.title}`):Jc("/scene","Hubs Non-Promotable Scene Page");const c=u.model_url;console.log(`Scene Model URL: ${c}`),o.setAttribute("gltf-model-plus",{src:c,useCache:!1,inflate:!0}),o.addEventListener("model-loaded",(e=>{let{detail:{model:t}}=e;return i.emit("environment-scene-loaded",t)})),i.appendChild(o),a.appendChild(i);const d=u.parent_scene_id&&(yield St(`/api/v1/scenes/${u.parent_scene_id}`)).scenes[0];r({sceneName:u.name,sceneDescription:u.description,sceneAttributions:u.attributions,sceneScreenshotURL:u.screenshot_url,sceneId:u.scene_id,sceneProjectId:u.project_id,sceneAllowRemixing:u.allow_remixing,isOwner:u.account_id&&u.account_id===window.APP.store.credentialsAccountId,parentScene:d})},function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){nd(i,r,a,o,s,"next",e)}function s(e){nd(i,r,a,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();document.addEventListener("DOMContentLoaded",ld)},15335:function(e,t,n){var r=n(99477);r.Water=function(e,t){r.Mesh.call(this,e);const n=this,a=void 0!==(t=t||{}).textureWidth?t.textureWidth:512,i=void 0!==t.textureHeight?t.textureHeight:512,o=void 0!==t.clipBias?t.clipBias:0,s=void 0!==t.alpha?t.alpha:1,l=void 0!==t.time?t.time:0,u=void 0!==t.waterNormals?t.waterNormals:null,c=void 0!==t.sunDirection?t.sunDirection:new r.Vector3(.70707,.70707,0),d=new r.Color(void 0!==t.sunColor?t.sunColor:16777215),h=new r.Color(void 0!==t.waterColor?t.waterColor:8355711),f=void 0!==t.eye?t.eye:new r.Vector3(0,0,0),p=void 0!==t.distortionScale?t.distortionScale:20,m=void 0!==t.side?t.side:r.FrontSide,g=void 0!==t.fog&&t.fog,v=new r.Plane,y=new r.Vector3,b=new r.Vector3,w=new r.Vector3,x=new r.Matrix4,L=new r.Vector3(0,0,-1),k=new r.Vector4,S=new r.Vector3,A=new r.Vector3,_=new r.Vector4,E=new r.Matrix4,M=new r.PerspectiveCamera,C={minFilter:r.LinearFilter,magFilter:r.LinearFilter,format:r.RGBAFormat,stencilBuffer:!1},T=new r.WebGLRenderTarget(a,i,C);r.MathUtils.isPowerOfTwo(a)&&r.MathUtils.isPowerOfTwo(i)||(T.texture.generateMipmaps=!1);const D={uniforms:r.UniformsUtils.merge([r.UniformsLib.fog,r.UniformsLib.lights,{normalSampler:{value:null},mirrorSampler:{value:null},alpha:{value:1},time:{value:0},size:{value:1},distortionScale:{value:20},textureMatrix:{value:new r.Matrix4},sunColor:{value:new r.Color(8355711)},sunDirection:{value:new r.Vector3(.70707,.70707,0)},eye:{value:new r.Vector3},waterColor:{value:new r.Color(5592405)}}]),vertexShader:["uniform mat4 textureMatrix;","uniform float time;","varying vec4 mirrorCoord;","varying vec4 worldPosition;",r.ShaderChunk.fog_pars_vertex,r.ShaderChunk.shadowmap_pars_vertex,"void main() {","\tmirrorCoord = modelMatrix * vec4( position, 1.0 );","\tworldPosition = mirrorCoord.xyzw;","\tmirrorCoord = textureMatrix * mirrorCoord;","\tvec4 mvPosition =  modelViewMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * mvPosition;",r.ShaderChunk.fog_vertex,r.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform sampler2D mirrorSampler;","uniform float alpha;","uniform float time;","uniform float size;","uniform float distortionScale;","uniform sampler2D normalSampler;","uniform vec3 sunColor;","uniform vec3 sunDirection;","uniform vec3 eye;","uniform vec3 waterColor;","varying vec4 mirrorCoord;","varying vec4 worldPosition;","vec4 getNoise( vec2 uv ) {","\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);","\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );","\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );","\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );","\tvec4 noise = texture2D( normalSampler, uv0 ) +","\t\ttexture2D( normalSampler, uv1 ) +","\t\ttexture2D( normalSampler, uv2 ) +","\t\ttexture2D( normalSampler, uv3 );","\treturn noise * 0.5 - 1.0;","}","void sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {","\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );","\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );","\tspecularColor += pow( direction, shiny ) * sunColor * spec;","\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;","}",r.ShaderChunk.common,r.ShaderChunk.packing,r.ShaderChunk.bsdfs,r.ShaderChunk.fog_pars_fragment,r.ShaderChunk.lights_pars_begin,r.ShaderChunk.shadowmap_pars_fragment,r.ShaderChunk.shadowmask_pars_fragment,"void main() {","\tvec4 noise = getNoise( worldPosition.xz * size );","\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );","\tvec3 diffuseLight = vec3(0.0);","\tvec3 specularLight = vec3(0.0);","\tvec3 worldToEye = eye-worldPosition.xyz;","\tvec3 eyeDirection = normalize( worldToEye );","\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );","\tfloat distance = length(worldToEye);","\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;","\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );","\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );","\tfloat rf0 = 0.3;","\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );","\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;","\tvec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ) * getShadowMask(), ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance);","\tvec3 outgoingLight = albedo;","\tgl_FragColor = vec4( outgoingLight, alpha );",r.ShaderChunk.tonemapping_fragment,r.ShaderChunk.fog_fragment,"}"].join("\n")},P=new r.ShaderMaterial({fragmentShader:D.fragmentShader,vertexShader:D.vertexShader,uniforms:r.UniformsUtils.clone(D.uniforms),transparent:!0,lights:!0,side:m,fog:g});P.uniforms.mirrorSampler.value=T.texture,P.uniforms.textureMatrix.value=E,P.uniforms.alpha.value=s,P.uniforms.time.value=l,P.uniforms.normalSampler.value=u,P.uniforms.sunColor.value=d,P.uniforms.waterColor.value=h,P.uniforms.sunDirection.value=c,P.uniforms.distortionScale.value=p,P.uniforms.eye.value=f,n.material=P,n.mirrorCamera=M,n.onBeforeRender=function(e,t,r){if(b.setFromMatrixPosition(n.matrixWorld),w.setFromMatrixPosition(r.matrixWorld),x.extractRotation(n.matrixWorld),y.set(0,0,1),y.applyMatrix4(x),S.subVectors(b,w),S.dot(y)>0)return;S.reflect(y).negate(),S.add(b),x.extractRotation(r.matrixWorld),L.set(0,0,-1),L.applyMatrix4(x),L.add(w),A.subVectors(b,L),A.reflect(y).negate(),A.add(b),M.position.copy(S),M.up.set(0,1,0),M.up.applyMatrix4(x),M.up.reflect(y),M.lookAt(A),M.far=r.far,M.matrixNeedsUpdate=!0,M.updateMatrixWorld(),M.projectionMatrix.copy(r.projectionMatrix),E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),E.multiply(M.projectionMatrix),E.multiply(M.matrixWorldInverse),v.setFromNormalAndCoplanarPoint(y,b),v.applyMatrix4(M.matrixWorldInverse),k.set(v.normal.x,v.normal.y,v.normal.z,v.constant);const a=M.projectionMatrix;_.x=(Math.sign(k.x)+a.elements[8])/a.elements[0],_.y=(Math.sign(k.y)+a.elements[9])/a.elements[5],_.z=-1,_.w=(1+a.elements[10])/a.elements[14],k.multiplyScalar(2/k.dot(_)),a.elements[2]=k.x,a.elements[6]=k.y,a.elements[10]=k.z+1-o,a.elements[14]=k.w,f.setFromMatrixPosition(r.matrixWorld);const i=e.getRenderTarget(),s=e.xr.enabled,l=e.shadowMap.autoUpdate;n.visible=!1,e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(T),e.render(t,M),e.setRenderTarget(null),n.visible=!0,e.xr.enabled=s,e.shadowMap.autoUpdate=l,e.setRenderTarget(i)}},r.Water.prototype=Object.create(r.Mesh.prototype),r.Water.prototype.constructor=r.Water},68337:function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function a(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===a(e)}function o(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},l={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function c(e){var t=e.re=n(36066)(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var l=[];function u(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===a(n))return"[object RegExp]"!==a(n.validate)?i(n.validate)?r.validate=n.validate:u(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(i(n.normalize)?r.normalize=n.normalize:n.normalize?u(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===a(e)}(n)?u(t,n):l.push(t)}})),l.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var c=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(o).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+c+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+c+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,a=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=a,this.text=a,this.url=a}function h(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function f(e,t){if(!(this instanceof f))return new f(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},l,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},c(this)}f.prototype.add=function(e,t){return this.__schemas__[e]=t,c(this),this},f.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},f.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,a,i,o,s,l;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(a=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+a;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,o=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=o)),this.__index__>=0},f.prototype.pretest=function(e){return this.re.pretest.test(e)},f.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},f.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(h(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(h(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},f.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),c(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,c(this),this)},f.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},f.prototype.onCompile=function(){},e.exports=f},36066:function(e,t,n){"use strict";e.exports=function(e){var t={};return t.src_Any=n(29369).source,t.src_Cc=n(99413).source,t.src_Z=n(35045).source,t.src_P=n(73189).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|"),t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},34155:function(e){var t,n,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,l=[],u=!1,c=-1;function d(){u&&s&&(u=!1,s.length?l=s.concat(l):c=-1,l.length&&h())}function h(){if(!u){var e=o(d);u=!0;for(var t=l.length;t;){for(s=l,l=[];++c<t;)s&&s[c].run();c=-1,t=l.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||u||o(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},97807:function(e){e.exports={GRAVITY:-9.8,MAX_INTERVAL:4/60,ITERATIONS:10,SIMULATION_RATE:8.333,ACTIVATION_STATE:{ACTIVE_TAG:"active",ISLAND_SLEEPING:"islandSleeping",WANTS_DEACTIVATION:"wantsDeactivation",DISABLE_DEACTIVATION:"disableDeactivation",DISABLE_SIMULATION:"disableSimulation"},COLLISION_FLAG:{STATIC_OBJECT:1,KINEMATIC_OBJECT:2,NO_CONTACT_RESPONSE:4,CUSTOM_MATERIAL_CALLBACK:8,CHARACTER_OBJECT:16,DISABLE_VISUALIZE_OBJECT:32,DISABLE_SPU_COLLISION_PROCESSING:64},TYPE:{STATIC:"static",DYNAMIC:"dynamic",KINEMATIC:"kinematic"},SHAPE:{BOX:"box",CYLINDER:"cylinder",SPHERE:"sphere",CAPSULE:"capsule",CONE:"cone",HULL:"hull",HACD:"hacd",VHACD:"vhacd",MESH:"mesh",HEIGHTFIELD:"heightfield"},FIT:{ALL:"all",MANUAL:"manual"},CONSTRAINT:{LOCK:"lock",FIXED:"fixed",SPRING:"spring",SLIDER:"slider",HINGE:"hinge",CONE_TWIST:"coneTwist",POINT_TO_POINT:"pointToPoint"},MESSAGE_TYPES:{INIT:0,READY:1,ADD_BODY:2,BODY_READY:3,UPDATE_BODY:4,REMOVE_BODY:5,ADD_SHAPES:6,REMOVE_SHAPES:7,ADD_CONSTRAINT:8,REMOVE_CONSTRAINT:9,ENABLE_DEBUG:10,RESET_DYNAMIC_BODY:11,ACTIVATE_BODY:12,TRANSFER_DATA:13},BUFFER_CONFIG:{HEADER_LENGTH:2,MAX_BODIES:1e4,MATRIX_OFFSET:0,LINEAR_VELOCITY_OFFSET:16,ANGULAR_VELOCITY_OFFSET:17,COLLISIONS_OFFSET:18,BODY_DATA_SIZE:26},BUFFER_STATE:{UNINITIALIZED:0,READY:1,CONSUMED:2}}},56594:function(e,t,n){"use strict";n.r(t),n.d(t,{Pathfinding:function(){return s},PathfindingHelper:function(){return u}});var r=n(99477);class a{static roundNumber(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}static sample(e){return e[Math.floor(Math.random()*e.length)]}static distanceToSquared(e,t){var n=e.x-t.x,r=e.y-t.y,a=e.z-t.z;return n*n+r*r+a*a}static isPointInPoly(e,t){for(var n=!1,r=-1,a=e.length,i=a-1;++r<a;i=r)(e[r].z<=t.z&&t.z<e[i].z||e[i].z<=t.z&&t.z<e[r].z)&&t.x<(e[i].x-e[r].x)*(t.z-e[r].z)/(e[i].z-e[r].z)+e[r].x&&(n=!n);return n}static isVectorInPolygon(e,t,n){var r=1e5,a=-1e5,i=[];return t.vertexIds.forEach((e=>{r=Math.min(n[e].y,r),a=Math.max(n[e].y,a),i.push(n[e])})),!!(e.y<a+.5&&e.y>r-.5&&this.isPointInPoly(i,e))}static triarea2(e,t,n){return(n.x-e.x)*(t.z-e.z)-(t.x-e.x)*(n.z-e.z)}static vequal(e,t){return this.distanceToSquared(e,t)<1e-5}static mergeVertices(e,t=1e-4){t=Math.max(t,Number.EPSILON);for(var n={},a=e.getIndex(),i=e.getAttribute("position"),o=a?a.count:i.count,s=0,l=[],u=[],c=Math.log10(1/t),d=Math.pow(10,c),h=0;h<o;h++){var f=a?a.getX(h):h,p="";p+=~~(i.getX(f)*d)+",",p+=~~(i.getY(f)*d)+",",(p+=~~(i.getZ(f)*d)+",")in n?l.push(n[p]):(u.push(i.getX(f)),u.push(i.getY(f)),u.push(i.getZ(f)),n[p]=s,l.push(s),s++)}const m=new r.BufferAttribute(new Float32Array(u),i.itemSize,i.normalized),g=new r.BufferGeometry;return g.setAttribute("position",m),g.setIndex(l),g}}class i{constructor(e){this.content=[],this.scoreFunction=e}push(e){this.content.push(e),this.sinkDown(this.content.length-1)}pop(){const e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e}remove(e){const t=this.content.indexOf(e),n=this.content.pop();t!==this.content.length-1&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))}size(){return this.content.length}rescoreElement(e){this.sinkDown(this.content.indexOf(e))}sinkDown(e){const t=this.content[e];for(;e>0;){const n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}}bubbleUp(e){const t=this.content.length,n=this.content[e],r=this.scoreFunction(n);for(;;){const a=e+1<<1,i=a-1;let o,s=null;if(i<t&&(o=this.scoreFunction(this.content[i]),o<r&&(s=i)),a<t&&this.scoreFunction(this.content[a])<(null===s?r:o)&&(s=a),null===s)break;this.content[e]=this.content[s],this.content[s]=n,e=s}}}class o{constructor(){this.portals=[]}push(e,t){void 0===t&&(t=e),this.portals.push({left:e,right:t})}stringPull(){const e=this.portals,t=[];let n,r,i,o=0,s=0,l=0;n=e[0].left,r=e[0].left,i=e[0].right,t.push(n);for(let u=1;u<e.length;u++){const c=e[u].left,d=e[u].right;if(a.triarea2(n,i,d)<=0){if(!(a.vequal(n,i)||a.triarea2(n,r,d)>0)){t.push(r),n=r,o=s,r=n,i=n,s=o,l=o,u=o;continue}i=d,l=u}if(a.triarea2(n,r,c)>=0){if(!(a.vequal(n,r)||a.triarea2(n,i,c)<0)){t.push(i),n=i,o=l,r=n,i=n,s=o,l=o,u=o;continue}r=c,s=u}}return 0!==t.length&&a.vequal(t[t.length-1],e[e.length-1].left)||t.push(e[e.length-1].left),this.path=t,t}}class s{constructor(){this.zones={}}static createZone(e,t=1e-4){return class{static buildZone(e,t){const n=this._buildNavigationMesh(e,t),i={};n.vertices.forEach((e=>{e.x=a.roundNumber(e.x,2),e.y=a.roundNumber(e.y,2),e.z=a.roundNumber(e.z,2)})),i.vertices=n.vertices;const o=this._buildPolygonGroups(n);return i.groups=new Array(o.length),o.forEach(((e,t)=>{const n=new Map;e.forEach(((e,t)=>{n.set(e,t)}));const o=new Array(e.length);e.forEach(((e,t)=>{const s=[];e.neighbours.forEach((e=>s.push(n.get(e))));const l=[];e.neighbours.forEach((t=>l.push(this._getSharedVerticesInOrder(e,t))));const u=new r.Vector3(0,0,0);u.add(i.vertices[e.vertexIds[0]]),u.add(i.vertices[e.vertexIds[1]]),u.add(i.vertices[e.vertexIds[2]]),u.divideScalar(3),u.x=a.roundNumber(u.x,2),u.y=a.roundNumber(u.y,2),u.z=a.roundNumber(u.z,2),o[t]={id:t,neighbours:s,vertexIds:e.vertexIds,centroid:u,portals:l}})),i.groups[t]=o})),i}static _buildNavigationMesh(e,t){return e=a.mergeVertices(e,t),this._buildPolygonsFromGeometry(e)}static _spreadGroupId(e){let t=new Set([e]);for(;t.size>0;){const n=t;t=new Set,n.forEach((n=>{n.group=e.group,n.neighbours.forEach((e=>{void 0===e.group&&t.add(e)}))}))}}static _buildPolygonGroups(e){const t=[];return e.polygons.forEach((e=>{void 0!==e.group?t[e.group].push(e):(e.group=t.length,this._spreadGroupId(e),t.push([e]))})),t}static _buildPolygonNeighbours(e,t){const n=new Set,r=t[e.vertexIds[1]],a=t[e.vertexIds[2]];return t[e.vertexIds[0]].forEach((t=>{t!==e&&(r.includes(t)||a.includes(t))&&n.add(t)})),r.forEach((t=>{t!==e&&a.includes(t)&&n.add(t)})),n}static _buildPolygonsFromGeometry(e){const t=[],n=[],a=e.attributes.position,i=e.index,o=[];for(let e=0;e<a.count;e++)n.push((new r.Vector3).fromBufferAttribute(a,e)),o[e]=[];for(let n=0;n<e.index.count;n+=3){const e=i.getX(n),r=i.getX(n+1),a=i.getX(n+2),s={vertexIds:[e,r,a],neighbours:null};t.push(s),o[e].push(s),o[r].push(s),o[a].push(s)}return t.forEach((e=>{e.neighbours=this._buildPolygonNeighbours(e,o)})),{polygons:t,vertices:n}}static _getSharedVerticesInOrder(e,t){const n=e.vertexIds,r=n[0],a=n[1],i=n[2],o=t.vertexIds,s=o.includes(r),l=o.includes(a),u=o.includes(i);return s&&l&&u?Array.from(n):s&&l?[r,a]:l&&u?[a,i]:s&&u?[i,r]:(console.warn("Error processing navigation mesh neighbors; neighbors with <2 shared vertices found."),[])}}.buildZone(e,t)}setZoneData(e,t){this.zones[e]=t}getRandomNode(e,t,n,i){if(!this.zones[e])return new r.Vector3;n=n||null,i=i||0;const o=[];return this.zones[e].groups[t].forEach((e=>{n&&i?a.distanceToSquared(n,e.centroid)<i*i&&o.push(e.centroid):o.push(e.centroid)})),a.sample(o)||new r.Vector3}getClosestNode(e,t,n,r=!1){const i=this.zones[t].vertices;let o=null,s=1/0;return this.zones[t].groups[n].forEach((t=>{const n=a.distanceToSquared(t.centroid,e);n<s&&(!r||a.isVectorInPolygon(e,t,i))&&(o=t,s=n)})),o}findPath(e,t,n,s){const l=this.zones[n].groups[s],u=this.zones[n].vertices,c=this.getClosestNode(e,n,s,!0),d=this.getClosestNode(t,n,s,!0);if(!c||!d)return null;const h=class{static init(e){for(let t=0;t<e.length;t++){const n=e[t];n.f=0,n.g=0,n.h=0,n.cost=1,n.visited=!1,n.closed=!1,n.parent=null}}static cleanUp(e){for(let t=0;t<e.length;t++){const n=e[t];delete n.f,delete n.g,delete n.h,delete n.cost,delete n.visited,delete n.closed,delete n.parent}}static heap(){return new i((function(e){return e.f}))}static search(e,t,n){this.init(e);const r=this.heap();for(r.push(t);r.size()>0;){const t=r.pop();if(t===n){let e=t;const n=[];for(;e.parent;)n.push(e),e=e.parent;return this.cleanUp(n),n.reverse()}t.closed=!0;const a=this.neighbours(e,t);for(let e=0,i=a.length;e<i;e++){const i=a[e];if(i.closed)continue;const o=t.g+i.cost,s=i.visited;if(!s||o<i.g){if(i.visited=!0,i.parent=t,!i.centroid||!n.centroid)throw new Error("Unexpected state");i.h=i.h||this.heuristic(i.centroid,n.centroid),i.g=o,i.f=i.g+i.h,s?r.rescoreElement(i):r.push(i)}}}return[]}static heuristic(e,t){return a.distanceToSquared(e,t)}static neighbours(e,t){const n=[];for(let r=0;r<t.neighbours.length;r++)n.push(e[t.neighbours[r]]);return n}}.search(l,c,d),f=function(e,t){for(var n=0;n<e.neighbours.length;n++)if(e.neighbours[n]===t.id)return e.portals[n]},p=new o;p.push(e);for(let e=0;e<h.length;e++){const t=h[e],n=h[e+1];if(n){const e=f(t,n);p.push(u[e[0]],u[e[1]])}}p.push(t),p.stringPull();const m=p.path.map((e=>new r.Vector3(e.x,e.y,e.z)));return m.shift(),m}}s.prototype.getGroup=function(){const e=new r.Plane;return function(t,n,r=!1){if(!this.zones[t])return null;let i=null,o=Math.pow(50,2);const s=this.zones[t];for(let t=0;t<s.groups.length;t++){const l=s.groups[t];for(const u of l){if(r&&(e.setFromCoplanarPoints(s.vertices[u.vertexIds[0]],s.vertices[u.vertexIds[1]],s.vertices[u.vertexIds[2]]),Math.abs(e.distanceToPoint(n))<.01)&&a.isPointInPoly([s.vertices[u.vertexIds[0]],s.vertices[u.vertexIds[1]],s.vertices[u.vertexIds[2]]],n))return t;const l=a.distanceToSquared(u.centroid,n);l<o&&(i=t,o=l)}}return i}}(),s.prototype.clampStep=function(){const e=new r.Vector3,t=new r.Plane,n=new r.Triangle,a=new r.Vector3;let i,o,s=new r.Vector3;return function(r,l,u,c,d,h){const f=this.zones[c].vertices,p=this.zones[c].groups[d],m=[u],g={};g[u.id]=0,i=void 0,s.set(0,0,0),o=1/0,t.setFromCoplanarPoints(f[u.vertexIds[0]],f[u.vertexIds[1]],f[u.vertexIds[2]]),t.projectPoint(l,e),a.copy(e);for(let t=m.pop();t;t=m.pop()){n.set(f[t.vertexIds[0]],f[t.vertexIds[1]],f[t.vertexIds[2]]),n.closestPointToPoint(a,e),e.distanceToSquared(a)<o&&(i=t,s.copy(e),o=e.distanceToSquared(a));const r=g[t.id];if(!(r>2))for(let e=0;e<t.neighbours.length;e++){const n=p[t.neighbours[e]];n.id in g||(m.push(n),g[n.id]=r+1)}}return h.copy(s),i}}();const l={PLAYER:new r.Color(15631215).convertSRGBToLinear().getHex(),TARGET:new r.Color(14469912).convertSRGBToLinear().getHex(),PATH:new r.Color(41903).convertSRGBToLinear().getHex(),WAYPOINT:new r.Color(41903).convertSRGBToLinear().getHex(),CLAMPED_STEP:new r.Color(14472114).convertSRGBToLinear().getHex(),CLOSEST_NODE:new r.Color(4417387).convertSRGBToLinear().getHex()};class u extends r.Object3D{constructor(){super(),this._playerMarker=new r.Mesh(new r.SphereBufferGeometry(.25,32,32),new r.MeshBasicMaterial({color:l.PLAYER})),this._targetMarker=new r.Mesh(new r.BoxBufferGeometry(.3,.3,.3),new r.MeshBasicMaterial({color:l.TARGET})),this._nodeMarker=new r.Mesh(new r.BoxBufferGeometry(.1,.8,.1),new r.MeshBasicMaterial({color:l.CLOSEST_NODE})),this._stepMarker=new r.Mesh(new r.BoxBufferGeometry(.1,1,.1),new r.MeshBasicMaterial({color:l.CLAMPED_STEP})),this._pathMarker=new r.Object3D,this._pathLineMaterial=new r.LineBasicMaterial({color:l.PATH,linewidth:2}),this._pathPointMaterial=new r.MeshBasicMaterial({color:l.WAYPOINT}),this._pathPointGeometry=new r.SphereBufferGeometry(.08),this._markers=[this._playerMarker,this._targetMarker,this._nodeMarker,this._stepMarker,this._pathMarker],this._markers.forEach((e=>{e.visible=!1,this.add(e)}))}setPath(e){for(;this._pathMarker.children.length;)this._pathMarker.children[0].visible=!1,this._pathMarker.remove(this._pathMarker.children[0]);e=[this._playerMarker.position].concat(e);const t=new r.BufferGeometry;t.setAttribute("position",new r.BufferAttribute(new Float32Array(3*e.length),3));for(let n=0;n<e.length;n++)t.attributes.position.setXYZ(n,e[n].x,e[n].y+.2,e[n].z);this._pathMarker.add(new r.Line(t,this._pathLineMaterial));for(let t=0;t<e.length-1;t++){const n=new r.Mesh(this._pathPointGeometry,this._pathPointMaterial);n.position.copy(e[t]),n.position.y+=.2,this._pathMarker.add(n)}return this._pathMarker.visible=!0,this}setPlayerPosition(e){return this._playerMarker.position.copy(e),this._playerMarker.visible=!0,this}setTargetPosition(e){return this._targetMarker.position.copy(e),this._targetMarker.visible=!0,this}setNodePosition(e){return this._nodeMarker.position.copy(e),this._nodeMarker.visible=!0,this}setStepPosition(e){return this._stepMarker.position.copy(e),this._stepMarker.visible=!0,this}reset(){for(;this._pathMarker.children.length;)this._pathMarker.children[0].visible=!1,this._pathMarker.remove(this._pathMarker.children[0]);return this._markers.forEach((e=>{e.visible=!1})),this}}},99413:function(e){e.exports=/[\0-\x1F\x7F-\x9F]/},73189:function(e){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},35045:function(e){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},29369:function(e){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},52511:function(e,t,n){var r;e=n.nmd(e),function(a){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var o,s=2147483647,l=36,u=/^xn--/,c=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,p=String.fromCharCode;function m(e){throw RangeError(h[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(n=e.charCodeAt(a++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--):r.push(t);return r}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+p(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,n){var r=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;r+=l)e=f(e/35);return f(r+36*e/(e+38))}function L(e){var t,n,r,a,i,o,u,c,d,h,p,g=[],v=e.length,y=0,w=128,L=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),g.push(e.charCodeAt(r));for(a=n>0?n+1:0;a<v;){for(i=y,o=1,u=l;a>=v&&m("invalid-input"),((c=(p=e.charCodeAt(a++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:l)>=l||c>f((s-y)/o))&&m("overflow"),y+=c*o,!(c<(d=u<=L?1:u>=L+26?26:u-L));u+=l)o>f(s/(h=l-d))&&m("overflow"),o*=h;L=x(y-i,t=g.length+1,0==i),f(y/t)>s-w&&m("overflow"),w+=f(y/t),y%=t,g.splice(y++,0,w)}return b(g)}function k(e){var t,n,r,a,i,o,u,c,d,h,g,v,b,L,k,S=[];for(v=(e=y(e)).length,t=128,n=0,i=72,o=0;o<v;++o)(g=e[o])<128&&S.push(p(g));for(r=a=S.length,a&&S.push("-");r<v;){for(u=s,o=0;o<v;++o)(g=e[o])>=t&&g<u&&(u=g);for(u-t>f((s-n)/(b=r+1))&&m("overflow"),n+=(u-t)*b,t=u,o=0;o<v;++o)if((g=e[o])<t&&++n>s&&m("overflow"),g==t){for(c=n,d=l;!(c<(h=d<=i?1:d>=i+26?26:d-i));d+=l)k=c-h,L=l-h,S.push(p(w(h+k%L,0))),c=f(k/L);S.push(p(w(c,0))),i=x(n,b,r==a),n=0,++r}++n,++t}return S.join("")}o={version:"1.3.2",ucs2:{decode:y,encode:b},decode:L,encode:k,toASCII:function(e){return v(e,(function(e){return c.test(e)?"xn--"+k(e):e}))},toUnicode:function(e){return v(e,(function(e){return u.test(e)?L(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},27225:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,a){n=n||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(n);var s=1e3;a&&"number"==typeof a.maxKeys&&(s=a.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var u=0;u<l;++u){var c,d,h,f,p=e[u].replace(o,"%20"),m=p.indexOf(r);m>=0?(c=p.substr(0,m),d=p.substr(m+1)):(c=p,d=""),h=decodeURIComponent(c),f=decodeURIComponent(d),t(i,h)?Array.isArray(i[h])?i[h].push(f):i[h]=[i[h],f]:i[h]=f}return i}},44066:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,a){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var i=encodeURIComponent(t(a))+r;return Array.isArray(e[a])?e[a].map((function(e){return i+encodeURIComponent(t(e))})).join(n):i+encodeURIComponent(t(e[a]))})).join(n):a?encodeURIComponent(t(a))+r+encodeURIComponent(t(e)):""}},36254:function(e,t,n){"use strict";t.decode=t.parse=n(27225),t.encode=t.stringify=n(44066)},8575:function(e,t,n){"use strict";var r=n(52511),a=n(62502);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return a.isString(e)&&(e=b(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),d=["%","/","?",";","#"].concat(c),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(36254);function b(e,t,n){if(e&&a.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var w=l.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=o.exec(b);if(x){var L=(x=x[0]).toLowerCase();this.protocol=L,b=b.substr(x.length)}if(n||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===b.substr(0,2);!k||x&&g[x]||(b=b.substr(2),this.slashes=!0)}if(!g[x]&&(k||x&&!v[x])){for(var S,A,_=-1,E=0;E<h.length;E++)-1!==(M=b.indexOf(h[E]))&&(-1===_||M<_)&&(_=M);for(-1!==(A=-1===_?b.lastIndexOf("@"):b.lastIndexOf("@",_))&&(S=b.slice(0,A),b=b.slice(A+1),this.auth=decodeURIComponent(S)),_=-1,E=0;E<d.length;E++){var M;-1!==(M=b.indexOf(d[E]))&&(-1===_||M<_)&&(_=M)}-1===_&&(_=b.length),this.host=b.slice(0,_),b=b.slice(_),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var T=this.hostname.split(/\./),D=(E=0,T.length);E<D;E++){var P=T[E];if(P&&!P.match(f)){for(var O="",R=0,Z=P.length;R<Z;R++)P.charCodeAt(R)>127?O+="x":O+=P[R];if(!O.match(f)){var F=T.slice(0,E),I=T.slice(E+1),U=P.match(p);U&&(F.push(U[1]),I.unshift(U[2])),I.length&&(b="/"+I.join(".")+b),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=r.toASCII(this.hostname));var N=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+N,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[L])for(E=0,D=c.length;E<D;E++){var z=c[E];if(-1!==b.indexOf(z)){var B=encodeURIComponent(z);B===z&&(B=escape(z)),b=b.split(z).join(B)}}var G=b.indexOf("#");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,H)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[L]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){N=this.pathname||"";var V=this.search||"";this.path=N+V}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(a.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),u=0;u<l.length;u++){var c=l[u];"protocol"!==c&&(n[c]=e[c])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var f=d[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||n.host&&e.pathname,L=x,k=n.pathname&&n.pathname.split("/")||[],S=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===k[0]?k[0]=n.host:k.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===k[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,k=p;else if(p.length)k||(k=[]),k.pop(),k=k.concat(p),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search))return S&&(n.hostname=n.host=k.shift(),(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift())),n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!k.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var A=k.slice(-1)[0],_=(n.host||e.host||k.length>1)&&("."===A||".."===A)||""===A,E=0,M=k.length;M>=0;M--)"."===(A=k[M])?k.splice(M,1):".."===A?(k.splice(M,1),E++):E&&(k.splice(M,1),E--);if(!x&&!L)for(;E--;E)k.unshift("..");!x||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),_&&"/"!==k.join("/").substr(-1)&&k.push("");var C,T=""===k[0]||k[0]&&"/"===k[0].charAt(0);return S&&(n.hostname=n.host=T?"":k.length?k.shift():"",(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift())),(x=x||n.host&&k.length)&&!T&&k.unshift(""),k.length?n.pathname=k.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},62502:function(e){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},20477:function(e){"use strict";e.exports=function(e,t,n,r){var a=self||window;try{try{var i;try{i=new a.Blob([e])}catch(t){(i=new(a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder)).append(e),i=i.getBlob()}var o=a.URL||a.webkitURL,s=o.createObjectURL(i),l=new a[t](s,n);return o.revokeObjectURL(s),l}catch(r){return new a[t]("data:application/javascript,".concat(encodeURIComponent(e)),n)}}catch(e){if(!r)throw Error("Inline worker is not supported");return new a[t](r,n)}}},37472:function(e,t,n){var r={"./de.json":[33116,116],"./es.json":[27297,297],"./fr.json":[83056,56],"./ja.json":[23160,160],"./ko.json":[55540,540],"./pt.json":[10188,188],"./ru.json":[97441,441],"./zh-cn.json":[2030,30],"./zh-tw.json":[4076,76]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,19)}))}a.keys=function(){return Object.keys(r)},a.id=37472,e.exports=a},24251:function(e,t,n){"use strict";n.r(t),n.d(t,{Changed:function(){return de},DESERIALIZE_MODE:function(){return D},Not:function(){return ce},Types:function(){return at},addComponent:function(){return ze},addEntity:function(){return oe},commitRemovals:function(){return Te},createWorld:function(){return Xe},defineComponent:function(){return Ie},defineDeserializer:function(){return q},defineQuery:function(){return _e},defineSerializer:function(){return H},defineSystem:function(){return nt},deleteWorld:function(){return Je},enterQuery:function(){return we},entityExists:function(){return ue},exitQuery:function(){return xe},getAllEntities:function(){return tt},getEntityComponents:function(){return le},getWorldComponents:function(){return et},hasComponent:function(){return je},parentArray:function(){return M},pipe:function(){return rt},registerComponent:function(){return Ue},registerComponents:function(){return Ne},removeComponent:function(){return Be},removeEntity:function(){return se},removeQuery:function(){return Oe},resetChangedQuery:function(){return Pe},resetWorld:function(){return Qe},setDefaultSize:function(){return re},setRemovedRecycleThreshold:function(){return ae}});var r={i8:"i8",ui8:"ui8",ui8c:"ui8c",i16:"i16",ui16:"ui16",i32:"i32",ui32:"ui32",f32:"f32",f64:"f64",eid:"eid"},a={i8:"Int8",ui8:"Uint8",ui8c:"Uint8Clamped",i16:"Int16",ui16:"Uint16",i32:"Int32",ui32:"Uint32",eid:"Uint32",f32:"Float32",f64:"Float64"},i={i8:Int8Array,ui8:Uint8Array,ui8c:Uint8ClampedArray,i16:Int16Array,ui16:Uint16Array,i32:Int32Array,ui32:Uint32Array,f32:Float32Array,f64:Float64Array,eid:Uint32Array},o=(4,e=>4*Math.ceil(e/4)),s=Symbol("storeRef"),l=Symbol("storeSize"),u=Symbol("storeMaps"),c=Symbol("storeFlattened"),d=Symbol("storeBase"),h=Symbol("storeType"),f=Symbol("storeArrayElementCounts"),p=Symbol("storeSubarrays"),m=Symbol("subarrayCursors"),g=Symbol("subarray"),v=(Symbol("subarrayFrom"),Symbol("subarrayTo"),Symbol("parentArray")),y=Symbol("tagStore"),b=(Symbol("queryShadow"),Symbol("serializeShadow"),Symbol("indexType")),w=Symbol("indexBytes"),x=Symbol("isEidType"),L={},k=(e,t)=>{const n=new ArrayBuffer(t*e.BYTES_PER_ELEMENT),r=new e.constructor(n);return r.set(e,0),r},S=(e,t)=>{if(ArrayBuffer.isView(e))e[t]=e.slice(0);else{const n=e[v].slice(0);e[t]=e.map(((t,r)=>{const{length:a}=e[r],i=a*r,o=i+a;return n.subarray(i,o)}))}},A=(e,t,n)=>{Object.keys(t).forEach((s=>{const l=t[s];Array.isArray(l)?(((e,t,n)=>{const s=e[m];let l=t[h];const u=t[0].length,c=u<=256?r.ui8:u<=65536?r.ui16:r.ui32;if(0===s[l]){const t=e[f][l],r=new i[l](o(t*n));r.set(e[p][l]),e[p][l]=r,r[b]=a[c],r[w]=i[c].BYTES_PER_ELEMENT}const d=s[l],y=d+n*u;s[l]=y,t[v]=e[p][l].subarray(d,y);for(let e=0;e<n;e++){const n=u*e,r=n+u;t[e]=t[v].subarray(n,r),t[e][b]=a[c],t[e][w]=i[c].BYTES_PER_ELEMENT,t[e][g]=!0}})(e,l,n),t[c].push(l)):ArrayBuffer.isView(l)?(t[s]=k(l,n),t[c].push(t[s])):"object"==typeof l&&A(e,t[s],n)}))},_=(e,t)=>{e[y]||(e[l]=t,e[c].length=0,Object.keys(e[m]).forEach((t=>{e[m][t]=0})),A(e,e,t))},E=(e,t)=>{e[c]&&e[c].forEach((e=>{ArrayBuffer.isView(e)?e[t]=0:e[t].fill(0)}))},M=e=>e[v],C=e=>Array.isArray(e)&&"string"==typeof e[0]&&"number"==typeof e[1],T=()=>{const e=[],t=[];e.sort=function(n){const r=Array.prototype.sort.call(this,n);for(let n=0;n<e.length;n++)t[e[n]]=n;return r};const n=n=>e[t[n]]===n;return{add:r=>{n(r)||(t[r]=e.push(r)-1)},remove:r=>{if(!n(r))return;const a=t[r],i=e.pop();i!==r&&(e[a]=i,t[i]=a)},has:n,sparse:t,dense:e}},D={REPLACE:0,APPEND:1,MAP:2},P=!1,O=(e,t)=>e.concat(t),R=e=>t=>!e(t),Z=e=>e[c],F=Z,I=R(F),U=e=>"function"==typeof e,N=R(U),j=e=>U(e)&&"changed"===e()[1],z=e=>Object.getOwnPropertySymbols(e).includes(Re),B=e=>e()[0],G=e=>{if(z(e))return[[],new Map];const t=e.filter(N).filter(F).map(Z).reduce(O,[]),n=e.filter(j).map(B).filter(F).map(Z).reduce(O,[]),r=e.filter(N).filter(I),a=e.filter(j).map(B).filter(I);return[[...t,...r,...n,...a],[...n,...a].reduce(((e,t)=>{const n=Symbol();return S(t,n),e.set(t,n),e}),new Map)]},H=(e,t=2e7)=>{const n=z(e);let[r,a]=G(e);const i=new ArrayBuffer(t),o=new DataView(i),s=new Map;return t=>{let l;P&&([r,a]=G(e),P=!1),n&&(r=[],e[Re].forEach(((e,t)=>{t[c]?r.push(...t[c]):r.push(t)}))),Object.getOwnPropertySymbols(t).includes(Re)?(l=t,t=t[Y]):l=ie.get(t[0]);let u=0;if(!t.length)return i.slice(0,u);const h=new Map;for(let e=0;e<r.length;e++){const n=r[e],i=n[d](),c=a.get(n),f=c?n[c]:null;h.has(i)||h.set(i,new Map),o.setUint8(u,e),u+=1;const p=u;u+=4;let m=0;for(let e=0;e<t.length;e++){const r=t[e];let a=s.get(r);a||(a=s.set(r,new Set).get(r)),a.add(r);const c=f&&h.get(i).get(r)||!a.has(i)&&je(l,i,r);if(h.get(i).set(r,c),c)a.add(i);else if(!je(l,i,r)){a.delete(i);continue}const d=u;if(o.setUint32(u,r),u+=4,n[y])m++;else if(ArrayBuffer.isView(n[r])){const e=n[r].constructor.name.replace("Array",""),t=n[r][b],a=n[r][w],i=u;u+=a;let s=0;for(let i=0;i<n[r].length;i++){if(f){const e=f[r][i]!==n[r][i];if(f[r][i]=n[r][i],!e&&!c)continue}o[`set${t}`](u,i),u+=a;const l=n[r][i];o[`set${e}`](u,l),u+=n[r].BYTES_PER_ELEMENT,s++}if(!(s>0)){u=d;continue}o[`set${t}`](i,s),m++}else{if(f){const e=f[r]!==n[r];if(f[r]=n[r],!e&&!c){u=d;continue}}const e=n.constructor.name.replace("Array","");o[`set${e}`](u,n[r]),u+=n.BYTES_PER_ELEMENT,m++}}m>0?o.setUint32(p,m):u-=5}return i.slice(0,u)}},V=new Map,q=e=>{const t=Object.getOwnPropertySymbols(e).includes(Re);let[n]=G(e);const r=new Set;return(a,i,o=0)=>{V.clear(),P&&([n]=G(e),P=!1),t&&(n=[],e[Re].forEach(((e,t)=>{t[c]?n.push(...t[c]):n.push(t)})));const s=a[We],l=a[$e],u=new DataView(i);let h=0;for(;h<i.byteLength;){const e=u.getUint8(h);h+=1;const t=u.getUint32(h);h+=4;const i=n[e];for(let e=0;e<t;e++){let e=u.getUint32(h);if(h+=4,o===D.MAP)if(s.has(e))e=s.get(e);else if(V.has(e))e=V.get(e);else{const t=oe(a);s.set(e,t),l.set(t,e),V.set(e,t),e=t}if(o===D.APPEND||o===D.REPLACE&&!a[K].has(e)){const t=V.get(e)||oe(a);V.set(e,t),e=t}const t=i[d]();if(je(a,t,e)||ze(a,t,e),r.add(e),!t[y])if(ArrayBuffer.isView(i[e])){const t=i[e],n=u[`get${t[b]}`](h);h+=t[w];for(let r=0;r<n;r++){const n=u[`get${t[b]}`](h);h+=t[w];const r=u[`get${t.constructor.name.replace("Array","")}`](h);if(h+=t.BYTES_PER_ELEMENT,i[x]){let t;if(s.has(r))t=s.get(r);else if(V.has(r))t=V.get(r);else{const e=oe(a);s.set(r,e),l.set(e,r),V.set(r,e),t=e}i[e][n]=t}else i[e][n]=r}}else{const t=u[`get${i.constructor.name.replace("Array","")}`](h);if(h+=i.BYTES_PER_ELEMENT,i[x]){let n;if(s.has(t))n=s.get(t);else if(V.has(t))n=V.get(t);else{const e=oe(a);s.set(t,e),l.set(e,t),V.set(t,e),n=e}i[e]=n}else i[e]=t}}}const f=Array.from(r);return r.clear(),f}},W=Symbol("entityMasks"),$=Symbol("entityComponents"),K=Symbol("entitySparseSet"),Y=Symbol("entityArray"),X=(Symbol("entityIndices"),Symbol("removedEntities"),1e5),Q=0,J=X,ee=()=>J,te=[],ne=.01,re=e=>{const t=J;J=X=e,Q=0,ne=.01,te.length=0,J=e,Ye(e),Fe(e),P=!0,console.info(` bitECS - resizing all data stores from ${t} to ${e}`)},ae=e=>{ne=e},ie=new Map,oe=e=>{if(Q>=J-J/5){const e=J,t=4*Math.ceil(e/2/4);re(e+t)}const t=te.length>Math.round(X*ne)?te.shift():Q++;return e[K].add(t),ie.set(t,e),e[fe].forEach((n=>{Ee(e,n,t)&&Me(n,t)})),e[$].set(t,new Set),t},se=(e,t)=>{if(e[K].has(t)){e[he].forEach((n=>{De(e,n,t)})),te.push(t),e[K].remove(t),e[$].delete(t),e[We].delete(e[$e].get(t)),e[$e].delete(t);for(let n=0;n<e[W].length;n++)e[W][n][t]=0}},le=(e,t)=>{if(void 0===t)throw new Error("bitECS - entity is undefined.");if(!e[K].has(t))throw new Error("bitECS - entity does not exist in the world.");return Array.from(e[$].get(t))},ue=(e,t)=>e[K].has(t);function ce(e){return()=>[e,"not"]}function de(e){return()=>[e,"changed"]}var he=Symbol("queries"),fe=Symbol("notQueries"),pe=Symbol("queryAny"),me=Symbol("queryAll"),ge=Symbol("queryNone"),ve=Symbol("queryMap"),ye=Symbol("$dirtyQueries"),be=Symbol("queryComponents"),we=(Symbol("enterQuery"),Symbol("exitQuery"),e=>t=>{t[ve].has(e)||Le(t,e);const n=t[ve].get(e),r=n.entered.dense.slice();return n.entered=T(),r}),xe=e=>t=>{t[ve].has(e)||Le(t,e);const n=t[ve].get(e),r=n.exited.dense.slice();return n.exited=T(),r},Le=(e,t)=>{const n=[],r=[],a=[];t[be].forEach((t=>{if("function"==typeof t){const[i,o]=t();e[Re].has(i)||Ue(e,i),"not"===o&&r.push(i),"changed"===o&&(a.push(i),n.push(i))}else e[Re].has(t)||Ue(e,t),n.push(t)}));const i=t=>e[Re].get(t),o=n.concat(r).map(i),s=T(),l=T(),u=T(),d=T(),h=o.map((e=>e.generationId)).reduce(((e,t)=>(e.includes(t)||e.push(t),e)),[]),f=(e,t)=>(e[t.generationId]||(e[t.generationId]=0),e[t.generationId]|=t.bitflag,e),p=n.map(i).reduce(f,{}),m=r.map(i).reduce(f,{}),g=o.reduce(f,{}),v=n.filter((e=>!e[y])).map((e=>Object.getOwnPropertySymbols(e).includes(c)?e[c]:[e])).reduce(((e,t)=>e.concat(t)),[]),b=Object.assign(s,{archetypes:[],changed:[],components:n,notComponents:r,changedComponents:a,allComponents:o,masks:p,notMasks:m,hasMasks:g,generations:h,flatProps:v,toRemove:l,entered:u,exited:d,shadows:[]});e[ve].set(t,b),e[he].add(b),o.forEach((e=>{e.queries.add(b)})),r.length&&e[fe].add(b);for(let t=0;t<Q;t++)e[K].has(t)&&Ee(e,b,t)&&Me(b,t)},ke=(e,t)=>{const n=Symbol(),r=e.flatProps[t];return S(r,n),e.shadows[t]=r[n],r[n]},Se=(e,t)=>e.concat(t),Ae=e=>t=>t.filter((t=>t.name===e().constructor.name)).reduce(Se),_e=(Ae((function(...e){return function(){return e}})),Ae((function(...e){return function(){return e}})),Ae((function(...e){return function(){return e}})),(...e)=>{let t;if(Array.isArray(e[0])&&(t=e[0]),void 0===t||void 0!==t[Re])return e=>e?e[Y]:t[Y];const n=function(e,t=!0){e[ve].has(n)||Le(e,n);const r=e[ve].get(n);return Te(e),r.changedComponents.length?((e,t)=>{t&&(e.changed=[]);const{flatProps:n,shadows:r}=e;for(let t=0;t<e.dense.length;t++){const a=e.dense[t];let i=!1;for(let t=0;t<n.length;t++){const o=n[t],s=r[t]||ke(e,t);if(ArrayBuffer.isView(o[a])){for(let e=0;e<o[a].length;e++)if(o[a][e]!==s[a][e]){i=!0;break}s[a].set(o[a])}else o[a]!==s[a]&&(i=!0,s[a]=o[a])}i&&e.changed.push(a)}return e.changed})(r,t):r.dense};return n[be]=t,n[pe]=void 0,n[me]=void 0,n[ge]=void 0,n}),Ee=(e,t,n)=>{const{masks:r,notMasks:a,generations:i}=t;for(let t=0;t<i.length;t++){const o=i[t],s=r[o],l=a[o],u=e[W][o][n];if(l&&0!=(u&l))return!1;if(s&&(u&s)!==s)return!1}return!0},Me=(e,t)=>{e.toRemove.remove(t),e.entered.add(t),e.add(t)},Ce=e=>{for(let t=e.toRemove.dense.length-1;t>=0;t--){const n=e.toRemove.dense[t];e.toRemove.remove(n),e.remove(n)}},Te=e=>{e[ye].size&&(e[ye].forEach(Ce),e[ye].clear())},De=(e,t,n)=>{t.has(n)&&!t.toRemove.has(n)&&(t.toRemove.add(n),e[ye].add(t),t.exited.add(n))},Pe=(e,t)=>{e[ve].get(t).changed=[]},Oe=(e,t)=>{const n=e[ve].get(t);e[he].delete(n),e[ve].delete(t)},Re=Symbol("componentMap"),Ze=[],Fe=e=>{Ze.forEach((t=>_(t,e)))},Ie=(e,t)=>{const n=((e,t)=>{const n=Symbol("store");if(!e||!Object.keys(e).length)return L[n]={[l]:t,[y]:!0,[d]:()=>L[n]},L[n];e=JSON.parse(JSON.stringify(e));const k={},S=e=>{const t=Object.keys(e);for(const n of t)C(e[n])?(k[e[n][0]]||(k[e[n][0]]=0),k[e[n][0]]+=e[n][1]):e[n]instanceof Object&&S(e[n])};S(e);const A={[l]:t,[u]:{},[p]:{},[s]:n,[m]:Object.keys(i).reduce(((e,t)=>({...e,[t]:0})),{}),[c]:[],[f]:k};if(e instanceof Object&&Object.keys(e).length){const s=(e,u)=>{if("string"==typeof e[u])e[u]=((e,t)=>{const n=t*i[e].BYTES_PER_ELEMENT,a=new ArrayBuffer(n),o=new i[e](a);return o[x]=e===r.eid,o})(e[u],t),e[u][d]=()=>L[n],A[c].push(e[u]);else if(C(e[u])){const[t,s]=e[u];e[u]=((e,t,n)=>{const s=e[l],u=Array(s).fill(0);u[h]=t,u[x]=t===r.eid;const c=e[m],d=n<=256?r.ui8:n<=65536?r.ui16:r.ui32;if(!n)throw new Error("bitECS - Must define component array length");if(!i[t])throw new Error(`bitECS - Invalid component array property type ${t}`);if(!e[p][t]){const n=e[f][t],r=new i[t](o(n*s));r[b]=a[d],r[w]=i[d].BYTES_PER_ELEMENT,e[p][t]=r}const y=c[t],L=y+s*n;c[t]=L,u[v]=e[p][t].subarray(y,L);for(let e=0;e<s;e++){const t=n*e,r=t+n;u[e]=u[v].subarray(t,r),u[e][b]=a[d],u[e][w]=i[d].BYTES_PER_ELEMENT,u[e][g]=!0}return u})(A,t,s),e[u][d]=()=>L[n],A[c].push(e[u])}else e[u]instanceof Object&&(e[u]=Object.keys(e[u]).reduce(s,e[u]));return e};return L[n]=Object.assign(Object.keys(e).reduce(s,e),A),L[n][d]=()=>L[n],L[n]}})(e,t||ee());return e&&Object.keys(e).length&&Ze.push(n),n},Ue=(e,t)=>{if(!t)throw new Error("bitECS - Cannot register null or undefined component");const n=new Set,r=new Set,a=new Set;e[he].forEach((e=>{e.allComponents.includes(t)&&n.add(e)})),e[Re].set(t,{generationId:e[W].length-1,bitflag:e[Ve],store:t,queries:n,notQueries:r,changedQueries:a}),t[l]<ee()&&_(t,ee()),(e=>{e[Ve]*=2,e[Ve]>=2**31&&(e[Ve]=1,e[W].push(new Uint32Array(e[Ge])))})(e)},Ne=(e,t)=>{t.forEach((t=>Ue(e,t)))},je=(e,t,n)=>{const r=e[Re].get(t);if(!r)return!1;const{generationId:a,bitflag:i}=r;return(e[W][a][n]&i)===i},ze=(e,t,n,r=!1)=>{if(void 0===n)throw new Error("bitECS - entity is undefined.");if(!e[K].has(n))throw new Error("bitECS - entity does not exist in the world.");if(e[Re].has(t)||Ue(e,t),je(e,t,n))return;const a=e[Re].get(t),{generationId:i,bitflag:o,queries:s,notQueries:l}=a;e[W][i][n]|=o,s.forEach((t=>{t.toRemove.has(n)&&t.toRemove.remove(n);const r=Ee(e,t,n);r&&Me(t,n),r||De(e,t,n)})),e[$].get(n).add(t),r&&E(t,n)},Be=(e,t,n,r=!0)=>{if(void 0===n)throw new Error("bitECS - entity is undefined.");if(!e[K].has(n))throw new Error("bitECS - entity does not exist in the world.");if(!je(e,t,n))return;const a=e[Re].get(t),{generationId:i,bitflag:o,queries:s}=a;e[W][i][n]&=~o,s.forEach((t=>{t.toRemove.has(n)&&t.toRemove.remove(n);const r=Ee(e,t,n);r&&Me(t,n),r||De(e,t,n)})),e[$].get(n).delete(t),r&&E(t,n)},Ge=Symbol("size"),He=Symbol("resizeThreshold"),Ve=Symbol("bitflag"),qe=Symbol("archetypes"),We=Symbol("localEntities"),$e=Symbol("localEntityLookup"),Ke=[],Ye=e=>{Ke.forEach((t=>{t[Ge]=e;for(let n=0;n<t[W].length;n++){const r=t[W][n];t[W][n]=k(r,e)}t[He]=t[Ge]-t[Ge]/5}))},Xe=(...e)=>{const t="object"==typeof e[0]?e[0]:{},n="number"==typeof e[0]?e[0]:"number"==typeof e[1]?e[1]:ee();return Qe(t,n),Ke.push(t),t},Qe=(e,t=ee())=>(e[Ge]=t,e[Y]&&e[Y].forEach((t=>se(e,t))),e[W]=[new Uint32Array(t)],e[$]=new Map,e[qe]=[],e[K]=T(),e[Y]=e[K].dense,e[Ve]=1,e[Re]=new Map,e[ve]=new Map,e[he]=new Set,e[fe]=new Set,e[ye]=new Set,e[We]=new Map,e[$e]=new Map,e),Je=e=>{Object.getOwnPropertySymbols(e).forEach((t=>{delete e[t]})),Object.keys(e).forEach((t=>{delete e[t]})),Ke.splice(Ke.indexOf(e),1)},et=e=>Array.from(e[Re].keys()),tt=e=>e[K].dense.slice(0),nt=e=>(t,...n)=>(e(t,...n),t),rt=(...e)=>t=>{let n=t;for(let t=0;t<e.length;t++)n=(0,e[t])(n);return n},at=r}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return i[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=i,e=[],s.O=function(t,n,r,a){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],a=e[c][2];for(var o=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(s.O).every((function(e){return s.O[e](n[l])}))?n.splice(l--,1):(o=!1,a<i&&(i=a));if(o){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,r,a]},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},s.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);s.r(a);var i={};t=t||[null,n({}),n([]),n(n)];for(var o=2&r&&e;"object"==typeof o&&!~t.indexOf(o);o=n(o))Object.getOwnPropertyNames(o).forEach((function(t){i[t]=function(){return e[t]}}));return i.default=function(){return e},s.d(a,i),a},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,n){return s.f[n](e,t),t}),[]))},s.u=function(e){return"assets/js/"+e+"-"+{30:"2a313bb0559ce099018b",56:"204d523e05a367e5b50f",76:"238c3c7c458f7e791f6e",116:"dfdfe9edbc5b94fe0d54",160:"514c0c64dcfe2c8f3ba1",188:"1c024b58d9a6b3a27b03",297:"17c0e39486a4d8e7312a",441:"21c791b89d435ef3c0ea",540:"e6439bd9fcf2f8a75222"}[e]+".js"},s.miniCssF=function(e){},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r={},a="hubs:",s.l=function(e,t,n,i){if(r[e])r[e].push(t);else{var o,l;if(void 0!==n)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==a+n){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",a+n),o.src=e),r[e]=[t];var h=function(t,n){o.onerror=o.onload=null,clearTimeout(f);var a=r[e];if(delete r[e],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},s.j=324,s.p="https://nztoverse-1-assets.nztoverse.com/hubs/",function(){var e={324:0};s.f.j=function(t,n){var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise((function(n,a){r=e[t]=[n,a]}));n.push(r[2]=a);var i=s.p+s.u(t),o=new Error;s.l(i,(function(n){if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,r[1](o)}}),"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,i=n[0],o=n[1],l=n[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(l)var c=l(s)}for(t&&t(n);u<i.length;u++)a=i[u],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},n=self.webpackChunkhubs=self.webpackChunkhubs||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var l=s.O(void 0,[495,542,119],(function(){return s(89587)}));l=s.O(l)}();
//# sourceMappingURL=scene-530f1da7e222e890caf3.js.map